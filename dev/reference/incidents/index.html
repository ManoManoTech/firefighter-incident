<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="FireFighter is ManoMano's incident management tool, built on top of Slack and Jira, with Django and Python."><link href=https://manomanotech.github.io/firefighter-incident/latest/reference/incidents/ rel=canonical><link href=../firefighter/ rel=prev><link href=../pagerduty/ rel=next><link rel=icon href=../../assets/FireFighterIcon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.14"><title>incidents - FireFighter Docs</title><link rel=stylesheet href=../../assets/stylesheets/main.342714a4.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../assets/_markdown_exec_pyodide.css><link rel=stylesheet href=../../assets/_mkdocstrings.css><link rel=stylesheet href=../../css/style.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><meta property=og:type content=website><meta property=og:title content="incidents - FireFighter Docs"><meta property=og:description content="FireFighter is ManoMano's incident management tool, built on top of Slack and Jira, with Django and Python."><meta property=og:image content=https://manomanotech.github.io/firefighter-incident/latest/assets/images/social/reference/incidents.png><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><meta content=https://manomanotech.github.io/firefighter-incident/latest/reference/incidents/ property=og:url><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="incidents - FireFighter Docs"><meta name=twitter:description content="FireFighter is ManoMano's incident management tool, built on top of Slack and Jira, with Django and Python."><meta name=twitter:image content=https://manomanotech.github.io/firefighter-incident/latest/assets/images/social/reference/incidents.png></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#firefighter.incidents class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> You're not viewing the latest version. <a href=../../..> <strong>Click here to go to latest.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="FireFighter Docs" class="md-header__button md-logo" aria-label="FireFighter Docs" data-md-component=logo> <img src=../../assets/FireFighterIcon.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> FireFighter Docs </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> incidents </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=red data-md-color-accent=red aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=red data-md-color-accent=red aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ManoManoTech/firefighter-incident title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ManoManoTech/firefighter-incident </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../usage/integrations/ class=md-tabs__link> Usage </a> </li> <li class=md-tabs__item> <a href=../../contributing/0000-README/ class=md-tabs__link> Development </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../api/ class=md-tabs__link> Reference </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="FireFighter Docs" class="md-nav__button md-logo" aria-label="FireFighter Docs" data-md-component=logo> <img src=../../assets/FireFighterIcon.png alt=logo> </a> FireFighter Docs </label> <div class=md-nav__source> <a href=https://github.com/ManoManoTech/firefighter-incident title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ManoManoTech/firefighter-incident </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1 id=__nav_1_label tabindex=0> <span class=md-ellipsis> Home </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../../roadmap/ class=md-nav__link> <span class=md-ellipsis> Roadmap </span> </a> </li> <li class=md-nav__item> <a href=../../CHANGELOG/ class=md-nav__link> <span class=md-ellipsis> Changelog </span> </a> </li> <li class=md-nav__item> <a href=../../CODE_OF_CONDUCT/ class=md-nav__link> <span class=md-ellipsis> Code of Conduct </span> </a> </li> <li class=md-nav__item> <a href=../../credits/ class=md-nav__link> <span class=md-ellipsis> Credits </span> </a> </li> <li class=md-nav__item> <a href=../../license/ class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> <li class=md-nav__item> <a href=../../FAQ/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Usage </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Usage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../usage/integrations/ class=md-nav__link> <span class=md-ellipsis> Integrations </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_2> <div class="md-nav__link md-nav__container"> <a href=../../deploy/00-intro/ class="md-nav__link "> <span class=md-ellipsis> Deployment </span> </a> <label class="md-nav__link " for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Deployment </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_2_1> <div class="md-nav__link md-nav__container"> <a href=../../deploy/XX-settings/ class="md-nav__link "> <span class=md-ellipsis> Settings </span> </a> <label class="md-nav__link " for=__nav_2_2_1 id=__nav_2_2_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_1> <span class="md-nav__icon md-icon"></span> Settings </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../deploy/XX-custom-settings/ class=md-nav__link> <span class=md-ellipsis> Custom settings </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../deploy/XX-auth/ class=md-nav__link> <span class=md-ellipsis> Authentication and authorization </span> </a> </li> <li class=md-nav__item> <a href=../../deploy/XX-i18n-l10/ class=md-nav__link> <span class=md-ellipsis> Translation and timezone </span> </a> </li> <li class=md-nav__item> <a href=../../deploy/XX-logs-traces/ class=md-nav__link> <span class=md-ellipsis> FireFighter Telemetry </span> </a> </li> <li class=md-nav__item> <a href=../../deploy/XX-tasks/ class=md-nav__link> <span class=md-ellipsis> Celery tasks </span> </a> </li> <li class=md-nav__item> <a href=../../deploy/XX-support-policy/ class=md-nav__link> <span class=md-ellipsis> Compatibility and Support Policy </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <div class="md-nav__link md-nav__container"> <a href=../../contributing/0000-README/ class="md-nav__link "> <span class=md-ellipsis> Development </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Development </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> Local Development </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> Local Development </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../contributing/0000-prerequisites/ class=md-nav__link> <span class=md-ellipsis> 0. Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=../../contributing/0001-setup-environment/ class=md-nav__link> <span class=md-ellipsis> 1. Setup environment & app </span> </a> </li> <li class=md-nav__item> <a href=../../contributing/0002-setup-slack-app/ class=md-nav__link> <span class=md-ellipsis> 2. Configure Slack </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../contributing/development/ class=md-nav__link> <span class=md-ellipsis> Developper Guide & Tools </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class=md-ellipsis> Architecture & Design </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Architecture & Design </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../contributing/0010-general_architecture/ class=md-nav__link> <span class=md-ellipsis> Architecture Overview </span> </a> </li> <li class=md-nav__item> <a href=../../contributing/ui/ class=md-nav__link> <span class=md-ellipsis> UI Guidelines </span> </a> </li> <li class=md-nav__item> <a href=../../contributing/ux/ class=md-nav__link> <span class=md-ellipsis> UX Guidelines </span> </a> </li> <li class=md-nav__item> <a href=../../contributing/documentation/ class=md-nav__link> <span class=md-ellipsis> Docs Guidelines </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../contributing/faq/ class=md-nav__link> <span class=md-ellipsis> Developper FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_1 checked> <label class=md-nav__link for=__nav_4_1 id=__nav_4_1_label tabindex=0> <span class=md-ellipsis> Django Apps </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_1_label aria-expanded=true> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> Django Apps </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../api/ class=md-nav__link> <span class=md-ellipsis> api </span> </a> </li> <li class=md-nav__item> <a href=../confluence/ class=md-nav__link> <span class=md-ellipsis> confluence </span> </a> </li> <li class=md-nav__item> <a href=../firefighter/ class=md-nav__link> <span class=md-ellipsis> firefighter </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> incidents </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> incidents </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#firefighter.incidents.admin class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;admin </span> </a> <nav class=md-nav aria-label= admin> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.admin.EnvironmentAdmin class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;EnvironmentAdmin </span> </a> <nav class=md-nav aria-label= EnvironmentAdmin> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.admin.EnvironmentAdmin.get_readonly_fields class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_readonly_fields </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.admin.IncidentAdmin class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IncidentAdmin </span> </a> <nav class=md-nav aria-label= IncidentAdmin> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.admin.IncidentAdmin.compute_and_purge_metrics class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compute_and_purge_metrics </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.admin.IncidentAdmin.send_message class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;send_message </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.admin.IncidentRoleTypeAdmin class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IncidentRoleTypeAdmin </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.forms class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;forms </span> </a> <nav class=md-nav aria-label= forms> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.forms.select_impact class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;select_impact </span> </a> <nav class=md-nav aria-label= select_impact> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.forms.select_impact.SelectImpactForm class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SelectImpactForm </span> </a> <nav class=md-nav aria-label= SelectImpactForm> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.forms.select_impact.SelectImpactForm.business_impact_new class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;business_impact_new </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.forms.select_impact.SelectImpactForm.save class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;save </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.forms.select_impact.SelectImpactForm.suggest_priority_from_impact class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;suggest_priority_from_impact </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.forms.update_key_events class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;update_key_events </span> </a> <nav class=md-nav aria-label= update_key_events> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.forms.update_key_events.IncidentUpdateKeyEventsForm class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IncidentUpdateKeyEventsForm </span> </a> <nav class=md-nav aria-label= IncidentUpdateKeyEventsForm> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.forms.update_key_events.IncidentUpdateKeyEventsForm.get_milestones_with_data class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_milestones_with_data </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.forms.update_key_events.IncidentUpdateKeyEventsForm.save class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;save </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.forms.update_roles class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;update_roles </span> </a> <nav class=md-nav aria-label= update_roles> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.forms.update_roles.IncidentUpdateRolesForm class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IncidentUpdateRolesForm </span> </a> <nav class=md-nav aria-label= IncidentUpdateRolesForm> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.forms.update_roles.IncidentUpdateRolesForm.save class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;save </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.forms.utils class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;utils </span> </a> <nav class=md-nav aria-label= utils> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.forms.utils.EnumChoiceField class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;EnumChoiceField </span> </a> <nav class=md-nav aria-label= EnumChoiceField> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.forms.utils.EnumChoiceField.to_python class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;to_python </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.menus class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;menus </span> </a> <nav class=md-nav aria-label= menus> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.menus.user_details_url class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;user_details_url </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.migrations class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;migrations </span> </a> <nav class=md-nav aria-label= migrations> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.migrations.0006_update_group_names class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;0006_update_group_names </span> </a> <nav class=md-nav aria-label= 0006_update_group_names> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.migrations.0006_update_group_names.get_group_mappings class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_group_mappings </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.migrations.0006_update_group_names.get_new_groups class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_new_groups </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.migrations.0007_update_component_name class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;0007_update_component_name </span> </a> <nav class=md-nav aria-label= 0007_update_component_name> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.migrations.0007_update_component_name.get_component_mappings class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_component_mappings </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.migrations.0008_add_new_components class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;0008_add_new_components </span> </a> <nav class=md-nav aria-label= 0008_add_new_components> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.migrations.0008_add_new_components.get_new_components class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_new_components </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;models </span> </a> <nav class=md-nav aria-label= models> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.component class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;component </span> </a> <nav class=md-nav aria-label= component> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.component.ComponentFilterSet class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ComponentFilterSet </span> </a> <nav class=md-nav aria-label= ComponentFilterSet> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.component.ComponentFilterSet.component_search class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;component_search </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.component.ComponentManager class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ComponentManager </span> </a> <nav class=md-nav aria-label= ComponentManager> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.component.ComponentManager.queryset_with_mtbf class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;queryset_with_mtbf </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.group class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;group </span> </a> <nav class=md-nav aria-label= group> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.group.Group class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Group </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.impact class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;impact </span> </a> <nav class=md-nav aria-label= impact> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.impact.Impact class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Impact </span> </a> <nav class=md-nav aria-label= Impact> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.impact.Impact.clean class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;clean </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;incident </span> </a> <nav class=md-nav aria-label= incident> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident.Incident class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Incident </span> </a> <nav class=md-nav aria-label= Incident> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident.Incident.status_page_url class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;status_page_url </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident.Incident.build_invite_list class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;build_invite_list </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident.Incident.compute_metrics class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compute_metrics </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident.Incident.missing_milestones class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;missing_milestones </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident.Incident.update_roles class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_roles </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident.IncidentFilterSet class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IncidentFilterSet </span> </a> <nav class=md-nav aria-label= IncidentFilterSet> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident.IncidentFilterSet.incident_search class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;incident_search </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident.IncidentManager class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IncidentManager </span> </a> <nav class=md-nav aria-label= IncidentManager> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident.IncidentManager.declare class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;declare </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident.IncidentManager.search class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;search </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident.component_filter_choices_queryset class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;component_filter_choices_queryset </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident_cost class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;incident_cost </span> </a> <nav class=md-nav aria-label= incident_cost> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident_cost.IncidentCost class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IncidentCost </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident_cost_type class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;incident_cost_type </span> </a> <nav class=md-nav aria-label= incident_cost_type> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident_cost_type.IncidentCostType class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IncidentCostType </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident_update class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;incident_update </span> </a> <nav class=md-nav aria-label= incident_update> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident_update.IncidentUpdate class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IncidentUpdate </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident_update.set_event_ts class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;set_event_ts </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.milestone_type class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;milestone_type </span> </a> <nav class=md-nav aria-label= milestone_type> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.milestone_type.MilestoneType class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MilestoneType </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.priority class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;priority </span> </a> <nav class=md-nav aria-label= priority> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.priority.Priority class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Priority </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.user class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;user </span> </a> <nav class=md-nav aria-label= user> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.user.User class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;User </span> </a> <nav class=md-nav aria-label= User> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.user.User.full_name class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;full_name </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.signals class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;signals </span> </a> <nav class=md-nav aria-label= signals> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.signals.create_incident_conversation class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;create_incident_conversation </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.signals.get_invites class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;get_invites </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.signals.incident_closed class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;incident_closed </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.signals.incident_created class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;incident_created </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.signals.incident_key_events_updated class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;incident_key_events_updated </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.signals.incident_updated class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;incident_updated </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.signals.postmortem_created class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;postmortem_created </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.tasks class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;tasks </span> </a> <nav class=md-nav aria-label= tasks> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.tasks.updateoncall class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;updateoncall </span> </a> <nav class=md-nav aria-label= updateoncall> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.tasks.updateoncall.update_oncall class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;update_oncall </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.tasks.updateoncall.update_oncall_slack_topic class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;update_oncall_slack_topic </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.tasks.updateoncall.update_oncall_views class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;update_oncall_views </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;views </span> </a> <nav class=md-nav aria-label= views> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.components class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;components </span> </a> <nav class=md-nav aria-label= components> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.components.list class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;list </span> </a> <nav class=md-nav aria-label= list> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.components.list.ComponentsViewList class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ComponentsViewList </span> </a> <nav class=md-nav aria-label= ComponentsViewList> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.components.list.ComponentsViewList.get_context_data class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_context_data </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.date_filter class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;date_filter </span> </a> <nav class=md-nav aria-label= date_filter> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.date_filter.get_date_range_from_special_date class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_date_range_from_special_date </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.date_filter.parse_moment class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;parse_moment </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.date_utils class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;date_utils </span> </a> <nav class=md-nav aria-label= date_utils> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.date_utils.get_bounds_from_calendar_year class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_bounds_from_calendar_year </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.date_utils.get_bounds_from_year class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_bounds_from_year </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.errors class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;errors </span> </a> <nav class=md-nav aria-label= errors> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.errors.bad_request class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;bad_request </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.errors.page_not_found class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;page_not_found </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.errors.permission_denied class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;permission_denied </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.errors.server_error class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;server_error </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.users class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;users </span> </a> <nav class=md-nav aria-label= users> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.users.details class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;details </span> </a> <nav class=md-nav aria-label= details> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.users.details.UserDetailView class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;UserDetailView </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.views class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;views </span> </a> <nav class=md-nav aria-label= views> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.views.DashboardView class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DashboardView </span> </a> <nav class=md-nav aria-label= DashboardView> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.views.DashboardView.get_context_data class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_context_data </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.views.IncidentListView class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IncidentListView </span> </a> <nav class=md-nav aria-label= IncidentListView> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.views.IncidentListView.get_context_data class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_context_data </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.views.IncidentStatisticsView class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IncidentStatisticsView </span> </a> <nav class=md-nav aria-label= IncidentStatisticsView> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.views.IncidentStatisticsView.get_context_data class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_context_data </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.views.IncidentUpdateKeyEventsView class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IncidentUpdateKeyEventsView </span> </a> <nav class=md-nav aria-label= IncidentUpdateKeyEventsView> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.views.IncidentUpdateKeyEventsView.get_form class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_form </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.views.ProcessAfterResponse class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ProcessAfterResponse </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../pagerduty/ class=md-nav__link> <span class=md-ellipsis> pagerduty </span> </a> </li> <li class=md-nav__item> <a href=../slack/ class=md-nav__link> <span class=md-ellipsis> slack </span> </a> </li> <li class=md-nav__item> <a href=../jira_app/ class=md-nav__link> <span class=md-ellipsis> jira_app </span> </a> </li> <li class=md-nav__item> <a href=../raid/ class=md-nav__link> <span class=md-ellipsis> raid </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../logging/ class=md-nav__link> <span class=md-ellipsis> logging </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#firefighter.incidents.admin class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;admin </span> </a> <nav class=md-nav aria-label= admin> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.admin.EnvironmentAdmin class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;EnvironmentAdmin </span> </a> <nav class=md-nav aria-label= EnvironmentAdmin> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.admin.EnvironmentAdmin.get_readonly_fields class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_readonly_fields </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.admin.IncidentAdmin class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IncidentAdmin </span> </a> <nav class=md-nav aria-label= IncidentAdmin> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.admin.IncidentAdmin.compute_and_purge_metrics class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compute_and_purge_metrics </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.admin.IncidentAdmin.send_message class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;send_message </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.admin.IncidentRoleTypeAdmin class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IncidentRoleTypeAdmin </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.forms class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;forms </span> </a> <nav class=md-nav aria-label= forms> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.forms.select_impact class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;select_impact </span> </a> <nav class=md-nav aria-label= select_impact> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.forms.select_impact.SelectImpactForm class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;SelectImpactForm </span> </a> <nav class=md-nav aria-label= SelectImpactForm> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.forms.select_impact.SelectImpactForm.business_impact_new class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;business_impact_new </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.forms.select_impact.SelectImpactForm.save class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;save </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.forms.select_impact.SelectImpactForm.suggest_priority_from_impact class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;suggest_priority_from_impact </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.forms.update_key_events class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;update_key_events </span> </a> <nav class=md-nav aria-label= update_key_events> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.forms.update_key_events.IncidentUpdateKeyEventsForm class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IncidentUpdateKeyEventsForm </span> </a> <nav class=md-nav aria-label= IncidentUpdateKeyEventsForm> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.forms.update_key_events.IncidentUpdateKeyEventsForm.get_milestones_with_data class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_milestones_with_data </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.forms.update_key_events.IncidentUpdateKeyEventsForm.save class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;save </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.forms.update_roles class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;update_roles </span> </a> <nav class=md-nav aria-label= update_roles> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.forms.update_roles.IncidentUpdateRolesForm class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IncidentUpdateRolesForm </span> </a> <nav class=md-nav aria-label= IncidentUpdateRolesForm> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.forms.update_roles.IncidentUpdateRolesForm.save class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;save </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.forms.utils class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;utils </span> </a> <nav class=md-nav aria-label= utils> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.forms.utils.EnumChoiceField class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;EnumChoiceField </span> </a> <nav class=md-nav aria-label= EnumChoiceField> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.forms.utils.EnumChoiceField.to_python class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;to_python </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.menus class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;menus </span> </a> <nav class=md-nav aria-label= menus> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.menus.user_details_url class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;user_details_url </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.migrations class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;migrations </span> </a> <nav class=md-nav aria-label= migrations> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.migrations.0006_update_group_names class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;0006_update_group_names </span> </a> <nav class=md-nav aria-label= 0006_update_group_names> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.migrations.0006_update_group_names.get_group_mappings class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_group_mappings </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.migrations.0006_update_group_names.get_new_groups class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_new_groups </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.migrations.0007_update_component_name class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;0007_update_component_name </span> </a> <nav class=md-nav aria-label= 0007_update_component_name> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.migrations.0007_update_component_name.get_component_mappings class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_component_mappings </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.migrations.0008_add_new_components class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;0008_add_new_components </span> </a> <nav class=md-nav aria-label= 0008_add_new_components> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.migrations.0008_add_new_components.get_new_components class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_new_components </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;models </span> </a> <nav class=md-nav aria-label= models> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.component class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;component </span> </a> <nav class=md-nav aria-label= component> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.component.ComponentFilterSet class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ComponentFilterSet </span> </a> <nav class=md-nav aria-label= ComponentFilterSet> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.component.ComponentFilterSet.component_search class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;component_search </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.component.ComponentManager class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ComponentManager </span> </a> <nav class=md-nav aria-label= ComponentManager> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.component.ComponentManager.queryset_with_mtbf class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;queryset_with_mtbf </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.group class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;group </span> </a> <nav class=md-nav aria-label= group> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.group.Group class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Group </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.impact class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;impact </span> </a> <nav class=md-nav aria-label= impact> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.impact.Impact class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Impact </span> </a> <nav class=md-nav aria-label= Impact> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.impact.Impact.clean class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;clean </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;incident </span> </a> <nav class=md-nav aria-label= incident> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident.Incident class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Incident </span> </a> <nav class=md-nav aria-label= Incident> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident.Incident.status_page_url class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;status_page_url </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident.Incident.build_invite_list class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;build_invite_list </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident.Incident.compute_metrics class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compute_metrics </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident.Incident.missing_milestones class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;missing_milestones </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident.Incident.update_roles class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_roles </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident.IncidentFilterSet class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IncidentFilterSet </span> </a> <nav class=md-nav aria-label= IncidentFilterSet> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident.IncidentFilterSet.incident_search class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;incident_search </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident.IncidentManager class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IncidentManager </span> </a> <nav class=md-nav aria-label= IncidentManager> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident.IncidentManager.declare class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;declare </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident.IncidentManager.search class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;search </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident.component_filter_choices_queryset class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;component_filter_choices_queryset </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident_cost class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;incident_cost </span> </a> <nav class=md-nav aria-label= incident_cost> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident_cost.IncidentCost class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IncidentCost </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident_cost_type class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;incident_cost_type </span> </a> <nav class=md-nav aria-label= incident_cost_type> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident_cost_type.IncidentCostType class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IncidentCostType </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident_update class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;incident_update </span> </a> <nav class=md-nav aria-label= incident_update> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident_update.IncidentUpdate class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IncidentUpdate </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.incident_update.set_event_ts class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;set_event_ts </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.milestone_type class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;milestone_type </span> </a> <nav class=md-nav aria-label= milestone_type> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.milestone_type.MilestoneType class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;MilestoneType </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.priority class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;priority </span> </a> <nav class=md-nav aria-label= priority> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.priority.Priority class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Priority </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.models.user class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;user </span> </a> <nav class=md-nav aria-label= user> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.user.User class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;User </span> </a> <nav class=md-nav aria-label= User> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.models.user.User.full_name class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;full_name </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.signals class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;signals </span> </a> <nav class=md-nav aria-label= signals> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.signals.create_incident_conversation class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;create_incident_conversation </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.signals.get_invites class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;get_invites </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.signals.incident_closed class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;incident_closed </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.signals.incident_created class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;incident_created </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.signals.incident_key_events_updated class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;incident_key_events_updated </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.signals.incident_updated class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;incident_updated </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.signals.postmortem_created class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;postmortem_created </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.tasks class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;tasks </span> </a> <nav class=md-nav aria-label= tasks> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.tasks.updateoncall class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;updateoncall </span> </a> <nav class=md-nav aria-label= updateoncall> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.tasks.updateoncall.update_oncall class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;update_oncall </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.tasks.updateoncall.update_oncall_slack_topic class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;update_oncall_slack_topic </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.tasks.updateoncall.update_oncall_views class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;update_oncall_views </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;views </span> </a> <nav class=md-nav aria-label= views> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.components class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;components </span> </a> <nav class=md-nav aria-label= components> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.components.list class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;list </span> </a> <nav class=md-nav aria-label= list> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.components.list.ComponentsViewList class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ComponentsViewList </span> </a> <nav class=md-nav aria-label= ComponentsViewList> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.components.list.ComponentsViewList.get_context_data class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_context_data </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.date_filter class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;date_filter </span> </a> <nav class=md-nav aria-label= date_filter> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.date_filter.get_date_range_from_special_date class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_date_range_from_special_date </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.date_filter.parse_moment class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;parse_moment </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.date_utils class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;date_utils </span> </a> <nav class=md-nav aria-label= date_utils> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.date_utils.get_bounds_from_calendar_year class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_bounds_from_calendar_year </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.date_utils.get_bounds_from_year class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;get_bounds_from_year </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.errors class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;errors </span> </a> <nav class=md-nav aria-label= errors> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.errors.bad_request class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;bad_request </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.errors.page_not_found class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;page_not_found </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.errors.permission_denied class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;permission_denied </span> </a> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.errors.server_error class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;server_error </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.users class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;users </span> </a> <nav class=md-nav aria-label= users> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.users.details class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;details </span> </a> <nav class=md-nav aria-label= details> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.users.details.UserDetailView class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;UserDetailView </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.views class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;views </span> </a> <nav class=md-nav aria-label= views> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.views.DashboardView class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;DashboardView </span> </a> <nav class=md-nav aria-label= DashboardView> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.views.DashboardView.get_context_data class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_context_data </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.views.IncidentListView class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IncidentListView </span> </a> <nav class=md-nav aria-label= IncidentListView> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.views.IncidentListView.get_context_data class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_context_data </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.views.IncidentStatisticsView class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IncidentStatisticsView </span> </a> <nav class=md-nav aria-label= IncidentStatisticsView> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.views.IncidentStatisticsView.get_context_data class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_context_data </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.views.IncidentUpdateKeyEventsView class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;IncidentUpdateKeyEventsView </span> </a> <nav class=md-nav aria-label= IncidentUpdateKeyEventsView> <ul class=md-nav__list> <li class=md-nav__item> <a href=#firefighter.incidents.views.views.IncidentUpdateKeyEventsView.get_form class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_form </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#firefighter.incidents.views.views.ProcessAfterResponse class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;ProcessAfterResponse </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/ManoManoTech/firefighter-incident/edit/main/docs/reference/incidents.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <a href=https://github.com/ManoManoTech/firefighter-incident/raw/main/docs/reference/incidents.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg> </a> <div class="doc doc-object doc-module"> <h1 id=firefighter.incidents class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">incidents</span> <a href=#firefighter.incidents class=headerlink title="Permanent link">¤</a></h1> <div class="doc doc-contents first"> <p><span class=doc-section-title>Modules:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            admin (firefighter.incidents.admin)" href=#firefighter.incidents.admin>admin</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            forms (firefighter.incidents.forms)" href=#firefighter.incidents.forms>forms</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            menus (firefighter.incidents.menus)" href=#firefighter.incidents.menus>menus</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            migrations (firefighter.incidents.migrations)" href=#firefighter.incidents.migrations>migrations</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            models (firefighter.incidents.models)" href=#firefighter.incidents.models>models</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            signals (firefighter.incidents.signals)" href=#firefighter.incidents.signals>signals</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            tasks (firefighter.incidents.tasks)" href=#firefighter.incidents.tasks>tasks</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            views (firefighter.incidents.views)" href=#firefighter.incidents.views>views</a></code></b> – <div class=doc-md-description> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-module"> <h2 id=firefighter.incidents.admin class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">admin</span> <a href=#firefighter.incidents.admin class=headerlink title="Permanent link">¤</a></h2> <div class="doc doc-contents "> <p><span class=doc-section-title>Classes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            EnvironmentAdmin (firefighter.incidents.admin.EnvironmentAdmin)" href=#firefighter.incidents.admin.EnvironmentAdmin>EnvironmentAdmin</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            IncidentAdmin (firefighter.incidents.admin.IncidentAdmin)" href=#firefighter.incidents.admin.IncidentAdmin>IncidentAdmin</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            IncidentRoleTypeAdmin (firefighter.incidents.admin.IncidentRoleTypeAdmin)" href=#firefighter.incidents.admin.IncidentRoleTypeAdmin>IncidentRoleTypeAdmin</a></code></b> – <div class=doc-md-description> <p>IncidentRoleTypes are fixed at the moment (only commander and communication lead).</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h3 id=firefighter.incidents.admin.EnvironmentAdmin class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">EnvironmentAdmin</span> <a href=#firefighter.incidents.admin.EnvironmentAdmin class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-external" title=django.contrib.admin.ModelAdmin href=https://docs.djangoproject.com/en/4.2/ref/contrib/admin/#django.contrib.admin.ModelAdmin>ModelAdmin</a>[<span title=firefighter.incidents.models.Environment>Environment</span>]</code></p> <p><span class=doc-section-title>Methods:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            get_readonly_fields (firefighter.incidents.admin.EnvironmentAdmin.get_readonly_fields)" href=#firefighter.incidents.admin.EnvironmentAdmin.get_readonly_fields>get_readonly_fields</a></code></b> – <div class=doc-md-description> <p>Deny changing the value of an existing object.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h4 id=firefighter.incidents.admin.EnvironmentAdmin.get_readonly_fields class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_readonly_fields</span> <a href=#firefighter.incidents.admin.EnvironmentAdmin.get_readonly_fields class=headerlink title="Permanent link">¤</a></h4> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_readonly_fields</span><span class=p>(</span><span class=n>request</span><span class=p>:</span> <span class=n><span title=django.http.request.HttpRequest>HttpRequest</span></span><span class=p>,</span> <span class=n>obj</span><span class=p>:</span> <span class=n><span title=firefighter.incidents.models.Environment>Environment</span></span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><span title=django.utils.datastructures._ListOrTuple>_ListOrTuple</span></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>Deny changing the value of an existing object.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/admin.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-166>166</a></span>
<span class=normal><a href=#__codelineno-0-167>167</a></span>
<span class=normal><a href=#__codelineno-0-168>168</a></span>
<span class=normal><a href=#__codelineno-0-169>169</a></span>
<span class=normal><a href=#__codelineno-0-170>170</a></span>
<span class=normal><a href=#__codelineno-0-171>171</a></span>
<span class=normal><a href=#__codelineno-0-172>172</a></span>
<span class=normal><a href=#__codelineno-0-173>173</a></span>
<span class=normal><a href=#__codelineno-0-174>174</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-166 name=__codelineno-0-166></a><span class=k>def</span><span class=w> </span><span class=nf>get_readonly_fields</span><span class=p>(</span>
<a id=__codelineno-0-167 name=__codelineno-0-167></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-168 name=__codelineno-0-168></a>    <span class=n>request</span><span class=p>:</span> <span class=n>HttpRequest</span><span class=p>,</span>  <span class=c1># noqa: ARG002</span>
<a id=__codelineno-0-169 name=__codelineno-0-169></a>    <span class=n>obj</span><span class=p>:</span> <span class=n>Environment</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-170 name=__codelineno-0-170></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>_ListOrTuple</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<a id=__codelineno-0-171 name=__codelineno-0-171></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Deny changing the value of an existing object.&quot;&quot;&quot;</span>
<a id=__codelineno-0-172 name=__codelineno-0-172></a>    <span class=k>if</span> <span class=n>obj</span><span class=p>:</span>  <span class=c1># editing an existing object</span>
<a id=__codelineno-0-173 name=__codelineno-0-173></a>        <span class=k>return</span> <span class=o>*</span><span class=bp>self</span><span class=o>.</span><span class=n>readonly_fields</span><span class=p>,</span> <span class=s2>&quot;value&quot;</span>
<a id=__codelineno-0-174 name=__codelineno-0-174></a>    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>readonly_fields</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=firefighter.incidents.admin.IncidentAdmin class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">IncidentAdmin</span> <a href=#firefighter.incidents.admin.IncidentAdmin class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-external" title=django.contrib.admin.ModelAdmin href=https://docs.djangoproject.com/en/4.2/ref/contrib/admin/#django.contrib.admin.ModelAdmin>ModelAdmin</a>[<a class="autorefs autorefs-internal" title="            Incident (firefighter.incidents.models.Incident)" href=#firefighter.incidents.models.incident.Incident>Incident</a>]</code></p> <p><span class=doc-section-title>Methods:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            compute_and_purge_metrics (firefighter.incidents.admin.IncidentAdmin.compute_and_purge_metrics)" href=#firefighter.incidents.admin.IncidentAdmin.compute_and_purge_metrics>compute_and_purge_metrics</a></code></b> – <div class=doc-md-description> <p>Will compute metrics for selected incidents and delete metrics that can no longer be computed.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            send_message (firefighter.incidents.admin.IncidentAdmin.send_message)" href=#firefighter.incidents.admin.IncidentAdmin.send_message>send_message</a></code></b> – <div class=doc-md-description> <p>Action to send a message in selected channels.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h4 id=firefighter.incidents.admin.IncidentAdmin.compute_and_purge_metrics class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">compute_and_purge_metrics</span> <a href=#firefighter.incidents.admin.IncidentAdmin.compute_and_purge_metrics class=headerlink title="Permanent link">¤</a></h4> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>compute_and_purge_metrics</span><span class=p>(</span><span class=n>request</span><span class=p>:</span> <span class=n><span title=django.http.request.HttpRequest>HttpRequest</span></span><span class=p>,</span> <span class=n>queryset</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=django.db.models.query.QuerySet href=https://docs.djangoproject.com/en/4.2/ref/models/querysets/#django.db.models.query.QuerySet>QuerySet</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title="            Incident (firefighter.incidents.models.Incident)" href=#firefighter.incidents.models.incident.Incident>Incident</a></span><span class=p>])</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Will compute metrics for selected incidents and delete metrics that can no longer be computed.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/admin.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-275>275</a></span>
<span class=normal><a href=#__codelineno-0-276>276</a></span>
<span class=normal><a href=#__codelineno-0-277>277</a></span>
<span class=normal><a href=#__codelineno-0-278>278</a></span>
<span class=normal><a href=#__codelineno-0-279>279</a></span>
<span class=normal><a href=#__codelineno-0-280>280</a></span>
<span class=normal><a href=#__codelineno-0-281>281</a></span>
<span class=normal><a href=#__codelineno-0-282>282</a></span>
<span class=normal><a href=#__codelineno-0-283>283</a></span>
<span class=normal><a href=#__codelineno-0-284>284</a></span>
<span class=normal><a href=#__codelineno-0-285>285</a></span>
<span class=normal><a href=#__codelineno-0-286>286</a></span>
<span class=normal><a href=#__codelineno-0-287>287</a></span>
<span class=normal><a href=#__codelineno-0-288>288</a></span>
<span class=normal><a href=#__codelineno-0-289>289</a></span>
<span class=normal><a href=#__codelineno-0-290>290</a></span>
<span class=normal><a href=#__codelineno-0-291>291</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-275 name=__codelineno-0-275></a><span class=nd>@action</span><span class=p>(</span><span class=n>description</span><span class=o>=</span><span class=n>_</span><span class=p>(</span><span class=s2>&quot;Compute and purge metrics from milestones&quot;</span><span class=p>))</span>
<a id=__codelineno-0-276 name=__codelineno-0-276></a><span class=k>def</span><span class=w> </span><span class=nf>compute_and_purge_metrics</span><span class=p>(</span>
<a id=__codelineno-0-277 name=__codelineno-0-277></a>    <span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>:</span> <span class=n>HttpRequest</span><span class=p>,</span> <span class=n>queryset</span><span class=p>:</span> <span class=n>QuerySet</span><span class=p>[</span><span class=n>Incident</span><span class=p>]</span>
<a id=__codelineno-0-278 name=__codelineno-0-278></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-279 name=__codelineno-0-279></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Will compute metrics for selected incidents and delete metrics that can no longer be computed.&quot;&quot;&quot;</span>
<a id=__codelineno-0-280 name=__codelineno-0-280></a>    <span class=k>for</span> <span class=n>incident</span> <span class=ow>in</span> <span class=n>queryset</span><span class=p>:</span>
<a id=__codelineno-0-281 name=__codelineno-0-281></a>        <span class=n>incident</span><span class=o>.</span><span class=n>compute_metrics</span><span class=p>(</span><span class=n>purge</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<a id=__codelineno-0-282 name=__codelineno-0-282></a>    <span class=bp>self</span><span class=o>.</span><span class=n>message_user</span><span class=p>(</span>
<a id=__codelineno-0-283 name=__codelineno-0-283></a>        <span class=n>request</span><span class=p>,</span>
<a id=__codelineno-0-284 name=__codelineno-0-284></a>        <span class=n>ngettext</span><span class=p>(</span>
<a id=__codelineno-0-285 name=__codelineno-0-285></a>            <span class=s2>&quot;Computed/purged metrics for </span><span class=si>%d</span><span class=s2> incident.&quot;</span><span class=p>,</span>
<a id=__codelineno-0-286 name=__codelineno-0-286></a>            <span class=s2>&quot;Computed/purged metrics for </span><span class=si>%d</span><span class=s2> incidents.&quot;</span><span class=p>,</span>
<a id=__codelineno-0-287 name=__codelineno-0-287></a>            <span class=nb>len</span><span class=p>(</span><span class=n>queryset</span><span class=p>),</span>
<a id=__codelineno-0-288 name=__codelineno-0-288></a>        <span class=p>)</span>
<a id=__codelineno-0-289 name=__codelineno-0-289></a>        <span class=o>%</span> <span class=nb>len</span><span class=p>(</span><span class=n>queryset</span><span class=p>),</span>
<a id=__codelineno-0-290 name=__codelineno-0-290></a>        <span class=n>constants</span><span class=o>.</span><span class=n>SUCCESS</span><span class=p>,</span>
<a id=__codelineno-0-291 name=__codelineno-0-291></a>    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=firefighter.incidents.admin.IncidentAdmin.send_message class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">send_message</span> <a href=#firefighter.incidents.admin.IncidentAdmin.send_message class=headerlink title="Permanent link">¤</a></h4> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>send_message</span><span class=p>(</span><span class=n>request</span><span class=p>:</span> <span class=n><span title=django.http.request.HttpRequest>HttpRequest</span></span><span class=p>,</span> <span class=n>queryset</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=django.db.models.query.QuerySet href=https://docs.djangoproject.com/en/4.2/ref/models/querysets/#django.db.models.query.QuerySet>QuerySet</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title="            Incident (firefighter.incidents.models.Incident)" href=#firefighter.incidents.models.incident.Incident>Incident</a></span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" title=django.template.response.TemplateResponse href=https://docs.djangoproject.com/en/4.2/ref/template-response/#django.template.response.TemplateResponse>TemplateResponse</a></span> <span class=o>|</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Action to send a message in selected channels. This action first displays a confirmation page to enter the message. Next, it sends the message on all selected objects and redirects back to the change list (other fn).</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/admin.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-293>293</a></span>
<span class=normal><a href=#__codelineno-0-294>294</a></span>
<span class=normal><a href=#__codelineno-0-295>295</a></span>
<span class=normal><a href=#__codelineno-0-296>296</a></span>
<span class=normal><a href=#__codelineno-0-297>297</a></span>
<span class=normal><a href=#__codelineno-0-298>298</a></span>
<span class=normal><a href=#__codelineno-0-299>299</a></span>
<span class=normal><a href=#__codelineno-0-300>300</a></span>
<span class=normal><a href=#__codelineno-0-301>301</a></span>
<span class=normal><a href=#__codelineno-0-302>302</a></span>
<span class=normal><a href=#__codelineno-0-303>303</a></span>
<span class=normal><a href=#__codelineno-0-304>304</a></span>
<span class=normal><a href=#__codelineno-0-305>305</a></span>
<span class=normal><a href=#__codelineno-0-306>306</a></span>
<span class=normal><a href=#__codelineno-0-307>307</a></span>
<span class=normal><a href=#__codelineno-0-308>308</a></span>
<span class=normal><a href=#__codelineno-0-309>309</a></span>
<span class=normal><a href=#__codelineno-0-310>310</a></span>
<span class=normal><a href=#__codelineno-0-311>311</a></span>
<span class=normal><a href=#__codelineno-0-312>312</a></span>
<span class=normal><a href=#__codelineno-0-313>313</a></span>
<span class=normal><a href=#__codelineno-0-314>314</a></span>
<span class=normal><a href=#__codelineno-0-315>315</a></span>
<span class=normal><a href=#__codelineno-0-316>316</a></span>
<span class=normal><a href=#__codelineno-0-317>317</a></span>
<span class=normal><a href=#__codelineno-0-318>318</a></span>
<span class=normal><a href=#__codelineno-0-319>319</a></span>
<span class=normal><a href=#__codelineno-0-320>320</a></span>
<span class=normal><a href=#__codelineno-0-321>321</a></span>
<span class=normal><a href=#__codelineno-0-322>322</a></span>
<span class=normal><a href=#__codelineno-0-323>323</a></span>
<span class=normal><a href=#__codelineno-0-324>324</a></span>
<span class=normal><a href=#__codelineno-0-325>325</a></span>
<span class=normal><a href=#__codelineno-0-326>326</a></span>
<span class=normal><a href=#__codelineno-0-327>327</a></span>
<span class=normal><a href=#__codelineno-0-328>328</a></span>
<span class=normal><a href=#__codelineno-0-329>329</a></span>
<span class=normal><a href=#__codelineno-0-330>330</a></span>
<span class=normal><a href=#__codelineno-0-331>331</a></span>
<span class=normal><a href=#__codelineno-0-332>332</a></span>
<span class=normal><a href=#__codelineno-0-333>333</a></span>
<span class=normal><a href=#__codelineno-0-334>334</a></span>
<span class=normal><a href=#__codelineno-0-335>335</a></span>
<span class=normal><a href=#__codelineno-0-336>336</a></span>
<span class=normal><a href=#__codelineno-0-337>337</a></span>
<span class=normal><a href=#__codelineno-0-338>338</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-293 name=__codelineno-0-293></a><span class=nd>@action</span><span class=p>(</span>
<a id=__codelineno-0-294 name=__codelineno-0-294></a>    <span class=n>description</span><span class=o>=</span><span class=n>_</span><span class=p>(</span><span class=s2>&quot;Send message on conversation&quot;</span><span class=p>),</span>
<a id=__codelineno-0-295 name=__codelineno-0-295></a><span class=p>)</span>
<a id=__codelineno-0-296 name=__codelineno-0-296></a><span class=k>def</span><span class=w> </span><span class=nf>send_message</span><span class=p>(</span>
<a id=__codelineno-0-297 name=__codelineno-0-297></a>    <span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>:</span> <span class=n>HttpRequest</span><span class=p>,</span> <span class=n>queryset</span><span class=p>:</span> <span class=n>QuerySet</span><span class=p>[</span><span class=n>Incident</span><span class=p>]</span>
<a id=__codelineno-0-298 name=__codelineno-0-298></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>TemplateResponse</span> <span class=o>|</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-299 name=__codelineno-0-299></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Action to send a message in selected channels.</span>
<a id=__codelineno-0-300 name=__codelineno-0-300></a><span class=sd>    This action first displays a confirmation page to enter the message.</span>
<a id=__codelineno-0-301 name=__codelineno-0-301></a><span class=sd>    Next, it sends the message on all selected objects and redirects back to the change list (other fn).</span>
<a id=__codelineno-0-302 name=__codelineno-0-302></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-303 name=__codelineno-0-303></a>    <span class=n>opts</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>model</span><span class=o>.</span><span class=n>_meta</span>  <span class=c1># noqa: SLF001</span>
<a id=__codelineno-0-304 name=__codelineno-0-304></a>
<a id=__codelineno-0-305 name=__codelineno-0-305></a>    <span class=c1># Get all the targeted conversations</span>
<a id=__codelineno-0-306 name=__codelineno-0-306></a>    <span class=n>target_conversations</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=n>IncidentChannel</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-0-307 name=__codelineno-0-307></a>        <span class=n>inc</span><span class=o>.</span><span class=n>conversation</span> <span class=k>for</span> <span class=n>inc</span> <span class=ow>in</span> <span class=n>queryset</span><span class=o>.</span><span class=n>all</span><span class=p>()</span> <span class=k>if</span> <span class=n>inc</span><span class=o>.</span><span class=n>conversation</span>
<a id=__codelineno-0-308 name=__codelineno-0-308></a>    <span class=p>]</span>
<a id=__codelineno-0-309 name=__codelineno-0-309></a>
<a id=__codelineno-0-310 name=__codelineno-0-310></a>    <span class=n>deletable_objects</span> <span class=o>=</span> <span class=n>target_conversations</span>
<a id=__codelineno-0-311 name=__codelineno-0-311></a>
<a id=__codelineno-0-312 name=__codelineno-0-312></a>    <span class=c1># The user has already entered the messages.</span>
<a id=__codelineno-0-313 name=__codelineno-0-313></a>    <span class=c1># Send message(s) and return None to display the change list view again.</span>
<a id=__codelineno-0-314 name=__codelineno-0-314></a>    <span class=k>if</span> <span class=n>request</span><span class=o>.</span><span class=n>POST</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;post&quot;</span><span class=p>):</span>
<a id=__codelineno-0-315 name=__codelineno-0-315></a>        <span class=bp>self</span><span class=o>.</span><span class=n>process_action_send_message</span><span class=p>(</span>
<a id=__codelineno-0-316 name=__codelineno-0-316></a>            <span class=n>request</span><span class=o>=</span><span class=n>request</span><span class=p>,</span> <span class=n>target_conversations</span><span class=o>=</span><span class=n>target_conversations</span>
<a id=__codelineno-0-317 name=__codelineno-0-317></a>        <span class=p>)</span>
<a id=__codelineno-0-318 name=__codelineno-0-318></a>        <span class=k>return</span> <span class=kc>None</span>
<a id=__codelineno-0-319 name=__codelineno-0-319></a>
<a id=__codelineno-0-320 name=__codelineno-0-320></a>    <span class=n>objects_name</span> <span class=o>=</span> <span class=n>model_ngettext</span><span class=p>(</span><span class=n>queryset</span><span class=p>)</span>
<a id=__codelineno-0-321 name=__codelineno-0-321></a>
<a id=__codelineno-0-322 name=__codelineno-0-322></a>    <span class=n>title</span> <span class=o>=</span> <span class=n>_</span><span class=p>(</span><span class=s2>&quot;Type your message&quot;</span><span class=p>)</span>
<a id=__codelineno-0-323 name=__codelineno-0-323></a>
<a id=__codelineno-0-324 name=__codelineno-0-324></a>    <span class=n>context</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-0-325 name=__codelineno-0-325></a>        <span class=o>**</span><span class=bp>self</span><span class=o>.</span><span class=n>admin_site</span><span class=o>.</span><span class=n>each_context</span><span class=p>(</span><span class=n>request</span><span class=p>),</span>
<a id=__codelineno-0-326 name=__codelineno-0-326></a>        <span class=s2>&quot;title&quot;</span><span class=p>:</span> <span class=n>title</span><span class=p>,</span>
<a id=__codelineno-0-327 name=__codelineno-0-327></a>        <span class=s2>&quot;objects_name&quot;</span><span class=p>:</span> <span class=nb>str</span><span class=p>(</span><span class=n>objects_name</span><span class=p>),</span>
<a id=__codelineno-0-328 name=__codelineno-0-328></a>        <span class=s2>&quot;deletable_objects&quot;</span><span class=p>:</span> <span class=p>[</span><span class=n>deletable_objects</span><span class=p>],</span>
<a id=__codelineno-0-329 name=__codelineno-0-329></a>        <span class=s2>&quot;queryset&quot;</span><span class=p>:</span> <span class=n>queryset</span><span class=p>,</span>
<a id=__codelineno-0-330 name=__codelineno-0-330></a>        <span class=s2>&quot;opts&quot;</span><span class=p>:</span> <span class=n>opts</span><span class=p>,</span>
<a id=__codelineno-0-331 name=__codelineno-0-331></a>        <span class=s2>&quot;action_checkbox_name&quot;</span><span class=p>:</span> <span class=n>helpers</span><span class=o>.</span><span class=n>ACTION_CHECKBOX_NAME</span><span class=p>,</span>
<a id=__codelineno-0-332 name=__codelineno-0-332></a>        <span class=s2>&quot;media&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>media</span><span class=p>,</span>
<a id=__codelineno-0-333 name=__codelineno-0-333></a>    <span class=p>}</span>
<a id=__codelineno-0-334 name=__codelineno-0-334></a>
<a id=__codelineno-0-335 name=__codelineno-0-335></a>    <span class=c1># Display the message edit page</span>
<a id=__codelineno-0-336 name=__codelineno-0-336></a>    <span class=k>return</span> <span class=n>TemplateResponse</span><span class=p>(</span>
<a id=__codelineno-0-337 name=__codelineno-0-337></a>        <span class=n>request</span><span class=p>,</span> <span class=s2>&quot;admin/send_message_conversation.html&quot;</span><span class=p>,</span> <span class=n>context</span>
<a id=__codelineno-0-338 name=__codelineno-0-338></a>    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 id=firefighter.incidents.admin.IncidentRoleTypeAdmin class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">IncidentRoleTypeAdmin</span> <a href=#firefighter.incidents.admin.IncidentRoleTypeAdmin class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-external" title=django.contrib.admin.ModelAdmin href=https://docs.djangoproject.com/en/4.2/ref/contrib/admin/#django.contrib.admin.ModelAdmin>ModelAdmin</a>[<span title=firefighter.incidents.models.incident_role_type.IncidentRoleType>IncidentRoleType</span>]</code></p> <p>IncidentRoleTypes are fixed at the moment (only commander and communication lead).</p> <div class="doc doc-children"> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h2 id=firefighter.incidents.forms class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">forms</span> <a href=#firefighter.incidents.forms class=headerlink title="Permanent link">¤</a></h2> <div class="doc doc-contents "> <p><span class=doc-section-title>Modules:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            select_impact (firefighter.incidents.forms.select_impact)" href=#firefighter.incidents.forms.select_impact>select_impact</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            update_key_events (firefighter.incidents.forms.update_key_events)" href=#firefighter.incidents.forms.update_key_events>update_key_events</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            update_roles (firefighter.incidents.forms.update_roles)" href=#firefighter.incidents.forms.update_roles>update_roles</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            utils (firefighter.incidents.forms.utils)" href=#firefighter.incidents.forms.utils>utils</a></code></b> – <div class=doc-md-description> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-module"> <h3 id=firefighter.incidents.forms.select_impact class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">select_impact</span> <a href=#firefighter.incidents.forms.select_impact class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Classes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            SelectImpactForm (firefighter.incidents.forms.select_impact.SelectImpactForm)" href=#firefighter.incidents.forms.select_impact.SelectImpactForm>SelectImpactForm</a></code></b> – <div class=doc-md-description> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h4 id=firefighter.incidents.forms.select_impact.SelectImpactForm class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">SelectImpactForm</span> <a href=#firefighter.incidents.forms.select_impact.SelectImpactForm class=headerlink title="Permanent link">¤</a></h4> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>SelectImpactForm</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-external" title=django.forms.Form href=https://docs.djangoproject.com/en/4.2/ref/forms/api/#django.forms.Form>Form</a></code></p> <p><span class=doc-section-title>Methods:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            save (firefighter.incidents.forms.select_impact.SelectImpactForm.save)" href=#firefighter.incidents.forms.select_impact.SelectImpactForm.save>save</a></code></b> – <div class=doc-md-description> <p>Save the impact choices to the incident.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            suggest_priority_from_impact (firefighter.incidents.forms.select_impact.SelectImpactForm.suggest_priority_from_impact)" href=#firefighter.incidents.forms.select_impact.SelectImpactForm.suggest_priority_from_impact>suggest_priority_from_impact</a></code></b> – <div class=doc-md-description> <p>Suggest a priority from 1 (highest) to 4 (lowest) based on the impact choices.</p> </div> </li> </ul> <p><span class=doc-section-title>Attributes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            business_impact_new


  
      property
   (firefighter.incidents.forms.select_impact.SelectImpactForm.business_impact_new)" href=#firefighter.incidents.forms.select_impact.SelectImpactForm.business_impact_new>business_impact_new</a></code></b> (<code><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a> | None</code>) – <div class=doc-md-description> <p>Get business impact. Will return N/A, Low, Medium or High.</p> </div> </li> </ul> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/forms/select_impact.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-26 name=__codelineno-0-26></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-27 name=__codelineno-0-27></a>    <span class=k>if</span> <span class=s2>&quot;data&quot;</span> <span class=ow>in</span> <span class=n>kwargs</span><span class=p>:</span>
<a id=__codelineno-0-28 name=__codelineno-0-28></a>        <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>kwargs</span><span class=p>[</span><span class=s2>&quot;data&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
<a id=__codelineno-0-29 name=__codelineno-0-29></a>            <span class=k>if</span> <span class=p>(</span>
<a id=__codelineno-0-30 name=__codelineno-0-30></a>                <span class=nb>isinstance</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=nb>str</span><span class=p>)</span>
<a id=__codelineno-0-31 name=__codelineno-0-31></a>                <span class=ow>and</span> <span class=n>key</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s2>&quot;set_impact_type_&quot;</span><span class=p>)</span>
<a id=__codelineno-0-32 name=__codelineno-0-32></a>                <span class=ow>and</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>str</span><span class=p>)</span>
<a id=__codelineno-0-33 name=__codelineno-0-33></a>            <span class=p>):</span>
<a id=__codelineno-0-34 name=__codelineno-0-34></a>                <span class=n>impact_type_name</span> <span class=o>=</span> <span class=n>key</span><span class=p>[</span><span class=nb>len</span><span class=p>(</span><span class=s2>&quot;set_impact_type_&quot;</span><span class=p>)</span> <span class=p>:]</span>
<a id=__codelineno-0-35 name=__codelineno-0-35></a>                <span class=k>with</span> <span class=n>contextlib</span><span class=o>.</span><span class=n>suppress</span><span class=p>(</span><span class=n>ImpactLevel</span><span class=o>.</span><span class=n>DoesNotExist</span><span class=p>):</span>
<a id=__codelineno-0-36 name=__codelineno-0-36></a>                    <span class=n>kwargs</span><span class=p>[</span><span class=s2>&quot;data&quot;</span><span class=p>][</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>ImpactLevel</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>get</span><span class=p>(</span>
<a id=__codelineno-0-37 name=__codelineno-0-37></a>                        <span class=n>value</span><span class=o>=</span><span class=n>value</span><span class=p>,</span> <span class=n>impact_type__value</span><span class=o>=</span><span class=n>impact_type_name</span>
<a id=__codelineno-0-38 name=__codelineno-0-38></a>                    <span class=p>)</span>
<a id=__codelineno-0-39 name=__codelineno-0-39></a>
<a id=__codelineno-0-40 name=__codelineno-0-40></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
<a id=__codelineno-0-41 name=__codelineno-0-41></a>
<a id=__codelineno-0-42 name=__codelineno-0-42></a>    <span class=k>for</span> <span class=n>impact_type</span> <span class=ow>in</span> <span class=n>ImpactType</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>all</span><span class=p>()</span><span class=o>.</span><span class=n>order_by</span><span class=p>(</span><span class=s2>&quot;-order&quot;</span><span class=p>):</span>
<a id=__codelineno-0-43 name=__codelineno-0-43></a>        <span class=n>field_name</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;set_impact_type_</span><span class=si>{</span><span class=n>impact_type</span><span class=o>.</span><span class=n>value</span><span class=si>}</span><span class=s2>&quot;</span>
<a id=__codelineno-0-44 name=__codelineno-0-44></a>        <span class=bp>self</span><span class=o>.</span><span class=n>fields</span><span class=p>[</span><span class=n>field_name</span><span class=p>]</span> <span class=o>=</span> <span class=n>forms</span><span class=o>.</span><span class=n>ModelChoiceField</span><span class=p>(</span>
<a id=__codelineno-0-45 name=__codelineno-0-45></a>            <span class=n>label</span><span class=o>=</span><span class=n>impact_type</span><span class=o>.</span><span class=n>emoji</span> <span class=o>+</span> <span class=s2>&quot; &quot;</span> <span class=o>+</span> <span class=n>impact_type</span><span class=o>.</span><span class=n>name</span><span class=p>,</span>
<a id=__codelineno-0-46 name=__codelineno-0-46></a>            <span class=n>queryset</span><span class=o>=</span><span class=n>impact_type</span><span class=o>.</span><span class=n>levels</span><span class=o>.</span><span class=n>all</span><span class=p>()</span><span class=o>.</span><span class=n>order_by</span><span class=p>(</span><span class=s2>&quot;-order&quot;</span><span class=p>),</span>
<a id=__codelineno-0-47 name=__codelineno-0-47></a>            <span class=n>help_text</span><span class=o>=</span><span class=n>impact_type</span><span class=o>.</span><span class=n>help_text</span><span class=p>,</span>
<a id=__codelineno-0-48 name=__codelineno-0-48></a>            <span class=n>initial</span><span class=o>=</span><span class=n>impact_type</span><span class=o>.</span><span class=n>levels</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>value</span><span class=o>=</span><span class=n>LevelChoices</span><span class=o>.</span><span class=n>NONE</span><span class=o>.</span><span class=n>value</span><span class=p>),</span>
<a id=__codelineno-0-49 name=__codelineno-0-49></a>        <span class=p>)</span>
<a id=__codelineno-0-50 name=__codelineno-0-50></a>        <span class=bp>self</span><span class=o>.</span><span class=n>fields</span><span class=p>[</span><span class=n>field_name</span><span class=p>]</span><span class=o>.</span><span class=n>label_from_instance</span> <span class=o>=</span> <span class=p>(</span>  <span class=c1># type: ignore[attr-defined]</span>
<a id=__codelineno-0-51 name=__codelineno-0-51></a>            <span class=k>lambda</span> <span class=n>obj</span><span class=p>:</span> <span class=n>obj</span><span class=o>.</span><span class=n>emoji</span> <span class=o>+</span> <span class=s2>&quot; &quot;</span> <span class=o>+</span> <span class=n>obj</span><span class=o>.</span><span class=n>name</span>
<a id=__codelineno-0-52 name=__codelineno-0-52></a>        <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h5 id=firefighter.incidents.forms.select_impact.SelectImpactForm.business_impact_new class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">business_impact_new</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#firefighter.incidents.forms.select_impact.SelectImpactForm.business_impact_new class=headerlink title="Permanent link">¤</a></h5> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>business_impact_new</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span> <span class=o>|</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get business impact. Will return N/A, Low, Medium or High.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 id=firefighter.incidents.forms.select_impact.SelectImpactForm.save class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">save</span> <a href=#firefighter.incidents.forms.select_impact.SelectImpactForm.save class=headerlink title="Permanent link">¤</a></h5> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>save</span><span class=p>(</span><span class=n>incident</span><span class=p>:</span> <span class=n><span title=firefighter.incidents.models.impact.HasImpactProtocol>HasImpactProtocol</span></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Save the impact choices to the incident.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/forms/select_impact.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-83> 83</a></span>
<span class=normal><a href=#__codelineno-0-84> 84</a></span>
<span class=normal><a href=#__codelineno-0-85> 85</a></span>
<span class=normal><a href=#__codelineno-0-86> 86</a></span>
<span class=normal><a href=#__codelineno-0-87> 87</a></span>
<span class=normal><a href=#__codelineno-0-88> 88</a></span>
<span class=normal><a href=#__codelineno-0-89> 89</a></span>
<span class=normal><a href=#__codelineno-0-90> 90</a></span>
<span class=normal><a href=#__codelineno-0-91> 91</a></span>
<span class=normal><a href=#__codelineno-0-92> 92</a></span>
<span class=normal><a href=#__codelineno-0-93> 93</a></span>
<span class=normal><a href=#__codelineno-0-94> 94</a></span>
<span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span>
<span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span>
<span class=normal><a href=#__codelineno-0-110>110</a></span>
<span class=normal><a href=#__codelineno-0-111>111</a></span>
<span class=normal><a href=#__codelineno-0-112>112</a></span>
<span class=normal><a href=#__codelineno-0-113>113</a></span>
<span class=normal><a href=#__codelineno-0-114>114</a></span>
<span class=normal><a href=#__codelineno-0-115>115</a></span>
<span class=normal><a href=#__codelineno-0-116>116</a></span>
<span class=normal><a href=#__codelineno-0-117>117</a></span>
<span class=normal><a href=#__codelineno-0-118>118</a></span>
<span class=normal><a href=#__codelineno-0-119>119</a></span>
<span class=normal><a href=#__codelineno-0-120>120</a></span>
<span class=normal><a href=#__codelineno-0-121>121</a></span>
<span class=normal><a href=#__codelineno-0-122>122</a></span>
<span class=normal><a href=#__codelineno-0-123>123</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-83 name=__codelineno-0-83></a><span class=k>def</span><span class=w> </span><span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>incident</span><span class=p>:</span> <span class=n>HasImpactProtocol</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-84 name=__codelineno-0-84></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Save the impact choices to the incident.&quot;&quot;&quot;</span>
<a id=__codelineno-0-85 name=__codelineno-0-85></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>is_valid</span><span class=p>():</span>
<a id=__codelineno-0-86 name=__codelineno-0-86></a>        <span class=n>impacts</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>ImpactLevel</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>cleaned_data</span>
<a id=__codelineno-0-87 name=__codelineno-0-87></a>
<a id=__codelineno-0-88 name=__codelineno-0-88></a>        <span class=c1># Prepare a list of impact type slugs by removing the &#39;set_impact_type_&#39; prefix</span>
<a id=__codelineno-0-89 name=__codelineno-0-89></a>        <span class=n>impact_type_slugs</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-0-90 name=__codelineno-0-90></a>            <span class=n>slug</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;set_impact_type_&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span> <span class=k>for</span> <span class=n>slug</span> <span class=ow>in</span> <span class=n>impacts</span>
<a id=__codelineno-0-91 name=__codelineno-0-91></a>        <span class=p>]</span>
<a id=__codelineno-0-92 name=__codelineno-0-92></a>
<a id=__codelineno-0-93 name=__codelineno-0-93></a>        <span class=c1># Fetch all relevant ImpactType instances in a single query</span>
<a id=__codelineno-0-94 name=__codelineno-0-94></a>        <span class=n>impact_types</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>ImpactType</span><span class=p>]</span> <span class=o>=</span> <span class=n>ImpactType</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>in_bulk</span><span class=p>(</span>
<a id=__codelineno-0-95 name=__codelineno-0-95></a>            <span class=n>impact_type_slugs</span><span class=p>,</span> <span class=n>field_name</span><span class=o>=</span><span class=s2>&quot;value&quot;</span>
<a id=__codelineno-0-96 name=__codelineno-0-96></a>        <span class=p>)</span>
<a id=__codelineno-0-97 name=__codelineno-0-97></a>
<a id=__codelineno-0-98 name=__codelineno-0-98></a>        <span class=n>impact_objects</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=n>Impact</span><span class=p>]</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-0-99 name=__codelineno-0-99></a>
<a id=__codelineno-0-100 name=__codelineno-0-100></a>        <span class=k>for</span> <span class=n>impact_type_slug</span><span class=p>,</span> <span class=n>impact_level</span> <span class=ow>in</span> <span class=n>impacts</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
<a id=__codelineno-0-101 name=__codelineno-0-101></a>            <span class=n>impact_type_slug</span> <span class=o>=</span> <span class=n>impact_type_slug</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span>  <span class=c1># noqa: PLW2901</span>
<a id=__codelineno-0-102 name=__codelineno-0-102></a>                <span class=s2>&quot;set_impact_type_&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span>
<a id=__codelineno-0-103 name=__codelineno-0-103></a>            <span class=p>)</span>
<a id=__codelineno-0-104 name=__codelineno-0-104></a>            <span class=n>impact_type</span> <span class=o>=</span> <span class=n>impact_types</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>impact_type_slug</span><span class=p>)</span>
<a id=__codelineno-0-105 name=__codelineno-0-105></a>            <span class=k>if</span> <span class=n>impact_type</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-106 name=__codelineno-0-106></a>                <span class=n>logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span>
<a id=__codelineno-0-107 name=__codelineno-0-107></a>                    <span class=sa>f</span><span class=s2>&quot;Could not find impact type </span><span class=si>{</span><span class=n>impact_type_slug</span><span class=si>}</span><span class=s2> in incident </span><span class=si>{</span><span class=n>incident</span><span class=o>.</span><span class=n>id</span><span class=si>}</span><span class=s2>&quot;</span>
<a id=__codelineno-0-108 name=__codelineno-0-108></a>                <span class=p>)</span>
<a id=__codelineno-0-109 name=__codelineno-0-109></a>                <span class=k>continue</span>
<a id=__codelineno-0-110 name=__codelineno-0-110></a>
<a id=__codelineno-0-111 name=__codelineno-0-111></a>            <span class=n>impact</span> <span class=o>=</span> <span class=n>Impact</span><span class=p>(</span><span class=n>impact_type</span><span class=o>=</span><span class=n>impact_type</span><span class=p>,</span> <span class=n>impact_level</span><span class=o>=</span><span class=n>impact_level</span><span class=p>)</span>
<a id=__codelineno-0-112 name=__codelineno-0-112></a>            <span class=n>impact_objects</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>impact</span><span class=p>)</span>
<a id=__codelineno-0-113 name=__codelineno-0-113></a>
<a id=__codelineno-0-114 name=__codelineno-0-114></a>        <span class=c1># Create and save all Impact instances in one database call</span>
<a id=__codelineno-0-115 name=__codelineno-0-115></a>        <span class=n>Impact</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>bulk_create</span><span class=p>(</span><span class=n>impact_objects</span><span class=p>)</span>
<a id=__codelineno-0-116 name=__codelineno-0-116></a>        <span class=n>impacts_related_manager</span><span class=p>:</span> <span class=n>ManyRelatedManager</span><span class=p>[</span><span class=n>Impact</span><span class=p>]</span> <span class=o>=</span> <span class=n>cast</span><span class=p>(</span>
<a id=__codelineno-0-117 name=__codelineno-0-117></a>            <span class=s2>&quot;ManyRelatedManager[Impact]&quot;</span><span class=p>,</span>
<a id=__codelineno-0-118 name=__codelineno-0-118></a>            <span class=n>incident</span><span class=o>.</span><span class=n>impacts</span><span class=p>,</span>
<a id=__codelineno-0-119 name=__codelineno-0-119></a>        <span class=p>)</span>
<a id=__codelineno-0-120 name=__codelineno-0-120></a>        <span class=n>impacts_related_manager</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=o>*</span><span class=n>impact_objects</span><span class=p>)</span>
<a id=__codelineno-0-121 name=__codelineno-0-121></a>
<a id=__codelineno-0-122 name=__codelineno-0-122></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-123 name=__codelineno-0-123></a>        <span class=k>raise</span> <span class=n>forms</span><span class=o>.</span><span class=n>ValidationError</span><span class=p>(</span><span class=s2>&quot;Form is not valid&quot;</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h5 id=firefighter.incidents.forms.select_impact.SelectImpactForm.suggest_priority_from_impact class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">suggest_priority_from_impact</span> <a href=#firefighter.incidents.forms.select_impact.SelectImpactForm.suggest_priority_from_impact class=headerlink title="Permanent link">¤</a></h5> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>suggest_priority_from_impact</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/functions.html#int>int</a></span>
</code></pre></div> <div class="doc doc-contents "> <p>Suggest a priority from 1 (highest) to 4 (lowest) based on the impact choices.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/forms/select_impact.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span>
<span class=normal><a href=#__codelineno-0-58>58</a></span>
<span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span>
<span class=normal><a href=#__codelineno-0-62>62</a></span>
<span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span>
<span class=normal><a href=#__codelineno-0-66>66</a></span>
<span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span>
<span class=normal><a href=#__codelineno-0-69>69</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-54 name=__codelineno-0-54></a><span class=k>def</span><span class=w> </span><span class=nf>suggest_priority_from_impact</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
<a id=__codelineno-0-55 name=__codelineno-0-55></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Suggest a priority from 1 (highest) to 4 (lowest) based on the impact choices.&quot;&quot;&quot;</span>
<a id=__codelineno-0-56 name=__codelineno-0-56></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>is_valid</span><span class=p>():</span>
<a id=__codelineno-0-57 name=__codelineno-0-57></a>        <span class=n>impact</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>ImpactLevel</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>cleaned_data</span>
<a id=__codelineno-0-58 name=__codelineno-0-58></a>
<a id=__codelineno-0-59 name=__codelineno-0-59></a>        <span class=n>impact_values</span> <span class=o>=</span> <span class=p>[</span><span class=n>impact_type</span><span class=o>.</span><span class=n>value</span> <span class=k>for</span> <span class=n>impact_type</span> <span class=ow>in</span> <span class=n>impact</span><span class=o>.</span><span class=n>values</span><span class=p>()]</span>
<a id=__codelineno-0-60 name=__codelineno-0-60></a>        <span class=k>if</span> <span class=s2>&quot;HI&quot;</span> <span class=ow>in</span> <span class=n>impact_values</span><span class=p>:</span>
<a id=__codelineno-0-61 name=__codelineno-0-61></a>            <span class=k>return</span> <span class=mi>1</span>
<a id=__codelineno-0-62 name=__codelineno-0-62></a>        <span class=k>if</span> <span class=s2>&quot;MD&quot;</span> <span class=ow>in</span> <span class=n>impact_values</span><span class=p>:</span>
<a id=__codelineno-0-63 name=__codelineno-0-63></a>            <span class=k>return</span> <span class=mi>2</span>
<a id=__codelineno-0-64 name=__codelineno-0-64></a>        <span class=k>if</span> <span class=n>impact_values</span><span class=o>.</span><span class=n>count</span><span class=p>(</span><span class=s2>&quot;LO&quot;</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>2</span><span class=p>:</span>
<a id=__codelineno-0-65 name=__codelineno-0-65></a>            <span class=k>return</span> <span class=mi>3</span>
<a id=__codelineno-0-66 name=__codelineno-0-66></a>        <span class=k>if</span> <span class=s2>&quot;LO&quot;</span> <span class=ow>in</span> <span class=n>impact_values</span> <span class=ow>or</span> <span class=s2>&quot;NO&quot;</span> <span class=ow>in</span> <span class=n>impact_values</span><span class=p>:</span>
<a id=__codelineno-0-67 name=__codelineno-0-67></a>            <span class=k>return</span> <span class=mi>4</span>
<a id=__codelineno-0-68 name=__codelineno-0-68></a>        <span class=k>return</span> <span class=mi>4</span>
<a id=__codelineno-0-69 name=__codelineno-0-69></a>    <span class=k>return</span> <span class=mi>4</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h3 id=firefighter.incidents.forms.update_key_events class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">update_key_events</span> <a href=#firefighter.incidents.forms.update_key_events class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Classes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            IncidentUpdateKeyEventsForm (firefighter.incidents.forms.update_key_events.IncidentUpdateKeyEventsForm)" href=#firefighter.incidents.forms.update_key_events.IncidentUpdateKeyEventsForm>IncidentUpdateKeyEventsForm</a></code></b> – <div class=doc-md-description> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h4 id=firefighter.incidents.forms.update_key_events.IncidentUpdateKeyEventsForm class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">IncidentUpdateKeyEventsForm</span> <a href=#firefighter.incidents.forms.update_key_events.IncidentUpdateKeyEventsForm class=headerlink title="Permanent link">¤</a></h4> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>IncidentUpdateKeyEventsForm</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-external" title=django.forms.Form href=https://docs.djangoproject.com/en/4.2/ref/forms/api/#django.forms.Form>Form</a></code></p> <p><span class=doc-section-title>Methods:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            get_milestones_with_data (firefighter.incidents.forms.update_key_events.IncidentUpdateKeyEventsForm.get_milestones_with_data)" href=#firefighter.incidents.forms.update_key_events.IncidentUpdateKeyEventsForm.get_milestones_with_data>get_milestones_with_data</a></code></b> – <div class=doc-md-description> <p>Get each <a class="autorefs autorefs-internal" title="            MilestoneType" href=#firefighter.incidents.models.milestone_type.MilestoneType>firefighter.incidents.models.milestone_type.MilestoneType</a> with its <code>event_ts</code> from the IncidentUpdate.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            save (firefighter.incidents.forms.update_key_events.IncidentUpdateKeyEventsForm.save)" href=#firefighter.incidents.forms.update_key_events.IncidentUpdateKeyEventsForm.save>save</a></code></b> – <div class=doc-md-description> <p>Custom save method to save each changed key event.</p> </div> </li> </ul> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/forms/update_key_events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-31 name=__codelineno-0-31></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-32 name=__codelineno-0-32></a>    <span class=bp>self</span><span class=o>.</span><span class=n>incident</span> <span class=o>=</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;incident&quot;</span><span class=p>)</span>
<a id=__codelineno-0-33 name=__codelineno-0-33></a>    <span class=bp>self</span><span class=o>.</span><span class=n>user</span> <span class=o>=</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;user&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
<a id=__codelineno-0-34 name=__codelineno-0-34></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
<a id=__codelineno-0-35 name=__codelineno-0-35></a>    <span class=bp>self</span><span class=o>.</span><span class=n>generate_fields_dynamically</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h5 id=firefighter.incidents.forms.update_key_events.IncidentUpdateKeyEventsForm.get_milestones_with_data class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_milestones_with_data</span> <a href=#firefighter.incidents.forms.update_key_events.IncidentUpdateKeyEventsForm.get_milestones_with_data class=headerlink title="Permanent link">¤</a></h5> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_milestones_with_data</span><span class=p>(</span><span class=n>milestones_definitions</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=collections.abc.Iterable href=https://docs.python.org/3.12/library/collections.abc.html#collections.abc.Iterable>Iterable</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title="            MilestoneType (firefighter.incidents.models.milestone_type.MilestoneType)" href=#firefighter.incidents.models.milestone_type.MilestoneType>MilestoneType</a></span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#list>list</a></span><span class=p>[</span><span class=n><span title=firefighter.incidents.models.milestone_type.MilestoneTypeData>MilestoneTypeData</span></span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get each <a class="autorefs autorefs-internal" title="            MilestoneType" href=#firefighter.incidents.models.milestone_type.MilestoneType>firefighter.incidents.models.milestone_type.MilestoneType</a> with its <code>event_ts</code> from the IncidentUpdate.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/forms/update_key_events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span>
<span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span>
<span class=normal><a href=#__codelineno-0-110>110</a></span>
<span class=normal><a href=#__codelineno-0-111>111</a></span>
<span class=normal><a href=#__codelineno-0-112>112</a></span>
<span class=normal><a href=#__codelineno-0-113>113</a></span>
<span class=normal><a href=#__codelineno-0-114>114</a></span>
<span class=normal><a href=#__codelineno-0-115>115</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-101 name=__codelineno-0-101></a><span class=k>def</span><span class=w> </span><span class=nf>get_milestones_with_data</span><span class=p>(</span>
<a id=__codelineno-0-102 name=__codelineno-0-102></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-103 name=__codelineno-0-103></a>    <span class=n>milestones_definitions</span><span class=p>:</span> <span class=n>Iterable</span><span class=p>[</span><span class=n>MilestoneType</span><span class=p>],</span>
<a id=__codelineno-0-104 name=__codelineno-0-104></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>[</span><span class=n>MilestoneTypeData</span><span class=p>]:</span>
<a id=__codelineno-0-105 name=__codelineno-0-105></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Get each [firefighter.incidents.models.milestone_type.MilestoneType][] with its `event_ts` from the IncidentUpdate.&quot;&quot;&quot;</span>
<a id=__codelineno-0-106 name=__codelineno-0-106></a>    <span class=n>milestones_objects</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>incident</span><span class=o>.</span><span class=n>latest_updates_by_type</span>
<a id=__codelineno-0-107 name=__codelineno-0-107></a>    <span class=n>ass</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-0-108 name=__codelineno-0-108></a>    <span class=k>for</span> <span class=n>milestone_def</span> <span class=ow>in</span> <span class=n>milestones_definitions</span><span class=p>:</span>
<a id=__codelineno-0-109 name=__codelineno-0-109></a>        <span class=n>event</span> <span class=o>=</span> <span class=n>milestones_objects</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>milestone_def</span><span class=o>.</span><span class=n>event_type</span><span class=p>)</span>
<a id=__codelineno-0-110 name=__codelineno-0-110></a>        <span class=n>event_ts</span> <span class=o>=</span> <span class=n>event</span><span class=o>.</span><span class=n>event_ts</span> <span class=k>if</span> <span class=n>event</span> <span class=ow>and</span> <span class=n>event</span><span class=o>.</span><span class=n>event_ts</span> <span class=k>else</span> <span class=kc>None</span>
<a id=__codelineno-0-111 name=__codelineno-0-111></a>        <span class=n>association</span> <span class=o>=</span> <span class=n>MilestoneTypeData</span><span class=p>(</span>
<a id=__codelineno-0-112 name=__codelineno-0-112></a>            <span class=n>milestone_type</span><span class=o>=</span><span class=n>milestone_def</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>MilestoneData</span><span class=p>(</span><span class=n>event_ts</span><span class=p>)</span>
<a id=__codelineno-0-113 name=__codelineno-0-113></a>        <span class=p>)</span>
<a id=__codelineno-0-114 name=__codelineno-0-114></a>        <span class=n>ass</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>association</span><span class=p>)</span>
<a id=__codelineno-0-115 name=__codelineno-0-115></a>    <span class=k>return</span> <span class=n>ass</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h5 id=firefighter.incidents.forms.update_key_events.IncidentUpdateKeyEventsForm.save class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">save</span> <a href=#firefighter.incidents.forms.update_key_events.IncidentUpdateKeyEventsForm.save class=headerlink title="Permanent link">¤</a></h5> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>save</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Custom save method to save each changed key event.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/forms/update_key_events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-72>72</a></span>
<span class=normal><a href=#__codelineno-0-73>73</a></span>
<span class=normal><a href=#__codelineno-0-74>74</a></span>
<span class=normal><a href=#__codelineno-0-75>75</a></span>
<span class=normal><a href=#__codelineno-0-76>76</a></span>
<span class=normal><a href=#__codelineno-0-77>77</a></span>
<span class=normal><a href=#__codelineno-0-78>78</a></span>
<span class=normal><a href=#__codelineno-0-79>79</a></span>
<span class=normal><a href=#__codelineno-0-80>80</a></span>
<span class=normal><a href=#__codelineno-0-81>81</a></span>
<span class=normal><a href=#__codelineno-0-82>82</a></span>
<span class=normal><a href=#__codelineno-0-83>83</a></span>
<span class=normal><a href=#__codelineno-0-84>84</a></span>
<span class=normal><a href=#__codelineno-0-85>85</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-72 name=__codelineno-0-72></a><span class=k>def</span><span class=w> </span><span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-73 name=__codelineno-0-73></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Custom save method to save each changed key event.&quot;&quot;&quot;</span>
<a id=__codelineno-0-74 name=__codelineno-0-74></a>    <span class=bp>self</span><span class=o>.</span><span class=n>fields</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Field</span><span class=p>]</span>
<a id=__codelineno-0-75 name=__codelineno-0-75></a>    <span class=k>for</span> <span class=n>field_name</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>fields</span><span class=p>:</span>
<a id=__codelineno-0-76 name=__codelineno-0-76></a>        <span class=k>if</span> <span class=n>field_name</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>changed_data</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>fields</span><span class=p>[</span><span class=n>field_name</span><span class=p>]</span><span class=o>.</span><span class=n>disabled</span><span class=p>:</span>
<a id=__codelineno-0-77 name=__codelineno-0-77></a>            <span class=n>logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;skipping </span><span class=si>%s</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>field_name</span><span class=p>)</span>
<a id=__codelineno-0-78 name=__codelineno-0-78></a>            <span class=k>continue</span>
<a id=__codelineno-0-79 name=__codelineno-0-79></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>field_name</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s2>&quot;key_event_&quot;</span><span class=p>):</span>
<a id=__codelineno-0-80 name=__codelineno-0-80></a>            <span class=k>continue</span>
<a id=__codelineno-0-81 name=__codelineno-0-81></a>
<a id=__codelineno-0-82 name=__codelineno-0-82></a>        <span class=n>key_event_type</span> <span class=o>=</span> <span class=n>field_name</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;key_event_&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
<a id=__codelineno-0-83 name=__codelineno-0-83></a>
<a id=__codelineno-0-84 name=__codelineno-0-84></a>        <span class=n>logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;save </span><span class=si>{</span><span class=n>field_name</span><span class=si>}</span><span class=s2> </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>cleaned_data</span><span class=p>[</span><span class=n>field_name</span><span class=p>]</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<a id=__codelineno-0-85 name=__codelineno-0-85></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_save_key_event</span><span class=p>(</span><span class=n>key_event_type</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>cleaned_data</span><span class=p>[</span><span class=n>field_name</span><span class=p>])</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h3 id=firefighter.incidents.forms.update_roles class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">update_roles</span> <a href=#firefighter.incidents.forms.update_roles class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Classes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            IncidentUpdateRolesForm (firefighter.incidents.forms.update_roles.IncidentUpdateRolesForm)" href=#firefighter.incidents.forms.update_roles.IncidentUpdateRolesForm>IncidentUpdateRolesForm</a></code></b> – <div class=doc-md-description> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h4 id=firefighter.incidents.forms.update_roles.IncidentUpdateRolesForm class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">IncidentUpdateRolesForm</span> <a href=#firefighter.incidents.forms.update_roles.IncidentUpdateRolesForm class=headerlink title="Permanent link">¤</a></h4> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>IncidentUpdateRolesForm</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-external" title=django.forms.Form href=https://docs.djangoproject.com/en/4.2/ref/forms/api/#django.forms.Form>Form</a></code></p> <p><span class=doc-section-title>Methods:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            save (firefighter.incidents.forms.update_roles.IncidentUpdateRolesForm.save)" href=#firefighter.incidents.forms.update_roles.IncidentUpdateRolesForm.save>save</a></code></b> – <div class=doc-md-description> <p>Custom save method to save the updated roles.</p> </div> </li> </ul> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/forms/update_roles.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-26 name=__codelineno-0-26></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-27 name=__codelineno-0-27></a>    <span class=bp>self</span><span class=o>.</span><span class=n>incident</span><span class=p>:</span> <span class=n>Incident</span> <span class=o>=</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;incident&quot;</span><span class=p>)</span>
<a id=__codelineno-0-28 name=__codelineno-0-28></a>    <span class=bp>self</span><span class=o>.</span><span class=n>user</span> <span class=o>=</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;user&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
<a id=__codelineno-0-29 name=__codelineno-0-29></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
<a id=__codelineno-0-30 name=__codelineno-0-30></a>    <span class=bp>self</span><span class=o>.</span><span class=n>generate_fields_dynamically</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h5 id=firefighter.incidents.forms.update_roles.IncidentUpdateRolesForm.save class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">save</span> <a href=#firefighter.incidents.forms.update_roles.IncidentUpdateRolesForm.save class=headerlink title="Permanent link">¤</a></h5> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>save</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Custom save method to save the updated roles.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/forms/update_roles.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-61>61</a></span>
<span class=normal><a href=#__codelineno-0-62>62</a></span>
<span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span>
<span class=normal><a href=#__codelineno-0-66>66</a></span>
<span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span>
<span class=normal><a href=#__codelineno-0-69>69</a></span>
<span class=normal><a href=#__codelineno-0-70>70</a></span>
<span class=normal><a href=#__codelineno-0-71>71</a></span>
<span class=normal><a href=#__codelineno-0-72>72</a></span>
<span class=normal><a href=#__codelineno-0-73>73</a></span>
<span class=normal><a href=#__codelineno-0-74>74</a></span>
<span class=normal><a href=#__codelineno-0-75>75</a></span>
<span class=normal><a href=#__codelineno-0-76>76</a></span>
<span class=normal><a href=#__codelineno-0-77>77</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-61 name=__codelineno-0-61></a><span class=k>def</span><span class=w> </span><span class=nf>save</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-62 name=__codelineno-0-62></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Custom save method to save the updated roles.&quot;&quot;&quot;</span>
<a id=__codelineno-0-63 name=__codelineno-0-63></a>    <span class=bp>self</span><span class=o>.</span><span class=n>fields</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Field</span><span class=p>]</span>
<a id=__codelineno-0-64 name=__codelineno-0-64></a>    <span class=n>roles_to_update</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>User</span> <span class=o>|</span> <span class=kc>None</span><span class=p>]</span> <span class=o>=</span> <span class=p>{}</span>
<a id=__codelineno-0-65 name=__codelineno-0-65></a>    <span class=k>for</span> <span class=n>field_name</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>fields</span><span class=p>:</span>
<a id=__codelineno-0-66 name=__codelineno-0-66></a>        <span class=k>if</span> <span class=n>field_name</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>changed_data</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>fields</span><span class=p>[</span><span class=n>field_name</span><span class=p>]</span><span class=o>.</span><span class=n>disabled</span><span class=p>:</span>
<a id=__codelineno-0-67 name=__codelineno-0-67></a>            <span class=n>logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;skipping </span><span class=si>%s</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>field_name</span><span class=p>)</span>
<a id=__codelineno-0-68 name=__codelineno-0-68></a>            <span class=k>continue</span>
<a id=__codelineno-0-69 name=__codelineno-0-69></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>field_name</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s2>&quot;role_&quot;</span><span class=p>):</span>
<a id=__codelineno-0-70 name=__codelineno-0-70></a>            <span class=k>continue</span>
<a id=__codelineno-0-71 name=__codelineno-0-71></a>
<a id=__codelineno-0-72 name=__codelineno-0-72></a>        <span class=n>role_type_slug</span> <span class=o>=</span> <span class=n>field_name</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;role_&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
<a id=__codelineno-0-73 name=__codelineno-0-73></a>
<a id=__codelineno-0-74 name=__codelineno-0-74></a>        <span class=n>roles_to_update</span><span class=p>[</span><span class=n>role_type_slug</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>cleaned_data</span><span class=p>[</span><span class=n>field_name</span><span class=p>]</span>
<a id=__codelineno-0-75 name=__codelineno-0-75></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>user</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-76 name=__codelineno-0-76></a>        <span class=k>raise</span> <span class=ne>RuntimeError</span><span class=p>(</span><span class=s2>&quot;User is required, was the form validated?&quot;</span><span class=p>)</span>
<a id=__codelineno-0-77 name=__codelineno-0-77></a>    <span class=bp>self</span><span class=o>.</span><span class=n>incident</span><span class=o>.</span><span class=n>update_roles</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>user</span><span class=p>,</span> <span class=n>roles_to_update</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h3 id=firefighter.incidents.forms.utils class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">utils</span> <a href=#firefighter.incidents.forms.utils class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Classes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            EnumChoiceField (firefighter.incidents.forms.utils.EnumChoiceField)" href=#firefighter.incidents.forms.utils.EnumChoiceField>EnumChoiceField</a></code></b> – <div class=doc-md-description> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h4 id=firefighter.incidents.forms.utils.EnumChoiceField class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">EnumChoiceField</span> <a href=#firefighter.incidents.forms.utils.EnumChoiceField class=headerlink title="Permanent link">¤</a></h4> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>EnumChoiceField</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>,</span> <span class=n>enum_class</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/functions.html#type>type</a></span><span class=p>[</span><span class=n><span title=firefighter.incidents.forms.utils.T>T</span></span><span class=p>],</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-external" title=django.forms.TypedChoiceField href=https://docs.djangoproject.com/en/4.2/ref/forms/fields/#django.forms.TypedChoiceField>TypedChoiceField</a></code></p> <p><span class=doc-section-title>Methods:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            to_python (firefighter.incidents.forms.utils.EnumChoiceField.to_python)" href=#firefighter.incidents.forms.utils.EnumChoiceField.to_python>to_python</a></code></b> – <div class=doc-md-description> <p>Return a value from the enum class.</p> </div> </li> </ul> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/forms/utils.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-72>72</a></span>
<span class=normal><a href=#__codelineno-0-73>73</a></span>
<span class=normal><a href=#__codelineno-0-74>74</a></span>
<span class=normal><a href=#__codelineno-0-75>75</a></span>
<span class=normal><a href=#__codelineno-0-76>76</a></span>
<span class=normal><a href=#__codelineno-0-77>77</a></span>
<span class=normal><a href=#__codelineno-0-78>78</a></span>
<span class=normal><a href=#__codelineno-0-79>79</a></span>
<span class=normal><a href=#__codelineno-0-80>80</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-72 name=__codelineno-0-72></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=n>enum_class</span><span class=p>:</span> <span class=nb>type</span><span class=p>[</span><span class=n>T</span><span class=p>],</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-73 name=__codelineno-0-73></a>    <span class=c1># Explicit for type checking</span>
<a id=__codelineno-0-74 name=__codelineno-0-74></a>    <span class=bp>self</span><span class=o>.</span><span class=n>coerce_func</span><span class=p>:</span> <span class=n>Callable</span><span class=p>[[</span><span class=n>Any</span><span class=p>],</span> <span class=n>T</span><span class=p>]</span> <span class=o>=</span> <span class=k>lambda</span> <span class=n>val</span><span class=p>:</span> <span class=n>enum_class</span><span class=p>(</span>  <span class=c1># noqa: PLW0108</span>
<a id=__codelineno-0-75 name=__codelineno-0-75></a>        <span class=n>val</span>
<a id=__codelineno-0-76 name=__codelineno-0-76></a>    <span class=p>)</span>
<a id=__codelineno-0-77 name=__codelineno-0-77></a>    <span class=bp>self</span><span class=o>.</span><span class=n>enum_class</span> <span class=o>=</span> <span class=n>enum_class</span>
<a id=__codelineno-0-78 name=__codelineno-0-78></a>    <span class=k>if</span> <span class=s2>&quot;choices&quot;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>kwargs</span><span class=p>:</span>
<a id=__codelineno-0-79 name=__codelineno-0-79></a>        <span class=n>kwargs</span><span class=p>[</span><span class=s2>&quot;choices&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>enum_class</span><span class=o>.</span><span class=n>choices</span>
<a id=__codelineno-0-80 name=__codelineno-0-80></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=n>coerce</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>coerce_func</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h5 id=firefighter.incidents.forms.utils.EnumChoiceField.to_python class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">to_python</span> <a href=#firefighter.incidents.forms.utils.EnumChoiceField.to_python class=headerlink title="Permanent link">¤</a></h5> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>to_python</span><span class=p>(</span><span class=n>value</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/functions.html#int>int</a></span> <span class=o>|</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span> <span class=o>|</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span>
</code></pre></div> <div class="doc doc-contents "> <p>Return a value from the enum class.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/forms/utils.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-82>82</a></span>
<span class=normal><a href=#__codelineno-0-83>83</a></span>
<span class=normal><a href=#__codelineno-0-84>84</a></span>
<span class=normal><a href=#__codelineno-0-85>85</a></span>
<span class=normal><a href=#__codelineno-0-86>86</a></span>
<span class=normal><a href=#__codelineno-0-87>87</a></span>
<span class=normal><a href=#__codelineno-0-88>88</a></span>
<span class=normal><a href=#__codelineno-0-89>89</a></span>
<span class=normal><a href=#__codelineno-0-90>90</a></span>
<span class=normal><a href=#__codelineno-0-91>91</a></span>
<span class=normal><a href=#__codelineno-0-92>92</a></span>
<span class=normal><a href=#__codelineno-0-93>93</a></span>
<span class=normal><a href=#__codelineno-0-94>94</a></span>
<span class=normal><a href=#__codelineno-0-95>95</a></span>
<span class=normal><a href=#__codelineno-0-96>96</a></span>
<span class=normal><a href=#__codelineno-0-97>97</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-82 name=__codelineno-0-82></a><span class=k>def</span><span class=w> </span><span class=nf>to_python</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span> <span class=o>|</span> <span class=nb>str</span> <span class=o>|</span> <span class=n>Any</span><span class=p>:</span>
<a id=__codelineno-0-83 name=__codelineno-0-83></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Return a value from the enum class.&quot;&quot;&quot;</span>
<a id=__codelineno-0-84 name=__codelineno-0-84></a>    <span class=k>if</span> <span class=n>value</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>empty_values</span><span class=p>:</span>
<a id=__codelineno-0-85 name=__codelineno-0-85></a>        <span class=k>return</span> <span class=s2>&quot;&quot;</span>
<a id=__codelineno-0-86 name=__codelineno-0-86></a>    <span class=c1># Cast to int if it&#39;s a string representation of an int</span>
<a id=__codelineno-0-87 name=__codelineno-0-87></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>str</span><span class=p>)</span> <span class=ow>and</span> <span class=n>value</span><span class=o>.</span><span class=n>isdigit</span><span class=p>():</span>
<a id=__codelineno-0-88 name=__codelineno-0-88></a>        <span class=n>value</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
<a id=__codelineno-0-89 name=__codelineno-0-89></a>
<a id=__codelineno-0-90 name=__codelineno-0-90></a>    <span class=c1># If value is already a valid enum member, return it</span>
<a id=__codelineno-0-91 name=__codelineno-0-91></a>    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>enum_class</span><span class=p>):</span>
<a id=__codelineno-0-92 name=__codelineno-0-92></a>        <span class=k>return</span> <span class=n>value</span>
<a id=__codelineno-0-93 name=__codelineno-0-93></a>    <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-0-94 name=__codelineno-0-94></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>coerce_func</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
<a id=__codelineno-0-95 name=__codelineno-0-95></a>    <span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>exc</span><span class=p>:</span>
<a id=__codelineno-0-96 name=__codelineno-0-96></a>        <span class=n>err_msg</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2> is not a valid </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>enum_class</span><span class=o>.</span><span class=vm>__name__</span><span class=si>}</span><span class=s2>&quot;</span>
<a id=__codelineno-0-97 name=__codelineno-0-97></a>        <span class=k>raise</span> <span class=n>ValidationError</span><span class=p>(</span><span class=n>err_msg</span><span class=p>,</span> <span class=n>code</span><span class=o>=</span><span class=s2>&quot;invalid_choice&quot;</span><span class=p>)</span> <span class=kn>from</span><span class=w> </span><span class=nn>exc</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h2 id=firefighter.incidents.menus class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">menus</span> <a href=#firefighter.incidents.menus class=headerlink title="Permanent link">¤</a></h2> <div class="doc doc-contents "> <p><span class=doc-section-title>Functions:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            user_details_url (firefighter.incidents.menus.user_details_url)" href=#firefighter.incidents.menus.user_details_url>user_details_url</a></code></b> – <div class=doc-md-description> <p>Return a personalized title for our profile menu item.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=firefighter.incidents.menus.user_details_url class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">user_details_url</span> <a href=#firefighter.incidents.menus.user_details_url class=headerlink title="Permanent link">¤</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>user_details_url</span><span class=p>(</span><span class=n>request</span><span class=p>:</span> <span class=n><span title=firefighter.firefighter.utils.AuthenticatedHttpRequest>AuthenticatedHttpRequest</span></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span> <span class=o>|</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Return a personalized title for our profile menu item.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/menus.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-26 name=__codelineno-0-26></a><span class=k>def</span><span class=w> </span><span class=nf>user_details_url</span><span class=p>(</span><span class=n>request</span><span class=p>:</span> <span class=n>AuthenticatedHttpRequest</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-27 name=__codelineno-0-27></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Return a personalized title for our profile menu item.&quot;&quot;&quot;</span>
<a id=__codelineno-0-28 name=__codelineno-0-28></a>    <span class=k>if</span> <span class=n>request</span><span class=o>.</span><span class=n>user</span><span class=o>.</span><span class=n>is_authenticated</span><span class=p>:</span>
<a id=__codelineno-0-29 name=__codelineno-0-29></a>        <span class=k>return</span> <span class=n>request</span><span class=o>.</span><span class=n>user</span><span class=o>.</span><span class=n>get_absolute_url</span><span class=p>()</span>
<a id=__codelineno-0-30 name=__codelineno-0-30></a>    <span class=k>return</span> <span class=kc>None</span>  <span class=c1># type: ignore[unreachable]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h2 id=firefighter.incidents.migrations class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">migrations</span> <a href=#firefighter.incidents.migrations class=headerlink title="Permanent link">¤</a></h2> <div class="doc doc-contents "> <p><span class=doc-section-title>Modules:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            0006_update_group_names (firefighter.incidents.migrations.0006_update_group_names)" href=#firefighter.incidents.migrations.0006_update_group_names>0006_update_group_names</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            0007_update_component_name (firefighter.incidents.migrations.0007_update_component_name)" href=#firefighter.incidents.migrations.0007_update_component_name>0007_update_component_name</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            0008_add_new_components (firefighter.incidents.migrations.0008_add_new_components)" href=#firefighter.incidents.migrations.0008_add_new_components>0008_add_new_components</a></code></b> – <div class=doc-md-description> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-module"> <h3 id=firefighter.incidents.migrations.0006_update_group_names class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">0006_update_group_names</span> <a href=#firefighter.incidents.migrations.0006_update_group_names class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Functions:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            get_group_mappings (firefighter.incidents.migrations.0006_update_group_names.get_group_mappings)" href=#firefighter.incidents.migrations.0006_update_group_names.get_group_mappings>get_group_mappings</a></code></b> – <div class=doc-md-description> <p>Returns the mapping table for updating existing groups.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            get_new_groups (firefighter.incidents.migrations.0006_update_group_names.get_new_groups)" href=#firefighter.incidents.migrations.0006_update_group_names.get_new_groups>get_new_groups</a></code></b> – <div class=doc-md-description> <p>Returns a dictionary of new groups to be created.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h4 id=firefighter.incidents.migrations.0006_update_group_names.get_group_mappings class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">get_group_mappings</span> <a href=#firefighter.incidents.migrations.0006_update_group_names.get_group_mappings class=headerlink title="Permanent link">¤</a></h4> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_group_mappings</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#dict>dict</a></span>
</code></pre></div> <div class="doc doc-contents "> <p>Returns the mapping table for updating existing groups.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/migrations/0006_update_group_names.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-8> 8</a></span>
<span class=normal><a href=#__codelineno-0-9> 9</a></span>
<span class=normal><a href=#__codelineno-0-10>10</a></span>
<span class=normal><a href=#__codelineno-0-11>11</a></span>
<span class=normal><a href=#__codelineno-0-12>12</a></span>
<span class=normal><a href=#__codelineno-0-13>13</a></span>
<span class=normal><a href=#__codelineno-0-14>14</a></span>
<span class=normal><a href=#__codelineno-0-15>15</a></span>
<span class=normal><a href=#__codelineno-0-16>16</a></span>
<span class=normal><a href=#__codelineno-0-17>17</a></span>
<span class=normal><a href=#__codelineno-0-18>18</a></span>
<span class=normal><a href=#__codelineno-0-19>19</a></span>
<span class=normal><a href=#__codelineno-0-20>20</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-8 name=__codelineno-0-8></a><span class=k>def</span><span class=w> </span><span class=nf>get_group_mappings</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
<a id=__codelineno-0-9 name=__codelineno-0-9></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns the mapping table for updating existing groups.&quot;&quot;&quot;</span>
<a id=__codelineno-0-10 name=__codelineno-0-10></a>    <span class=k>return</span> <span class=p>{</span>
<a id=__codelineno-0-11 name=__codelineno-0-11></a>        <span class=s2>&quot;Platform&quot;</span><span class=p>:</span> <span class=p>(</span><span class=s2>&quot;Platform&quot;</span><span class=p>,</span> <span class=mi>8</span><span class=p>),</span>
<a id=__codelineno-0-12 name=__codelineno-0-12></a>        <span class=s2>&quot;Visitors&quot;</span><span class=p>:</span> <span class=p>(</span><span class=s2>&quot;Marketplace&quot;</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span>
<a id=__codelineno-0-13 name=__codelineno-0-13></a>        <span class=s2>&quot;Specialist Offer (Catalog/Seller)&quot;</span><span class=p>:</span> <span class=p>(</span><span class=s2>&quot;Catalog&quot;</span><span class=p>,</span> <span class=mi>4</span><span class=p>),</span>
<a id=__codelineno-0-14 name=__codelineno-0-14></a>        <span class=s2>&quot;Operations&quot;</span><span class=p>:</span> <span class=p>(</span><span class=s2>&quot;Operations&quot;</span><span class=p>,</span> <span class=mi>6</span><span class=p>),</span>
<a id=__codelineno-0-15 name=__codelineno-0-15></a>        <span class=s2>&quot;Money&quot;</span><span class=p>:</span> <span class=p>(</span><span class=s2>&quot;Payment Operations&quot;</span><span class=p>,</span> <span class=mi>5</span><span class=p>),</span>
<a id=__codelineno-0-16 name=__codelineno-0-16></a>        <span class=s2>&quot;Security&quot;</span><span class=p>:</span> <span class=p>(</span><span class=s2>&quot;Security&quot;</span><span class=p>,</span> <span class=mi>10</span><span class=p>),</span>
<a id=__codelineno-0-17 name=__codelineno-0-17></a>        <span class=c1># &quot;Data Platform&quot;: (&quot;Data&quot;, 9), WARN: this one does not exists in dump</span>
<a id=__codelineno-0-18 name=__codelineno-0-18></a>        <span class=s2>&quot;Corporate IT&quot;</span><span class=p>:</span> <span class=p>(</span><span class=s2>&quot;Corporate IT&quot;</span><span class=p>,</span> <span class=mi>11</span><span class=p>),</span>
<a id=__codelineno-0-19 name=__codelineno-0-19></a>        <span class=s2>&quot;Other&quot;</span><span class=p>:</span> <span class=p>(</span><span class=s2>&quot;Other&quot;</span><span class=p>,</span> <span class=mi>12</span><span class=p>),</span>
<a id=__codelineno-0-20 name=__codelineno-0-20></a>    <span class=p>}</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=firefighter.incidents.migrations.0006_update_group_names.get_new_groups class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">get_new_groups</span> <a href=#firefighter.incidents.migrations.0006_update_group_names.get_new_groups class=headerlink title="Permanent link">¤</a></h4> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_new_groups</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#dict>dict</a></span>
</code></pre></div> <div class="doc doc-contents "> <p>Returns a dictionary of new groups to be created.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/migrations/0006_update_group_names.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-23 name=__codelineno-0-23></a><span class=k>def</span><span class=w> </span><span class=nf>get_new_groups</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
<a id=__codelineno-0-24 name=__codelineno-0-24></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns a dictionary of new groups to be created.&quot;&quot;&quot;</span>
<a id=__codelineno-0-25 name=__codelineno-0-25></a>    <span class=k>return</span> <span class=p>{</span>
<a id=__codelineno-0-26 name=__codelineno-0-26></a>        <span class=s2>&quot;Marketing &amp; Communication&quot;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
<a id=__codelineno-0-27 name=__codelineno-0-27></a>        <span class=s2>&quot;Seller&quot;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span>
<a id=__codelineno-0-28 name=__codelineno-0-28></a>        <span class=s2>&quot;Finance&quot;</span><span class=p>:</span> <span class=mi>7</span><span class=p>,</span>
<a id=__codelineno-0-29 name=__codelineno-0-29></a>    <span class=p>}</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h3 id=firefighter.incidents.migrations.0007_update_component_name class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">0007_update_component_name</span> <a href=#firefighter.incidents.migrations.0007_update_component_name class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Functions:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            get_component_mappings (firefighter.incidents.migrations.0007_update_component_name.get_component_mappings)" href=#firefighter.incidents.migrations.0007_update_component_name.get_component_mappings>get_component_mappings</a></code></b> – <div class=doc-md-description> <p>Returns a list of tuples for updating existing component names and their attributes.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h4 id=firefighter.incidents.migrations.0007_update_component_name.get_component_mappings class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">get_component_mappings</span> <a href=#firefighter.incidents.migrations.0007_update_component_name.get_component_mappings class=headerlink title="Permanent link">¤</a></h4> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_component_mappings</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#list>list</a></span>
</code></pre></div> <div class="doc doc-contents "> <p>Returns a list of tuples for updating existing component names and their attributes.</p> <details class=each-tuple-contains open> <summary>Each tuple contains</summary> <ul> <li>old_name (str): The current name of the component.</li> <li>new_name (str): The new name to assign to the component.</li> <li>slack_channel (str): The associated Slack channel for the component.</li> <li>group_name (str): The name of the group to which the component belongs.</li> </ul> </details> <p><span class=doc-section-title>Returns:</span></p> <ul> <li class="doc-section-item field-body"> <b><code>list</code></b> ( <code><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#list>list</a></code> ) – <div class=doc-md-description> <p>A list of tuples, each representing the details for a component update.</p> </div> </li> </ul> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/migrations/0007_update_component_name.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-8> 8</a></span>
<span class=normal><a href=#__codelineno-0-9> 9</a></span>
<span class=normal><a href=#__codelineno-0-10>10</a></span>
<span class=normal><a href=#__codelineno-0-11>11</a></span>
<span class=normal><a href=#__codelineno-0-12>12</a></span>
<span class=normal><a href=#__codelineno-0-13>13</a></span>
<span class=normal><a href=#__codelineno-0-14>14</a></span>
<span class=normal><a href=#__codelineno-0-15>15</a></span>
<span class=normal><a href=#__codelineno-0-16>16</a></span>
<span class=normal><a href=#__codelineno-0-17>17</a></span>
<span class=normal><a href=#__codelineno-0-18>18</a></span>
<span class=normal><a href=#__codelineno-0-19>19</a></span>
<span class=normal><a href=#__codelineno-0-20>20</a></span>
<span class=normal><a href=#__codelineno-0-21>21</a></span>
<span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-8 name=__codelineno-0-8></a><span class=k>def</span><span class=w> </span><span class=nf>get_component_mappings</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>:</span>
<a id=__codelineno-0-9 name=__codelineno-0-9></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<a id=__codelineno-0-10 name=__codelineno-0-10></a><span class=sd>    Returns a list of tuples for updating existing component names and their attributes.</span>
<a id=__codelineno-0-11 name=__codelineno-0-11></a>
<a id=__codelineno-0-12 name=__codelineno-0-12></a><span class=sd>    Each tuple contains:</span>
<a id=__codelineno-0-13 name=__codelineno-0-13></a><span class=sd>        - old_name (str): The current name of the component.</span>
<a id=__codelineno-0-14 name=__codelineno-0-14></a><span class=sd>        - new_name (str): The new name to assign to the component.</span>
<a id=__codelineno-0-15 name=__codelineno-0-15></a><span class=sd>        - slack_channel (str): The associated Slack channel for the component.</span>
<a id=__codelineno-0-16 name=__codelineno-0-16></a><span class=sd>        - group_name (str): The name of the group to which the component belongs.</span>
<a id=__codelineno-0-17 name=__codelineno-0-17></a>
<a id=__codelineno-0-18 name=__codelineno-0-18></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-19 name=__codelineno-0-19></a><span class=sd>        list: A list of tuples, each representing the details for a component update.</span>
<a id=__codelineno-0-20 name=__codelineno-0-20></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-21 name=__codelineno-0-21></a>    <span class=k>return</span> <span class=p>[</span>
<a id=__codelineno-0-22 name=__codelineno-0-22></a>        <span class=p>(</span><span class=s2>&quot;Commercial Animation (Mabaya cat. integration &amp; ad request, ...)&quot;</span><span class=p>,</span> <span class=s2>&quot;Commercial Animation&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-commercial-animation&quot;</span><span class=p>,</span> <span class=s2>&quot;Marketplace&quot;</span><span class=p>),</span>
<a id=__codelineno-0-23 name=__codelineno-0-23></a>        <span class=p>(</span><span class=s2>&quot;Mobile Apps&quot;</span><span class=p>,</span> <span class=s2>&quot;Mobile Apps&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-mobile-apps&quot;</span><span class=p>,</span> <span class=s2>&quot;Marketplace&quot;</span><span class=p>),</span>
<a id=__codelineno-0-24 name=__codelineno-0-24></a>        <span class=p>(</span><span class=s2>&quot;Spartacux Foundations&quot;</span><span class=p>,</span> <span class=s2>&quot;Spartacux Foundations&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-spartacux-foundations&quot;</span><span class=p>,</span> <span class=s2>&quot;Marketplace&quot;</span><span class=p>),</span>
<a id=__codelineno-0-25 name=__codelineno-0-25></a>        <span class=p>(</span><span class=s2>&quot;Tracking&quot;</span><span class=p>,</span> <span class=s2>&quot;Tracking&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-tracking&quot;</span><span class=p>,</span> <span class=s2>&quot;Marketplace&quot;</span><span class=p>),</span>
<a id=__codelineno-0-26 name=__codelineno-0-26></a>        <span class=p>(</span><span class=s2>&quot;HUB Integrators&quot;</span><span class=p>,</span> <span class=s2>&quot;HUB Integrators&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-hub-integrators&quot;</span><span class=p>,</span> <span class=s2>&quot;Seller&quot;</span><span class=p>),</span>
<a id=__codelineno-0-27 name=__codelineno-0-27></a>        <span class=p>(</span><span class=s2>&quot;Seller Account and Feeds&quot;</span><span class=p>,</span> <span class=s2>&quot;Seller Catalog and Offer Management&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-seller-catalog-offer-management&quot;</span><span class=p>,</span> <span class=s2>&quot;Seller&quot;</span><span class=p>),</span>
<a id=__codelineno-0-28 name=__codelineno-0-28></a>        <span class=p>(</span><span class=s2>&quot;Toolbox&quot;</span><span class=p>,</span> <span class=s2>&quot;Seller Admin and Experience&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-seller-admin-experience&quot;</span><span class=p>,</span> <span class=s2>&quot;Seller&quot;</span><span class=p>),</span>
<a id=__codelineno-0-29 name=__codelineno-0-29></a>        <span class=p>(</span><span class=s2>&quot;Seller Services (Mabaya BO, Subscriptions, MF)&quot;</span><span class=p>,</span> <span class=s2>&quot;Seller Services&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-seller-services&quot;</span><span class=p>,</span> <span class=s2>&quot;Seller&quot;</span><span class=p>),</span>
<a id=__codelineno-0-30 name=__codelineno-0-30></a>        <span class=p>(</span><span class=s2>&quot;Catalog Performance&quot;</span><span class=p>,</span> <span class=s2>&quot;Catalog Performance&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-catalog-performance&quot;</span><span class=p>,</span> <span class=s2>&quot;Catalog&quot;</span><span class=p>),</span>
<a id=__codelineno-0-31 name=__codelineno-0-31></a>        <span class=p>(</span><span class=s2>&quot;Offer (Price, Stock)&quot;</span><span class=p>,</span> <span class=s2>&quot;Offer (Price &amp; Stock)&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-offer-price-stock&quot;</span><span class=p>,</span> <span class=s2>&quot;Catalog&quot;</span><span class=p>),</span>
<a id=__codelineno-0-32 name=__codelineno-0-32></a>        <span class=p>(</span><span class=s2>&quot;Back Office&quot;</span><span class=p>,</span> <span class=s2>&quot;BO Catalog - Master Experience&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-bo-catalog-master-experience&quot;</span><span class=p>,</span> <span class=s2>&quot;Catalog&quot;</span><span class=p>),</span>
<a id=__codelineno-0-33 name=__codelineno-0-33></a>        <span class=p>(</span><span class=s2>&quot;Order Lifecycle&quot;</span><span class=p>,</span> <span class=s2>&quot;Order management&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-order-management&quot;</span><span class=p>,</span> <span class=s2>&quot;Operations&quot;</span><span class=p>),</span>
<a id=__codelineno-0-34 name=__codelineno-0-34></a>        <span class=p>(</span><span class=s2>&quot;Delivery Experience&quot;</span><span class=p>,</span> <span class=s2>&quot;Delivery experience&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-delivery-experience&quot;</span><span class=p>,</span> <span class=s2>&quot;Operations&quot;</span><span class=p>),</span>
<a id=__codelineno-0-35 name=__codelineno-0-35></a>        <span class=p>(</span><span class=s2>&quot;Cloud Infrastructure&quot;</span><span class=p>,</span> <span class=s2>&quot;Cloud Infrastructure&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-cloud-infrastructure&quot;</span><span class=p>,</span> <span class=s2>&quot;Platform&quot;</span><span class=p>),</span>
<a id=__codelineno-0-36 name=__codelineno-0-36></a>        <span class=p>(</span><span class=s2>&quot;Spinak&quot;</span><span class=p>,</span> <span class=s2>&quot;Spinak&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-spinak&quot;</span><span class=p>,</span> <span class=s2>&quot;Platform&quot;</span><span class=p>),</span>
<a id=__codelineno-0-37 name=__codelineno-0-37></a>        <span class=p>(</span><span class=s2>&quot;CDN&quot;</span><span class=p>,</span> <span class=s2>&quot;CDN&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-cdn&quot;</span><span class=p>,</span> <span class=s2>&quot;Platform&quot;</span><span class=p>),</span>
<a id=__codelineno-0-38 name=__codelineno-0-38></a>        <span class=p>(</span><span class=s2>&quot;Gitlab&quot;</span><span class=p>,</span> <span class=s2>&quot;Gitlab&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-gitlab&quot;</span><span class=p>,</span> <span class=s2>&quot;Platform&quot;</span><span class=p>),</span>
<a id=__codelineno-0-39 name=__codelineno-0-39></a>    <span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h3 id=firefighter.incidents.migrations.0008_add_new_components class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">0008_add_new_components</span> <a href=#firefighter.incidents.migrations.0008_add_new_components class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Functions:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            get_new_components (firefighter.incidents.migrations.0008_add_new_components.get_new_components)" href=#firefighter.incidents.migrations.0008_add_new_components.get_new_components>get_new_components</a></code></b> – <div class=doc-md-description> <p>Returns a dictionary of new components to be created.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h4 id=firefighter.incidents.migrations.0008_add_new_components.get_new_components class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">get_new_components</span> <a href=#firefighter.incidents.migrations.0008_add_new_components.get_new_components class=headerlink title="Permanent link">¤</a></h4> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_new_components</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#dict>dict</a></span>
</code></pre></div> <div class="doc doc-contents "> <p>Returns a dictionary of new components to be created.</p> <p>Each entry in the dictionary maps a component name to a tuple containing: - group_name: The name of the group the component belongs to. - slack_channel: The associated Slack channel for the component.</p> <p><span class=doc-section-title>Returns:</span></p> <ul> <li class="doc-section-item field-body"> <b><code>dict</code></b> ( <code><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#dict>dict</a></code> ) – <div class=doc-md-description> <p>A mapping of component names to (group name, slack channel) tuples.</p> </div> </li> </ul> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/migrations/0008_add_new_components.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-8> 8</a></span>
<span class=normal><a href=#__codelineno-0-9> 9</a></span>
<span class=normal><a href=#__codelineno-0-10>10</a></span>
<span class=normal><a href=#__codelineno-0-11>11</a></span>
<span class=normal><a href=#__codelineno-0-12>12</a></span>
<span class=normal><a href=#__codelineno-0-13>13</a></span>
<span class=normal><a href=#__codelineno-0-14>14</a></span>
<span class=normal><a href=#__codelineno-0-15>15</a></span>
<span class=normal><a href=#__codelineno-0-16>16</a></span>
<span class=normal><a href=#__codelineno-0-17>17</a></span>
<span class=normal><a href=#__codelineno-0-18>18</a></span>
<span class=normal><a href=#__codelineno-0-19>19</a></span>
<span class=normal><a href=#__codelineno-0-20>20</a></span>
<span class=normal><a href=#__codelineno-0-21>21</a></span>
<span class=normal><a href=#__codelineno-0-22>22</a></span>
<span class=normal><a href=#__codelineno-0-23>23</a></span>
<span class=normal><a href=#__codelineno-0-24>24</a></span>
<span class=normal><a href=#__codelineno-0-25>25</a></span>
<span class=normal><a href=#__codelineno-0-26>26</a></span>
<span class=normal><a href=#__codelineno-0-27>27</a></span>
<span class=normal><a href=#__codelineno-0-28>28</a></span>
<span class=normal><a href=#__codelineno-0-29>29</a></span>
<span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-8 name=__codelineno-0-8></a><span class=k>def</span><span class=w> </span><span class=nf>get_new_components</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
<a id=__codelineno-0-9 name=__codelineno-0-9></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<a id=__codelineno-0-10 name=__codelineno-0-10></a><span class=sd>    Returns a dictionary of new components to be created.</span>
<a id=__codelineno-0-11 name=__codelineno-0-11></a>
<a id=__codelineno-0-12 name=__codelineno-0-12></a><span class=sd>    Each entry in the dictionary maps a component name to a tuple containing:</span>
<a id=__codelineno-0-13 name=__codelineno-0-13></a><span class=sd>    - group_name: The name of the group the component belongs to.</span>
<a id=__codelineno-0-14 name=__codelineno-0-14></a><span class=sd>    - slack_channel: The associated Slack channel for the component.</span>
<a id=__codelineno-0-15 name=__codelineno-0-15></a>
<a id=__codelineno-0-16 name=__codelineno-0-16></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-17 name=__codelineno-0-17></a><span class=sd>        dict: A mapping of component names to (group name, slack channel) tuples.</span>
<a id=__codelineno-0-18 name=__codelineno-0-18></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-19 name=__codelineno-0-19></a>    <span class=k>return</span> <span class=p>{</span>
<a id=__codelineno-0-20 name=__codelineno-0-20></a>        <span class=s2>&quot;Traffic acquisition&quot;</span><span class=p>:</span> <span class=p>(</span><span class=s2>&quot;Marketing &amp; Communication&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-traffic-acquisition&quot;</span><span class=p>),</span>
<a id=__codelineno-0-21 name=__codelineno-0-21></a>        <span class=s2>&quot;Company reputation&quot;</span><span class=p>:</span> <span class=p>(</span><span class=s2>&quot;Marketing &amp; Communication&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-company-reputation&quot;</span><span class=p>),</span>
<a id=__codelineno-0-22 name=__codelineno-0-22></a>        <span class=s2>&quot;Loyalty and coupons&quot;</span><span class=p>:</span> <span class=p>(</span><span class=s2>&quot;Payment Operations&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-loyalty-coupons&quot;</span><span class=p>),</span>
<a id=__codelineno-0-23 name=__codelineno-0-23></a>        <span class=s2>&quot;Payouts to seller&quot;</span><span class=p>:</span> <span class=p>(</span><span class=s2>&quot;Payment Operations&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-payouts-to-seller&quot;</span><span class=p>),</span>
<a id=__codelineno-0-24 name=__codelineno-0-24></a>        <span class=s2>&quot;Refunds&quot;</span><span class=p>:</span> <span class=p>(</span><span class=s2>&quot;Payment Operations&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-refunds&quot;</span><span class=p>),</span>
<a id=__codelineno-0-25 name=__codelineno-0-25></a>        <span class=s2>&quot;Returns&quot;</span><span class=p>:</span> <span class=p>(</span><span class=s2>&quot;Operations&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-returns&quot;</span><span class=p>),</span>
<a id=__codelineno-0-26 name=__codelineno-0-26></a>        <span class=s2>&quot;Customer service&quot;</span><span class=p>:</span> <span class=p>(</span><span class=s2>&quot;Operations&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-customer-service&quot;</span><span class=p>),</span>
<a id=__codelineno-0-27 name=__codelineno-0-27></a>        <span class=s2>&quot;Inventory&quot;</span><span class=p>:</span> <span class=p>(</span><span class=s2>&quot;Operations&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-inventory&quot;</span><span class=p>),</span>
<a id=__codelineno-0-28 name=__codelineno-0-28></a>        <span class=s2>&quot;VAT&quot;</span><span class=p>:</span> <span class=p>(</span><span class=s2>&quot;Finance&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-vat&quot;</span><span class=p>),</span>
<a id=__codelineno-0-29 name=__codelineno-0-29></a>        <span class=s2>&quot;Seller&#39;s invoices&quot;</span><span class=p>:</span> <span class=p>(</span><span class=s2>&quot;Finance&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-sellers-invoices&quot;</span><span class=p>),</span>
<a id=__codelineno-0-30 name=__codelineno-0-30></a>        <span class=s2>&quot;Customer&#39;s invoices&quot;</span><span class=p>:</span> <span class=p>(</span><span class=s2>&quot;Finance&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-customers-invoices&quot;</span><span class=p>),</span>
<a id=__codelineno-0-31 name=__codelineno-0-31></a>        <span class=s2>&quot;Accounting&quot;</span><span class=p>:</span> <span class=p>(</span><span class=s2>&quot;Finance&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-accounting&quot;</span><span class=p>),</span>
<a id=__codelineno-0-32 name=__codelineno-0-32></a>        <span class=s2>&quot;Revenue&quot;</span><span class=p>:</span> <span class=p>(</span><span class=s2>&quot;Finance&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-revenue&quot;</span><span class=p>),</span>
<a id=__codelineno-0-33 name=__codelineno-0-33></a>        <span class=s2>&quot;Compromised laptop / server&quot;</span><span class=p>:</span> <span class=p>(</span><span class=s2>&quot;Security&quot;</span><span class=p>,</span> <span class=s2>&quot;impact-compromised-laptop-server&quot;</span><span class=p>),</span>
<a id=__codelineno-0-34 name=__codelineno-0-34></a>    <span class=p>}</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h2 id=firefighter.incidents.models class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">models</span> <a href=#firefighter.incidents.models class=headerlink title="Permanent link">¤</a></h2> <div class="doc doc-contents "> <p><span class=doc-section-title>Modules:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            component (firefighter.incidents.models.component)" href=#firefighter.incidents.models.component>component</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            group (firefighter.incidents.models.group)" href=#firefighter.incidents.models.group>group</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            impact (firefighter.incidents.models.impact)" href=#firefighter.incidents.models.impact>impact</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            incident (firefighter.incidents.models.incident)" href=#firefighter.incidents.models.incident>incident</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            incident_cost (firefighter.incidents.models.incident_cost)" href=#firefighter.incidents.models.incident_cost>incident_cost</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            incident_cost_type (firefighter.incidents.models.incident_cost_type)" href=#firefighter.incidents.models.incident_cost_type>incident_cost_type</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            incident_update (firefighter.incidents.models.incident_update)" href=#firefighter.incidents.models.incident_update>incident_update</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            milestone_type (firefighter.incidents.models.milestone_type)" href=#firefighter.incidents.models.milestone_type>milestone_type</a></code></b> – <div class=doc-md-description> <p>MilestoneType model.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            priority (firefighter.incidents.models.priority)" href=#firefighter.incidents.models.priority>priority</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            user (firefighter.incidents.models.user)" href=#firefighter.incidents.models.user>user</a></code></b> – <div class=doc-md-description> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-module"> <h3 id=firefighter.incidents.models.component class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">component</span> <a href=#firefighter.incidents.models.component class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Classes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            ComponentFilterSet (firefighter.incidents.models.component.ComponentFilterSet)" href=#firefighter.incidents.models.component.ComponentFilterSet>ComponentFilterSet</a></code></b> – <div class=doc-md-description> <p>Set of filters for Component, share by Web UI and API.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            ComponentManager (firefighter.incidents.models.component.ComponentManager)" href=#firefighter.incidents.models.component.ComponentManager>ComponentManager</a></code></b> – <div class=doc-md-description> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h4 id=firefighter.incidents.models.component.ComponentFilterSet class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">ComponentFilterSet</span> <a href=#firefighter.incidents.models.component.ComponentFilterSet class=headerlink title="Permanent link">¤</a></h4> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=django_filters.FilterSet>FilterSet</span></code></p> <p>Set of filters for Component, share by Web UI and API.</p> <p><span class=doc-section-title>Methods:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            component_search


  
      staticmethod
   (firefighter.incidents.models.component.ComponentFilterSet.component_search)" href=#firefighter.incidents.models.component.ComponentFilterSet.component_search>component_search</a></code></b> – <div class=doc-md-description> <p>Search incidents by title, description, and ID.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h5 id=firefighter.incidents.models.component.ComponentFilterSet.component_search class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">component_search</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small> </span> <a href=#firefighter.incidents.models.component.ComponentFilterSet.component_search class=headerlink title="Permanent link">¤</a></h5> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>component_search</span><span class=p>(</span><span class=n>queryset</span><span class=p>:</span> <span class=n><span title=django.db.models.QuerySet>QuerySet</span></span><span class=p>[</span><span class=n><span title=firefighter.incidents.models.component.Component>Component</span></span><span class=p>],</span> <span class=n>_name</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><span title=django.db.models.QuerySet>QuerySet</span></span><span class=p>[</span><span class=n><span title=firefighter.incidents.models.component.Component>Component</span></span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>Search incidents by title, description, and ID.</p> <p><span class=doc-section-title>Parameters:</span></p> <ul> <li class="doc-section-item field-body"> <b><code>queryset</code></b> (<code><span title=django.db.models.QuerySet>QuerySet</span>[<span title=firefighter.incidents.models.component.Component>Component</span>]</code>) – <div class=doc-md-description> <p>Queryset to search in.</p> </div> </li> <li class="doc-section-item field-body"> <b><code>_name</code></b> (<code><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></code>) – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code>value</code></b> (<code><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></code>) – <div class=doc-md-description> <p>Value to search for.</p> </div> </li> </ul> <p><span class=doc-section-title>Returns:</span></p> <ul> <li class="doc-section-item field-body"> <code><span title=django.db.models.QuerySet>QuerySet</span>[<span title=firefighter.incidents.models.component.Component>Component</span>]</code> – <div class=doc-md-description> <p>QuerySet[Component]: Search results.</p> </div> </li> </ul> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/models/component.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-200>200</a></span>
<span class=normal><a href=#__codelineno-0-201>201</a></span>
<span class=normal><a href=#__codelineno-0-202>202</a></span>
<span class=normal><a href=#__codelineno-0-203>203</a></span>
<span class=normal><a href=#__codelineno-0-204>204</a></span>
<span class=normal><a href=#__codelineno-0-205>205</a></span>
<span class=normal><a href=#__codelineno-0-206>206</a></span>
<span class=normal><a href=#__codelineno-0-207>207</a></span>
<span class=normal><a href=#__codelineno-0-208>208</a></span>
<span class=normal><a href=#__codelineno-0-209>209</a></span>
<span class=normal><a href=#__codelineno-0-210>210</a></span>
<span class=normal><a href=#__codelineno-0-211>211</a></span>
<span class=normal><a href=#__codelineno-0-212>212</a></span>
<span class=normal><a href=#__codelineno-0-213>213</a></span>
<span class=normal><a href=#__codelineno-0-214>214</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-200 name=__codelineno-0-200></a><span class=nd>@staticmethod</span>
<a id=__codelineno-0-201 name=__codelineno-0-201></a><span class=k>def</span><span class=w> </span><span class=nf>component_search</span><span class=p>(</span>
<a id=__codelineno-0-202 name=__codelineno-0-202></a>    <span class=n>queryset</span><span class=p>:</span> <span class=n>QuerySet</span><span class=p>[</span><span class=n>Component</span><span class=p>],</span> <span class=n>_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=nb>str</span>
<a id=__codelineno-0-203 name=__codelineno-0-203></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>QuerySet</span><span class=p>[</span><span class=n>Component</span><span class=p>]:</span>
<a id=__codelineno-0-204 name=__codelineno-0-204></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Search incidents by title, description, and ID.</span>
<a id=__codelineno-0-205 name=__codelineno-0-205></a>
<a id=__codelineno-0-206 name=__codelineno-0-206></a><span class=sd>    Args:</span>
<a id=__codelineno-0-207 name=__codelineno-0-207></a><span class=sd>        queryset (QuerySet[Component]): Queryset to search in.</span>
<a id=__codelineno-0-208 name=__codelineno-0-208></a><span class=sd>        _name:</span>
<a id=__codelineno-0-209 name=__codelineno-0-209></a><span class=sd>        value (str): Value to search for.</span>
<a id=__codelineno-0-210 name=__codelineno-0-210></a>
<a id=__codelineno-0-211 name=__codelineno-0-211></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-212 name=__codelineno-0-212></a><span class=sd>        QuerySet[Component]: Search results.</span>
<a id=__codelineno-0-213 name=__codelineno-0-213></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-214 name=__codelineno-0-214></a>    <span class=k>return</span> <span class=n>Component</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=n>queryset</span><span class=o>=</span><span class=n>queryset</span><span class=p>,</span> <span class=n>search_term</span><span class=o>=</span><span class=n>value</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h4 id=firefighter.incidents.models.component.ComponentManager class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">ComponentManager</span> <a href=#firefighter.incidents.models.component.ComponentManager class=headerlink title="Permanent link">¤</a></h4> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-external" title=django.db.models.Manager href=https://docs.djangoproject.com/en/4.2/topics/db/managers/#django.db.models.Manager>Manager</a>[&#39;Component&#39;]</code></p> <p><span class=doc-section-title>Methods:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            queryset_with_mtbf (firefighter.incidents.models.component.ComponentManager.queryset_with_mtbf)" href=#firefighter.incidents.models.component.ComponentManager.queryset_with_mtbf>queryset_with_mtbf</a></code></b> – <div class=doc-md-description> <p>Returns a queryset of components with an additional <code>mtbf</code> field.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h5 id=firefighter.incidents.models.component.ComponentManager.queryset_with_mtbf class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">queryset_with_mtbf</span> <a href=#firefighter.incidents.models.component.ComponentManager.queryset_with_mtbf class=headerlink title="Permanent link">¤</a></h5> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>queryset_with_mtbf</span><span class=p>(</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    <span class=n>date_from</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=datetime.datetime href=https://docs.python.org/3.12/library/datetime.html#datetime.datetime>datetime</a></span><span class=p>,</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>    <span class=n>date_to</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=datetime.datetime href=https://docs.python.org/3.12/library/datetime.html#datetime.datetime>datetime</a></span><span class=p>,</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>    <span class=n>queryset</span><span class=p>:</span> <span class=n><span title=django.db.models.QuerySet>QuerySet</span></span><span class=p>[</span><span class=n><span title=firefighter.incidents.models.component.Component>Component</span></span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>    <span class=n>metric_type</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span> <span class=o>=</span> <span class=s2>&quot;time_to_fix&quot;</span><span class=p>,</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>    <span class=n>field_name</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span> <span class=o>=</span> <span class=s2>&quot;mtbf&quot;</span><span class=p>,</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><span title=django.db.models.QuerySet>QuerySet</span></span><span class=p>[</span><span class=n><span title=firefighter.incidents.models.component.Component>Component</span></span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>Returns a queryset of components with an additional <code>mtbf</code> field.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/models/component.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span>
<span class=normal><a href=#__codelineno-0-58>58</a></span>
<span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span>
<span class=normal><a href=#__codelineno-0-62>62</a></span>
<span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span>
<span class=normal><a href=#__codelineno-0-66>66</a></span>
<span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span>
<span class=normal><a href=#__codelineno-0-69>69</a></span>
<span class=normal><a href=#__codelineno-0-70>70</a></span>
<span class=normal><a href=#__codelineno-0-71>71</a></span>
<span class=normal><a href=#__codelineno-0-72>72</a></span>
<span class=normal><a href=#__codelineno-0-73>73</a></span>
<span class=normal><a href=#__codelineno-0-74>74</a></span>
<span class=normal><a href=#__codelineno-0-75>75</a></span>
<span class=normal><a href=#__codelineno-0-76>76</a></span>
<span class=normal><a href=#__codelineno-0-77>77</a></span>
<span class=normal><a href=#__codelineno-0-78>78</a></span>
<span class=normal><a href=#__codelineno-0-79>79</a></span>
<span class=normal><a href=#__codelineno-0-80>80</a></span>
<span class=normal><a href=#__codelineno-0-81>81</a></span>
<span class=normal><a href=#__codelineno-0-82>82</a></span>
<span class=normal><a href=#__codelineno-0-83>83</a></span>
<span class=normal><a href=#__codelineno-0-84>84</a></span>
<span class=normal><a href=#__codelineno-0-85>85</a></span>
<span class=normal><a href=#__codelineno-0-86>86</a></span>
<span class=normal><a href=#__codelineno-0-87>87</a></span>
<span class=normal><a href=#__codelineno-0-88>88</a></span>
<span class=normal><a href=#__codelineno-0-89>89</a></span>
<span class=normal><a href=#__codelineno-0-90>90</a></span>
<span class=normal><a href=#__codelineno-0-91>91</a></span>
<span class=normal><a href=#__codelineno-0-92>92</a></span>
<span class=normal><a href=#__codelineno-0-93>93</a></span>
<span class=normal><a href=#__codelineno-0-94>94</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-46 name=__codelineno-0-46></a><span class=k>def</span><span class=w> </span><span class=nf>queryset_with_mtbf</span><span class=p>(</span>
<a id=__codelineno-0-47 name=__codelineno-0-47></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-48 name=__codelineno-0-48></a>    <span class=n>date_from</span><span class=p>:</span> <span class=n>datetime</span><span class=p>,</span>
<a id=__codelineno-0-49 name=__codelineno-0-49></a>    <span class=n>date_to</span><span class=p>:</span> <span class=n>datetime</span><span class=p>,</span>
<a id=__codelineno-0-50 name=__codelineno-0-50></a>    <span class=n>queryset</span><span class=p>:</span> <span class=n>QuerySet</span><span class=p>[</span><span class=n>Component</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-51 name=__codelineno-0-51></a>    <span class=n>metric_type</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;time_to_fix&quot;</span><span class=p>,</span>
<a id=__codelineno-0-52 name=__codelineno-0-52></a>    <span class=n>field_name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;mtbf&quot;</span><span class=p>,</span>
<a id=__codelineno-0-53 name=__codelineno-0-53></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>QuerySet</span><span class=p>[</span><span class=n>Component</span><span class=p>]:</span>
<a id=__codelineno-0-54 name=__codelineno-0-54></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns a queryset of components with an additional `mtbf` field.&quot;&quot;&quot;</span>
<a id=__codelineno-0-55 name=__codelineno-0-55></a>    <span class=n>date_to</span> <span class=o>=</span> <span class=nb>min</span><span class=p>(</span><span class=n>date_to</span><span class=p>,</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>(</span><span class=n>tz</span><span class=o>=</span><span class=n>TZ</span><span class=p>))</span>
<a id=__codelineno-0-56 name=__codelineno-0-56></a>
<a id=__codelineno-0-57 name=__codelineno-0-57></a>    <span class=n>date_interval</span> <span class=o>=</span> <span class=n>date_to</span> <span class=o>-</span> <span class=n>date_from</span>
<a id=__codelineno-0-58 name=__codelineno-0-58></a>    <span class=n>queryset</span> <span class=o>=</span> <span class=n>queryset</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_queryset</span><span class=p>()</span>
<a id=__codelineno-0-59 name=__codelineno-0-59></a>
<a id=__codelineno-0-60 name=__codelineno-0-60></a>    <span class=k>return</span> <span class=p>(</span>
<a id=__codelineno-0-61 name=__codelineno-0-61></a>        <span class=n>queryset</span><span class=o>.</span><span class=n>order_by</span><span class=p>(</span><span class=s2>&quot;group__order&quot;</span><span class=p>,</span> <span class=s2>&quot;order&quot;</span><span class=p>)</span>
<a id=__codelineno-0-62 name=__codelineno-0-62></a>        <span class=o>.</span><span class=n>annotate</span><span class=p>(</span>
<a id=__codelineno-0-63 name=__codelineno-0-63></a>            <span class=n>metric_subquery</span><span class=o>=</span><span class=n>Subquery</span><span class=p>(</span>
<a id=__codelineno-0-64 name=__codelineno-0-64></a>                <span class=n>IncidentMetric</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>filter</span><span class=p>(</span>
<a id=__codelineno-0-65 name=__codelineno-0-65></a>                    <span class=n>incident__component</span><span class=o>=</span><span class=n>OuterRef</span><span class=p>(</span><span class=s2>&quot;pk&quot;</span><span class=p>),</span>
<a id=__codelineno-0-66 name=__codelineno-0-66></a>                    <span class=n>metric_type__type</span><span class=o>=</span><span class=n>metric_type</span><span class=p>,</span>
<a id=__codelineno-0-67 name=__codelineno-0-67></a>                    <span class=n>incident__created_at__gte</span><span class=o>=</span><span class=n>date_from</span><span class=p>,</span>
<a id=__codelineno-0-68 name=__codelineno-0-68></a>                    <span class=n>incident__created_at__lte</span><span class=o>=</span><span class=n>date_to</span><span class=p>,</span>
<a id=__codelineno-0-69 name=__codelineno-0-69></a>                <span class=p>)</span>
<a id=__codelineno-0-70 name=__codelineno-0-70></a>                <span class=o>.</span><span class=n>values</span><span class=p>(</span><span class=s2>&quot;incident__component&quot;</span><span class=p>)</span>
<a id=__codelineno-0-71 name=__codelineno-0-71></a>                <span class=o>.</span><span class=n>annotate</span><span class=p>(</span><span class=n>sum_downtime</span><span class=o>=</span><span class=n>Sum</span><span class=p>(</span><span class=s2>&quot;duration&quot;</span><span class=p>))</span>
<a id=__codelineno-0-72 name=__codelineno-0-72></a>                <span class=o>.</span><span class=n>values</span><span class=p>(</span><span class=s2>&quot;sum_downtime&quot;</span><span class=p>)</span>
<a id=__codelineno-0-73 name=__codelineno-0-73></a>            <span class=p>)</span>
<a id=__codelineno-0-74 name=__codelineno-0-74></a>        <span class=p>)</span>
<a id=__codelineno-0-75 name=__codelineno-0-75></a>        <span class=o>.</span><span class=n>annotate</span><span class=p>(</span>
<a id=__codelineno-0-76 name=__codelineno-0-76></a>            <span class=n>incident_count</span><span class=o>=</span><span class=n>Count</span><span class=p>(</span>
<a id=__codelineno-0-77 name=__codelineno-0-77></a>                <span class=s2>&quot;incident&quot;</span><span class=p>,</span>
<a id=__codelineno-0-78 name=__codelineno-0-78></a>                <span class=nb>filter</span><span class=o>=</span><span class=n>Q</span><span class=p>(</span>
<a id=__codelineno-0-79 name=__codelineno-0-79></a>                    <span class=n>incident__created_at__gte</span><span class=o>=</span><span class=n>date_from</span><span class=p>,</span>
<a id=__codelineno-0-80 name=__codelineno-0-80></a>                <span class=p>)</span>
<a id=__codelineno-0-81 name=__codelineno-0-81></a>                <span class=o>&amp;</span> <span class=n>Q</span><span class=p>(</span>
<a id=__codelineno-0-82 name=__codelineno-0-82></a>                    <span class=n>incident__created_at__lte</span><span class=o>=</span><span class=n>date_to</span><span class=p>,</span>
<a id=__codelineno-0-83 name=__codelineno-0-83></a>                <span class=p>),</span>
<a id=__codelineno-0-84 name=__codelineno-0-84></a>            <span class=p>),</span>
<a id=__codelineno-0-85 name=__codelineno-0-85></a>            <span class=n>incidents_downtime</span><span class=o>=</span><span class=n>F</span><span class=p>(</span><span class=s2>&quot;metric_subquery&quot;</span><span class=p>),</span>
<a id=__codelineno-0-86 name=__codelineno-0-86></a>            <span class=n>incident_uptime</span><span class=o>=</span><span class=n>Value</span><span class=p>(</span><span class=n>date_interval</span><span class=p>)</span> <span class=o>-</span> <span class=n>F</span><span class=p>(</span><span class=s2>&quot;incidents_downtime&quot;</span><span class=p>),</span>
<a id=__codelineno-0-87 name=__codelineno-0-87></a>        <span class=p>)</span>
<a id=__codelineno-0-88 name=__codelineno-0-88></a>        <span class=o>.</span><span class=n>annotate</span><span class=p>(</span><span class=o>**</span><span class=p>{</span>
<a id=__codelineno-0-89 name=__codelineno-0-89></a>            <span class=n>field_name</span><span class=p>:</span> <span class=n>Cast</span><span class=p>(</span>
<a id=__codelineno-0-90 name=__codelineno-0-90></a>                <span class=n>F</span><span class=p>(</span><span class=s2>&quot;incident_uptime&quot;</span><span class=p>)</span> <span class=o>/</span> <span class=n>F</span><span class=p>(</span><span class=s2>&quot;incident_count&quot;</span><span class=p>),</span>
<a id=__codelineno-0-91 name=__codelineno-0-91></a>                <span class=n>output_field</span><span class=o>=</span><span class=n>DurationField</span><span class=p>(),</span>
<a id=__codelineno-0-92 name=__codelineno-0-92></a>            <span class=p>)</span>
<a id=__codelineno-0-93 name=__codelineno-0-93></a>        <span class=p>})</span>
<a id=__codelineno-0-94 name=__codelineno-0-94></a>    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h3 id=firefighter.incidents.models.group class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">group</span> <a href=#firefighter.incidents.models.group class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Classes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            Group (firefighter.incidents.models.group.Group)" href=#firefighter.incidents.models.group.Group>Group</a></code></b> – <div class=doc-md-description> <p>Group of [firefighter.incidents.models.component.Component]. Not a group of users.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h4 id=firefighter.incidents.models.group.Group class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">Group</span> <a href=#firefighter.incidents.models.group.Group class=headerlink title="Permanent link">¤</a></h4> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-external" title=django.db.models.Model href=https://docs.djangoproject.com/en/4.2/ref/models/instances/#django.db.models.Model>Model</a></code></p> <p>Group of [firefighter.incidents.models.component.Component]. Not a group of users.</p> <div class="doc doc-children"> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h3 id=firefighter.incidents.models.impact class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">impact</span> <a href=#firefighter.incidents.models.impact class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Classes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            Impact (firefighter.incidents.models.impact.Impact)" href=#firefighter.incidents.models.impact.Impact>Impact</a></code></b> – <div class=doc-md-description> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h4 id=firefighter.incidents.models.impact.Impact class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">Impact</span> <a href=#firefighter.incidents.models.impact.Impact class=headerlink title="Permanent link">¤</a></h4> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-external" title=django.db.models.Model href=https://docs.djangoproject.com/en/4.2/ref/models/instances/#django.db.models.Model>Model</a></code></p> <p><span class=doc-section-title>Methods:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            clean (firefighter.incidents.models.impact.Impact.clean)" href=#firefighter.incidents.models.impact.Impact.clean>clean</a></code></b> – <div class=doc-md-description> <p>Ensure impact_type matches impact_level.impact_type.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h5 id=firefighter.incidents.models.impact.Impact.clean class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">clean</span> <a href=#firefighter.incidents.models.impact.Impact.clean class=headerlink title="Permanent link">¤</a></h5> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>clean</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Ensure impact_type matches impact_level.impact_type.</p> <p>Check constraints can't span relationships, so we have to do this manually.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/models/impact.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-95 name=__codelineno-0-95></a><span class=k>def</span><span class=w> </span><span class=nf>clean</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-96 name=__codelineno-0-96></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Ensure impact_type matches impact_level.impact_type.</span>
<a id=__codelineno-0-97 name=__codelineno-0-97></a>
<a id=__codelineno-0-98 name=__codelineno-0-98></a><span class=sd>    Check constraints can&#39;t span relationships, so we have to do this manually.</span>
<a id=__codelineno-0-99 name=__codelineno-0-99></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-100 name=__codelineno-0-100></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>impact_type</span> <span class=o>!=</span> <span class=bp>self</span><span class=o>.</span><span class=n>impact_level</span><span class=o>.</span><span class=n>impact_type</span><span class=p>:</span>
<a id=__codelineno-0-101 name=__codelineno-0-101></a>        <span class=k>raise</span> <span class=n>ValidationError</span><span class=p>(</span><span class=s2>&quot;impact_type must match impact_level.impact_type&quot;</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h3 id=firefighter.incidents.models.incident class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">incident</span> <a href=#firefighter.incidents.models.incident class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Classes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            Incident (firefighter.incidents.models.incident.Incident)" href=#firefighter.incidents.models.incident.Incident>Incident</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            IncidentFilterSet (firefighter.incidents.models.incident.IncidentFilterSet)" href=#firefighter.incidents.models.incident.IncidentFilterSet>IncidentFilterSet</a></code></b> – <div class=doc-md-description> <p>Set of filters for incidents, shared by Web UI and API.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            IncidentManager (firefighter.incidents.models.incident.IncidentManager)" href=#firefighter.incidents.models.incident.IncidentManager>IncidentManager</a></code></b> – <div class=doc-md-description> </div> </li> </ul> <p><span class=doc-section-title>Functions:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            component_filter_choices_queryset (firefighter.incidents.models.incident.component_filter_choices_queryset)" href=#firefighter.incidents.models.incident.component_filter_choices_queryset>component_filter_choices_queryset</a></code></b> – <div class=doc-md-description> <p>Queryset for choices of Components in IncidentFilterSet.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h4 id=firefighter.incidents.models.incident.Incident class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">Incident</span> <a href=#firefighter.incidents.models.incident.Incident class=headerlink title="Permanent link">¤</a></h4> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-external" title=django.db.models.Model href=https://docs.djangoproject.com/en/4.2/ref/models/instances/#django.db.models.Model>Model</a></code></p> <p><span class=doc-section-title>Methods:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            build_invite_list (firefighter.incidents.models.incident.Incident.build_invite_list)" href=#firefighter.incidents.models.incident.Incident.build_invite_list>build_invite_list</a></code></b> – <div class=doc-md-description> <p>Send a Django Signal to get the list of users to invite from different integrations (Slack, Confluence, PagerDuty...).</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            compute_metrics (firefighter.incidents.models.incident.Incident.compute_metrics)" href=#firefighter.incidents.models.incident.Incident.compute_metrics>compute_metrics</a></code></b> – <div class=doc-md-description> <p>Compute all metrics (time to fix, ...) from events.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            missing_milestones (firefighter.incidents.models.incident.Incident.missing_milestones)" href=#firefighter.incidents.models.incident.Incident.missing_milestones>missing_milestones</a></code></b> – <div class=doc-md-description> <p>Returns all required Milestones still needed to compute the metrics.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            update_roles (firefighter.incidents.models.incident.Incident.update_roles)" href=#firefighter.incidents.models.incident.Incident.update_roles>update_roles</a></code></b> – <div class=doc-md-description> <p>Update the roles related to an incident, and create an IncidentUpdate.</p> </div> </li> </ul> <p><span class=doc-section-title>Attributes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            status_page_url


  
      property
   (firefighter.incidents.models.incident.Incident.status_page_url)" href=#firefighter.incidents.models.incident.Incident.status_page_url>status_page_url</a></code></b> (<code><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></code>) – <div class=doc-md-description> <p>Similar with <code>get_absolute_url</code> but with full domain, to be used out of the website.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h5 id=firefighter.incidents.models.incident.Incident.status_page_url class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">status_page_url</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#firefighter.incidents.models.incident.Incident.status_page_url class=headerlink title="Permanent link">¤</a></h5> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>status_page_url</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span>
</code></pre></div> <div class="doc doc-contents "> <p>Similar with <code>get_absolute_url</code> but with full domain, to be used out of the website.</p> </div> </div> <div class="doc doc-object doc-function"> <h5 id=firefighter.incidents.models.incident.Incident.build_invite_list class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">build_invite_list</span> <a href=#firefighter.incidents.models.incident.Incident.build_invite_list class=headerlink title="Permanent link">¤</a></h5> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>build_invite_list</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#list>list</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title="            User (firefighter.incidents.models.user.User)" href=#firefighter.incidents.models.user.User>User</a></span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>Send a Django Signal to get the list of users to invite from different integrations (Slack, Confluence, PagerDuty...).</p> <p><span class=doc-section-title>Returns:</span></p> <ul> <li class="doc-section-item field-body"> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-internal" title="            User (firefighter.incidents.models.user.User)" href=#firefighter.incidents.models.user.User>User</a>]</code> – <div class=doc-md-description> <p>list[User]: Potentially non-unique list of Users to invite</p> </div> </li> </ul> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/models/incident.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-454>454</a></span>
<span class=normal><a href=#__codelineno-0-455>455</a></span>
<span class=normal><a href=#__codelineno-0-456>456</a></span>
<span class=normal><a href=#__codelineno-0-457>457</a></span>
<span class=normal><a href=#__codelineno-0-458>458</a></span>
<span class=normal><a href=#__codelineno-0-459>459</a></span>
<span class=normal><a href=#__codelineno-0-460>460</a></span>
<span class=normal><a href=#__codelineno-0-461>461</a></span>
<span class=normal><a href=#__codelineno-0-462>462</a></span>
<span class=normal><a href=#__codelineno-0-463>463</a></span>
<span class=normal><a href=#__codelineno-0-464>464</a></span>
<span class=normal><a href=#__codelineno-0-465>465</a></span>
<span class=normal><a href=#__codelineno-0-466>466</a></span>
<span class=normal><a href=#__codelineno-0-467>467</a></span>
<span class=normal><a href=#__codelineno-0-468>468</a></span>
<span class=normal><a href=#__codelineno-0-469>469</a></span>
<span class=normal><a href=#__codelineno-0-470>470</a></span>
<span class=normal><a href=#__codelineno-0-471>471</a></span>
<span class=normal><a href=#__codelineno-0-472>472</a></span>
<span class=normal><a href=#__codelineno-0-473>473</a></span>
<span class=normal><a href=#__codelineno-0-474>474</a></span>
<span class=normal><a href=#__codelineno-0-475>475</a></span>
<span class=normal><a href=#__codelineno-0-476>476</a></span>
<span class=normal><a href=#__codelineno-0-477>477</a></span>
<span class=normal><a href=#__codelineno-0-478>478</a></span>
<span class=normal><a href=#__codelineno-0-479>479</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-454 name=__codelineno-0-454></a><span class=k>def</span><span class=w> </span><span class=nf>build_invite_list</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>[</span><span class=n>User</span><span class=p>]:</span>
<a id=__codelineno-0-455 name=__codelineno-0-455></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Send a Django Signal to get the list of users to invite from different integrations (Slack, Confluence, PagerDuty...).</span>
<a id=__codelineno-0-456 name=__codelineno-0-456></a>
<a id=__codelineno-0-457 name=__codelineno-0-457></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-458 name=__codelineno-0-458></a><span class=sd>        list[User]: Potentially non-unique list of Users to invite</span>
<a id=__codelineno-0-459 name=__codelineno-0-459></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-460 name=__codelineno-0-460></a>    <span class=n>users_list</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=n>User</span><span class=p>]</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-0-461 name=__codelineno-0-461></a>
<a id=__codelineno-0-462 name=__codelineno-0-462></a>    <span class=c1># Send signal to modules (Confluence, PagerDuty...)</span>
<a id=__codelineno-0-463 name=__codelineno-0-463></a>    <span class=n>result_users</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>tuple</span><span class=p>[</span><span class=n>Any</span><span class=p>,</span> <span class=ne>Exception</span> <span class=o>|</span> <span class=n>Iterable</span><span class=p>[</span><span class=n>User</span><span class=p>]]]</span> <span class=o>=</span> <span class=p>(</span>
<a id=__codelineno-0-464 name=__codelineno-0-464></a>        <span class=n>signals</span><span class=o>.</span><span class=n>get_invites</span><span class=o>.</span><span class=n>send_robust</span><span class=p>(</span><span class=n>sender</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>incident</span><span class=o>=</span><span class=bp>self</span><span class=p>)</span>
<a id=__codelineno-0-465 name=__codelineno-0-465></a>    <span class=p>)</span>
<a id=__codelineno-0-466 name=__codelineno-0-466></a>
<a id=__codelineno-0-467 name=__codelineno-0-467></a>    <span class=c1># Aggregate the results</span>
<a id=__codelineno-0-468 name=__codelineno-0-468></a>    <span class=k>for</span> <span class=n>provider</span> <span class=ow>in</span> <span class=n>result_users</span><span class=p>:</span>
<a id=__codelineno-0-469 name=__codelineno-0-469></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>provider</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span> <span class=ne>BaseException</span><span class=p>):</span>
<a id=__codelineno-0-470 name=__codelineno-0-470></a>            <span class=n>logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span>
<a id=__codelineno-0-471 name=__codelineno-0-471></a>                <span class=sa>f</span><span class=s2>&quot;Provider </span><span class=si>{</span><span class=n>provider</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=si>}</span><span class=s2> returned an error getting Users to invite: </span><span class=si>{</span><span class=n>provider</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=si>}</span><span class=s2>.&quot;</span>
<a id=__codelineno-0-472 name=__codelineno-0-472></a>            <span class=p>)</span>
<a id=__codelineno-0-473 name=__codelineno-0-473></a>            <span class=k>continue</span>
<a id=__codelineno-0-474 name=__codelineno-0-474></a>
<a id=__codelineno-0-475 name=__codelineno-0-475></a>        <span class=n>users_list</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=n>provider</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
<a id=__codelineno-0-476 name=__codelineno-0-476></a>
<a id=__codelineno-0-477 name=__codelineno-0-477></a>    <span class=n>logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Get invites users list: </span><span class=si>{</span><span class=n>users_list</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<a id=__codelineno-0-478 name=__codelineno-0-478></a>
<a id=__codelineno-0-479 name=__codelineno-0-479></a>    <span class=k>return</span> <span class=n>users_list</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h5 id=firefighter.incidents.models.incident.Incident.compute_metrics class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">compute_metrics</span> <a href=#firefighter.incidents.models.incident.Incident.compute_metrics class=headerlink title="Permanent link">¤</a></h5> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>compute_metrics</span><span class=p>(</span><span class=o>*</span><span class=p>,</span> <span class=n>purge</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/functions.html#bool>bool</a></span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Compute all metrics (time to fix, ...) from events.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/models/incident.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-408>408</a></span>
<span class=normal><a href=#__codelineno-0-409>409</a></span>
<span class=normal><a href=#__codelineno-0-410>410</a></span>
<span class=normal><a href=#__codelineno-0-411>411</a></span>
<span class=normal><a href=#__codelineno-0-412>412</a></span>
<span class=normal><a href=#__codelineno-0-413>413</a></span>
<span class=normal><a href=#__codelineno-0-414>414</a></span>
<span class=normal><a href=#__codelineno-0-415>415</a></span>
<span class=normal><a href=#__codelineno-0-416>416</a></span>
<span class=normal><a href=#__codelineno-0-417>417</a></span>
<span class=normal><a href=#__codelineno-0-418>418</a></span>
<span class=normal><a href=#__codelineno-0-419>419</a></span>
<span class=normal><a href=#__codelineno-0-420>420</a></span>
<span class=normal><a href=#__codelineno-0-421>421</a></span>
<span class=normal><a href=#__codelineno-0-422>422</a></span>
<span class=normal><a href=#__codelineno-0-423>423</a></span>
<span class=normal><a href=#__codelineno-0-424>424</a></span>
<span class=normal><a href=#__codelineno-0-425>425</a></span>
<span class=normal><a href=#__codelineno-0-426>426</a></span>
<span class=normal><a href=#__codelineno-0-427>427</a></span>
<span class=normal><a href=#__codelineno-0-428>428</a></span>
<span class=normal><a href=#__codelineno-0-429>429</a></span>
<span class=normal><a href=#__codelineno-0-430>430</a></span>
<span class=normal><a href=#__codelineno-0-431>431</a></span>
<span class=normal><a href=#__codelineno-0-432>432</a></span>
<span class=normal><a href=#__codelineno-0-433>433</a></span>
<span class=normal><a href=#__codelineno-0-434>434</a></span>
<span class=normal><a href=#__codelineno-0-435>435</a></span>
<span class=normal><a href=#__codelineno-0-436>436</a></span>
<span class=normal><a href=#__codelineno-0-437>437</a></span>
<span class=normal><a href=#__codelineno-0-438>438</a></span>
<span class=normal><a href=#__codelineno-0-439>439</a></span>
<span class=normal><a href=#__codelineno-0-440>440</a></span>
<span class=normal><a href=#__codelineno-0-441>441</a></span>
<span class=normal><a href=#__codelineno-0-442>442</a></span>
<span class=normal><a href=#__codelineno-0-443>443</a></span>
<span class=normal><a href=#__codelineno-0-444>444</a></span>
<span class=normal><a href=#__codelineno-0-445>445</a></span>
<span class=normal><a href=#__codelineno-0-446>446</a></span>
<span class=normal><a href=#__codelineno-0-447>447</a></span>
<span class=normal><a href=#__codelineno-0-448>448</a></span>
<span class=normal><a href=#__codelineno-0-449>449</a></span>
<span class=normal><a href=#__codelineno-0-450>450</a></span>
<span class=normal><a href=#__codelineno-0-451>451</a></span>
<span class=normal><a href=#__codelineno-0-452>452</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-408 name=__codelineno-0-408></a><span class=k>def</span><span class=w> </span><span class=nf>compute_metrics</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>purge</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-409 name=__codelineno-0-409></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Compute all metrics (time to fix, ...) from events.&quot;&quot;&quot;</span>
<a id=__codelineno-0-410 name=__codelineno-0-410></a>    <span class=n>latest_updates_by_type</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>latest_updates_by_type</span>
<a id=__codelineno-0-411 name=__codelineno-0-411></a>
<a id=__codelineno-0-412 name=__codelineno-0-412></a>    <span class=k>for</span> <span class=n>metric_type</span> <span class=ow>in</span> <span class=n>MetricType</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>all</span><span class=p>():</span>
<a id=__codelineno-0-413 name=__codelineno-0-413></a>        <span class=n>lhs_type</span> <span class=o>=</span> <span class=n>metric_type</span><span class=o>.</span><span class=n>milestone_lhs</span><span class=o>.</span><span class=n>event_type</span>
<a id=__codelineno-0-414 name=__codelineno-0-414></a>        <span class=n>rhs_type</span> <span class=o>=</span> <span class=n>metric_type</span><span class=o>.</span><span class=n>milestone_rhs</span><span class=o>.</span><span class=n>event_type</span>
<a id=__codelineno-0-415 name=__codelineno-0-415></a>
<a id=__codelineno-0-416 name=__codelineno-0-416></a>        <span class=n>lhs</span> <span class=o>=</span> <span class=n>latest_updates_by_type</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>lhs_type</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
<a id=__codelineno-0-417 name=__codelineno-0-417></a>        <span class=n>rhs</span> <span class=o>=</span> <span class=n>latest_updates_by_type</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>rhs_type</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
<a id=__codelineno-0-418 name=__codelineno-0-418></a>
<a id=__codelineno-0-419 name=__codelineno-0-419></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>lhs</span> <span class=ow>or</span> <span class=ow>not</span> <span class=n>lhs</span><span class=o>.</span><span class=n>event_ts</span><span class=p>:</span>
<a id=__codelineno-0-420 name=__codelineno-0-420></a>            <span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
<a id=__codelineno-0-421 name=__codelineno-0-421></a>                <span class=sa>f</span><span class=s2>&quot;Missing operand &#39;</span><span class=si>{</span><span class=n>lhs_type</span><span class=si>}</span><span class=s2>&#39; on metric </span><span class=si>{</span><span class=n>metric_type</span><span class=o>.</span><span class=n>type</span><span class=si>}</span><span class=s2> for #</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>id</span><span class=si>}</span><span class=s2>&quot;</span>
<a id=__codelineno-0-422 name=__codelineno-0-422></a>            <span class=p>)</span>
<a id=__codelineno-0-423 name=__codelineno-0-423></a>            <span class=k>if</span> <span class=n>purge</span><span class=p>:</span>
<a id=__codelineno-0-424 name=__codelineno-0-424></a>                <span class=n>IncidentMetric</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>filter</span><span class=p>(</span>
<a id=__codelineno-0-425 name=__codelineno-0-425></a>                    <span class=n>incident</span><span class=o>=</span><span class=bp>self</span><span class=p>,</span> <span class=n>metric_type</span><span class=o>=</span><span class=n>metric_type</span>
<a id=__codelineno-0-426 name=__codelineno-0-426></a>                <span class=p>)</span><span class=o>.</span><span class=n>delete</span><span class=p>()</span>
<a id=__codelineno-0-427 name=__codelineno-0-427></a>            <span class=k>continue</span>
<a id=__codelineno-0-428 name=__codelineno-0-428></a>        <span class=k>if</span> <span class=ow>not</span> <span class=n>rhs</span> <span class=ow>or</span> <span class=ow>not</span> <span class=n>rhs</span><span class=o>.</span><span class=n>event_ts</span><span class=p>:</span>
<a id=__codelineno-0-429 name=__codelineno-0-429></a>            <span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
<a id=__codelineno-0-430 name=__codelineno-0-430></a>                <span class=sa>f</span><span class=s2>&quot;Missing operand &#39;</span><span class=si>{</span><span class=n>rhs_type</span><span class=si>}</span><span class=s2>&#39; on metric </span><span class=si>{</span><span class=n>metric_type</span><span class=o>.</span><span class=n>type</span><span class=si>}</span><span class=s2> for #</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>id</span><span class=si>}</span><span class=s2>&quot;</span>
<a id=__codelineno-0-431 name=__codelineno-0-431></a>            <span class=p>)</span>
<a id=__codelineno-0-432 name=__codelineno-0-432></a>            <span class=k>if</span> <span class=n>purge</span><span class=p>:</span>
<a id=__codelineno-0-433 name=__codelineno-0-433></a>                <span class=n>IncidentMetric</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>filter</span><span class=p>(</span>
<a id=__codelineno-0-434 name=__codelineno-0-434></a>                    <span class=n>incident</span><span class=o>=</span><span class=bp>self</span><span class=p>,</span> <span class=n>metric_type</span><span class=o>=</span><span class=n>metric_type</span>
<a id=__codelineno-0-435 name=__codelineno-0-435></a>                <span class=p>)</span><span class=o>.</span><span class=n>delete</span><span class=p>()</span>
<a id=__codelineno-0-436 name=__codelineno-0-436></a>            <span class=k>continue</span>
<a id=__codelineno-0-437 name=__codelineno-0-437></a>        <span class=n>duration</span> <span class=o>=</span> <span class=n>lhs</span><span class=o>.</span><span class=n>event_ts</span> <span class=o>-</span> <span class=n>rhs</span><span class=o>.</span><span class=n>event_ts</span>
<a id=__codelineno-0-438 name=__codelineno-0-438></a>        <span class=k>if</span> <span class=n>duration</span> <span class=o>&lt;</span> <span class=n>TD0</span><span class=p>:</span>
<a id=__codelineno-0-439 name=__codelineno-0-439></a>            <span class=n>logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span>
<a id=__codelineno-0-440 name=__codelineno-0-440></a>                <span class=sa>f</span><span class=s2>&quot;Tried to compute a negative metric! Metric </span><span class=si>{</span><span class=n>metric_type</span><span class=o>.</span><span class=n>type</span><span class=si>}</span><span class=s2> for #</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>id</span><span class=si>}</span><span class=s2> has a duration of </span><span class=si>{</span><span class=n>duration</span><span class=si>}</span><span class=s2> (</span><span class=si>{</span><span class=n>lhs</span><span class=o>.</span><span class=n>event_type</span><span class=si>}</span><span class=s2>:</span><span class=si>{</span><span class=n>lhs</span><span class=o>.</span><span class=n>event_ts</span><span class=si>}</span><span class=s2> - </span><span class=si>{</span><span class=n>rhs</span><span class=o>.</span><span class=n>event_type</span><span class=si>}</span><span class=s2>:</span><span class=si>{</span><span class=n>rhs</span><span class=o>.</span><span class=n>event_ts</span><span class=si>}</span><span class=s2>)&quot;</span>
<a id=__codelineno-0-441 name=__codelineno-0-441></a>            <span class=p>)</span>
<a id=__codelineno-0-442 name=__codelineno-0-442></a>            <span class=k>if</span> <span class=n>purge</span><span class=p>:</span>
<a id=__codelineno-0-443 name=__codelineno-0-443></a>                <span class=n>IncidentMetric</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>filter</span><span class=p>(</span>
<a id=__codelineno-0-444 name=__codelineno-0-444></a>                    <span class=n>incident</span><span class=o>=</span><span class=bp>self</span><span class=p>,</span> <span class=n>metric_type</span><span class=o>=</span><span class=n>metric_type</span>
<a id=__codelineno-0-445 name=__codelineno-0-445></a>                <span class=p>)</span><span class=o>.</span><span class=n>delete</span><span class=p>()</span>
<a id=__codelineno-0-446 name=__codelineno-0-446></a>            <span class=k>continue</span>
<a id=__codelineno-0-447 name=__codelineno-0-447></a>        <span class=n>IncidentMetric</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>update_or_create</span><span class=p>(</span>
<a id=__codelineno-0-448 name=__codelineno-0-448></a>            <span class=n>incident</span><span class=o>=</span><span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-449 name=__codelineno-0-449></a>            <span class=n>metric_type</span><span class=o>=</span><span class=n>metric_type</span><span class=p>,</span>
<a id=__codelineno-0-450 name=__codelineno-0-450></a>            <span class=n>defaults</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;duration&quot;</span><span class=p>:</span> <span class=n>duration</span><span class=p>},</span>
<a id=__codelineno-0-451 name=__codelineno-0-451></a>        <span class=p>)</span>
<a id=__codelineno-0-452 name=__codelineno-0-452></a>    <span class=bp>self</span><span class=o>.</span><span class=n>save</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h5 id=firefighter.incidents.models.incident.Incident.missing_milestones class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">missing_milestones</span> <a href=#firefighter.incidents.models.incident.Incident.missing_milestones class=headerlink title="Permanent link">¤</a></h5> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>missing_milestones</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#list>list</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>Returns all required Milestones still needed to compute the metrics.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/models/incident.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-369>369</a></span>
<span class=normal><a href=#__codelineno-0-370>370</a></span>
<span class=normal><a href=#__codelineno-0-371>371</a></span>
<span class=normal><a href=#__codelineno-0-372>372</a></span>
<span class=normal><a href=#__codelineno-0-373>373</a></span>
<span class=normal><a href=#__codelineno-0-374>374</a></span>
<span class=normal><a href=#__codelineno-0-375>375</a></span>
<span class=normal><a href=#__codelineno-0-376>376</a></span>
<span class=normal><a href=#__codelineno-0-377>377</a></span>
<span class=normal><a href=#__codelineno-0-378>378</a></span>
<span class=normal><a href=#__codelineno-0-379>379</a></span>
<span class=normal><a href=#__codelineno-0-380>380</a></span>
<span class=normal><a href=#__codelineno-0-381>381</a></span>
<span class=normal><a href=#__codelineno-0-382>382</a></span>
<span class=normal><a href=#__codelineno-0-383>383</a></span>
<span class=normal><a href=#__codelineno-0-384>384</a></span>
<span class=normal><a href=#__codelineno-0-385>385</a></span>
<span class=normal><a href=#__codelineno-0-386>386</a></span>
<span class=normal><a href=#__codelineno-0-387>387</a></span>
<span class=normal><a href=#__codelineno-0-388>388</a></span>
<span class=normal><a href=#__codelineno-0-389>389</a></span>
<span class=normal><a href=#__codelineno-0-390>390</a></span>
<span class=normal><a href=#__codelineno-0-391>391</a></span>
<span class=normal><a href=#__codelineno-0-392>392</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-369 name=__codelineno-0-369></a><span class=k>def</span><span class=w> </span><span class=nf>missing_milestones</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<a id=__codelineno-0-370 name=__codelineno-0-370></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns all required Milestones still needed to compute the metrics.&quot;&quot;&quot;</span>
<a id=__codelineno-0-371 name=__codelineno-0-371></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>ignore</span><span class=p>:</span>
<a id=__codelineno-0-372 name=__codelineno-0-372></a>        <span class=k>return</span> <span class=p>[]</span>
<a id=__codelineno-0-373 name=__codelineno-0-373></a>
<a id=__codelineno-0-374 name=__codelineno-0-374></a>    <span class=c1># We get a list of all event_type of IncidentUpdates...</span>
<a id=__codelineno-0-375 name=__codelineno-0-375></a>    <span class=n>milestones_list</span> <span class=o>=</span> <span class=p>(</span>
<a id=__codelineno-0-376 name=__codelineno-0-376></a>        <span class=n>IncidentUpdate</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>filter</span><span class=p>(</span>
<a id=__codelineno-0-377 name=__codelineno-0-377></a>            <span class=n>incident_id</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>id</span><span class=p>,</span>
<a id=__codelineno-0-378 name=__codelineno-0-378></a>            <span class=n>event_ts__isnull</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-379 name=__codelineno-0-379></a>            <span class=n>event_type__isnull</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
<a id=__codelineno-0-380 name=__codelineno-0-380></a>        <span class=p>)</span>
<a id=__codelineno-0-381 name=__codelineno-0-381></a>        <span class=o>.</span><span class=n>aggregate</span><span class=p>(</span><span class=n>milestone_list</span><span class=o>=</span><span class=n>ArrayAgg</span><span class=p>(</span><span class=s2>&quot;event_type&quot;</span><span class=p>,</span> <span class=n>distinct</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=p>[]))</span>
<a id=__codelineno-0-382 name=__codelineno-0-382></a>        <span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;milestone_list&quot;</span><span class=p>,</span> <span class=p>[])</span>
<a id=__codelineno-0-383 name=__codelineno-0-383></a>    <span class=p>)</span>
<a id=__codelineno-0-384 name=__codelineno-0-384></a>
<a id=__codelineno-0-385 name=__codelineno-0-385></a>    <span class=n>incident_milestones</span><span class=p>:</span> <span class=nb>set</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=nb>set</span><span class=p>(</span><span class=n>cast</span><span class=p>(</span><span class=s1>&#39;list[&quot;str&quot;]&#39;</span><span class=p>,</span> <span class=n>milestones_list</span><span class=p>))</span>
<a id=__codelineno-0-386 name=__codelineno-0-386></a>    <span class=n>required_milestone_types</span> <span class=o>=</span> <span class=nb>set</span><span class=p>(</span>
<a id=__codelineno-0-387 name=__codelineno-0-387></a>        <span class=n>MilestoneType</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>filter</span><span class=p>(</span><span class=n>required</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span><span class=o>.</span><span class=n>values_list</span><span class=p>(</span>
<a id=__codelineno-0-388 name=__codelineno-0-388></a>            <span class=s2>&quot;event_type&quot;</span><span class=p>,</span> <span class=n>flat</span><span class=o>=</span><span class=kc>True</span>
<a id=__codelineno-0-389 name=__codelineno-0-389></a>        <span class=p>)</span>
<a id=__codelineno-0-390 name=__codelineno-0-390></a>    <span class=p>)</span>
<a id=__codelineno-0-391 name=__codelineno-0-391></a>    <span class=c1># And we make the differences of the sets</span>
<a id=__codelineno-0-392 name=__codelineno-0-392></a>    <span class=k>return</span> <span class=nb>list</span><span class=p>(</span><span class=n>required_milestone_types</span> <span class=o>-</span> <span class=n>incident_milestones</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h5 id=firefighter.incidents.models.incident.Incident.update_roles class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">update_roles</span> <a href=#firefighter.incidents.models.incident.Incident.update_roles class=headerlink title="Permanent link">¤</a></h5> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update_roles</span><span class=p>(</span><span class=n>updater</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title="            User (firefighter.incidents.models.user.User)" href=#firefighter.incidents.models.user.User>User</a></span><span class=p>,</span> <span class=n>roles_mapping</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#dict>dict</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-internal" title="            User (firefighter.incidents.models.user.User)" href=#firefighter.incidents.models.user.User>User</a></span> <span class=o>|</span> <span class=kc>None</span><span class=p>]</span> <span class=o>|</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#dict>dict</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-internal" title="            User (firefighter.incidents.models.user.User)" href=#firefighter.incidents.models.user.User>User</a></span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-internal" title="            IncidentUpdate (firefighter.incidents.models.incident_update.IncidentUpdate)" href=#firefighter.incidents.models.incident_update.IncidentUpdate>IncidentUpdate</a></span>
</code></pre></div> <div class="doc doc-contents "> <p>Update the roles related to an incident, and create an IncidentUpdate. For each role, provide a User or None.</p> <p>This function will update the incident, create an <a class="autorefs autorefs-internal" title="            IncidentUpdate" href=#firefighter.incidents.models.incident_update.IncidentUpdate>IncidentUpdate</a>, and trigger the <a class="autorefs autorefs-internal" title="            incident_updated


  
      module-attribute
  " href=#firefighter.incidents.signals.incident_updated>incident_updated</a> signal, with <code>update_roles</code> sender.</p> <p><span class=doc-section-title>Parameters:</span></p> <ul> <li class="doc-section-item field-body"> <b><code>updater</code></b> (<code><a class="autorefs autorefs-internal" title="            User (firefighter.incidents.models.user.User)" href=#firefighter.incidents.models.user.User>User</a></code>) – <div class=doc-md-description> <p>The user who is updating the roles.</p> </div> </li> <li class="doc-section-item field-body"> <b><code>roles_mapping</code></b> (<code><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#dict>dict</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a>, <a class="autorefs autorefs-internal" title="            User (firefighter.incidents.models.user.User)" href=#firefighter.incidents.models.user.User>User</a> | None]</code>) – <div class=doc-md-description> <p>A dict of roles to update, with the new User or None. Defaults to None.</p> </div> </li> </ul> <p><span class=doc-section-title>Returns:</span></p> <ul> <li class="doc-section-item field-body"> <b><code>IncidentUpdate</code></b> ( <code><a class="autorefs autorefs-internal" title="            IncidentUpdate (firefighter.incidents.models.incident_update.IncidentUpdate)" href=#firefighter.incidents.models.incident_update.IncidentUpdate>IncidentUpdate</a></code> ) – <div class=doc-md-description> <p>The created IncidentUpdate with the updated roles.</p> </div> </li> </ul> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/models/incident.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-481>481</a></span>
<span class=normal><a href=#__codelineno-0-482>482</a></span>
<span class=normal><a href=#__codelineno-0-483>483</a></span>
<span class=normal><a href=#__codelineno-0-484>484</a></span>
<span class=normal><a href=#__codelineno-0-485>485</a></span>
<span class=normal><a href=#__codelineno-0-486>486</a></span>
<span class=normal><a href=#__codelineno-0-487>487</a></span>
<span class=normal><a href=#__codelineno-0-488>488</a></span>
<span class=normal><a href=#__codelineno-0-489>489</a></span>
<span class=normal><a href=#__codelineno-0-490>490</a></span>
<span class=normal><a href=#__codelineno-0-491>491</a></span>
<span class=normal><a href=#__codelineno-0-492>492</a></span>
<span class=normal><a href=#__codelineno-0-493>493</a></span>
<span class=normal><a href=#__codelineno-0-494>494</a></span>
<span class=normal><a href=#__codelineno-0-495>495</a></span>
<span class=normal><a href=#__codelineno-0-496>496</a></span>
<span class=normal><a href=#__codelineno-0-497>497</a></span>
<span class=normal><a href=#__codelineno-0-498>498</a></span>
<span class=normal><a href=#__codelineno-0-499>499</a></span>
<span class=normal><a href=#__codelineno-0-500>500</a></span>
<span class=normal><a href=#__codelineno-0-501>501</a></span>
<span class=normal><a href=#__codelineno-0-502>502</a></span>
<span class=normal><a href=#__codelineno-0-503>503</a></span>
<span class=normal><a href=#__codelineno-0-504>504</a></span>
<span class=normal><a href=#__codelineno-0-505>505</a></span>
<span class=normal><a href=#__codelineno-0-506>506</a></span>
<span class=normal><a href=#__codelineno-0-507>507</a></span>
<span class=normal><a href=#__codelineno-0-508>508</a></span>
<span class=normal><a href=#__codelineno-0-509>509</a></span>
<span class=normal><a href=#__codelineno-0-510>510</a></span>
<span class=normal><a href=#__codelineno-0-511>511</a></span>
<span class=normal><a href=#__codelineno-0-512>512</a></span>
<span class=normal><a href=#__codelineno-0-513>513</a></span>
<span class=normal><a href=#__codelineno-0-514>514</a></span>
<span class=normal><a href=#__codelineno-0-515>515</a></span>
<span class=normal><a href=#__codelineno-0-516>516</a></span>
<span class=normal><a href=#__codelineno-0-517>517</a></span>
<span class=normal><a href=#__codelineno-0-518>518</a></span>
<span class=normal><a href=#__codelineno-0-519>519</a></span>
<span class=normal><a href=#__codelineno-0-520>520</a></span>
<span class=normal><a href=#__codelineno-0-521>521</a></span>
<span class=normal><a href=#__codelineno-0-522>522</a></span>
<span class=normal><a href=#__codelineno-0-523>523</a></span>
<span class=normal><a href=#__codelineno-0-524>524</a></span>
<span class=normal><a href=#__codelineno-0-525>525</a></span>
<span class=normal><a href=#__codelineno-0-526>526</a></span>
<span class=normal><a href=#__codelineno-0-527>527</a></span>
<span class=normal><a href=#__codelineno-0-528>528</a></span>
<span class=normal><a href=#__codelineno-0-529>529</a></span>
<span class=normal><a href=#__codelineno-0-530>530</a></span>
<span class=normal><a href=#__codelineno-0-531>531</a></span>
<span class=normal><a href=#__codelineno-0-532>532</a></span>
<span class=normal><a href=#__codelineno-0-533>533</a></span>
<span class=normal><a href=#__codelineno-0-534>534</a></span>
<span class=normal><a href=#__codelineno-0-535>535</a></span>
<span class=normal><a href=#__codelineno-0-536>536</a></span>
<span class=normal><a href=#__codelineno-0-537>537</a></span>
<span class=normal><a href=#__codelineno-0-538>538</a></span>
<span class=normal><a href=#__codelineno-0-539>539</a></span>
<span class=normal><a href=#__codelineno-0-540>540</a></span>
<span class=normal><a href=#__codelineno-0-541>541</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-481 name=__codelineno-0-481></a><span class=k>def</span><span class=w> </span><span class=nf>update_roles</span><span class=p>(</span>
<a id=__codelineno-0-482 name=__codelineno-0-482></a>    <span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-483 name=__codelineno-0-483></a>    <span class=n>updater</span><span class=p>:</span> <span class=n>User</span><span class=p>,</span>
<a id=__codelineno-0-484 name=__codelineno-0-484></a>    <span class=n>roles_mapping</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>User</span> <span class=o>|</span> <span class=kc>None</span><span class=p>]</span> <span class=o>|</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>User</span><span class=p>],</span>
<a id=__codelineno-0-485 name=__codelineno-0-485></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>IncidentUpdate</span><span class=p>:</span>
<a id=__codelineno-0-486 name=__codelineno-0-486></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Update the roles related to an incident, and create an IncidentUpdate.</span>
<a id=__codelineno-0-487 name=__codelineno-0-487></a><span class=sd>    For each role, provide a User or None.</span>
<a id=__codelineno-0-488 name=__codelineno-0-488></a>
<a id=__codelineno-0-489 name=__codelineno-0-489></a><span class=sd>    This function will update the incident, create an [IncidentUpdate][firefighter.incidents.models.incident_update.IncidentUpdate], and trigger the [incident_updated][firefighter.incidents.signals.incident_updated] signal, with `update_roles` sender.</span>
<a id=__codelineno-0-490 name=__codelineno-0-490></a>
<a id=__codelineno-0-491 name=__codelineno-0-491></a><span class=sd>    Args:</span>
<a id=__codelineno-0-492 name=__codelineno-0-492></a><span class=sd>        updater (User): The user who is updating the roles.</span>
<a id=__codelineno-0-493 name=__codelineno-0-493></a><span class=sd>        roles_mapping (dict[str, User | None], optional): A dict of roles to update, with the new User or None. Defaults to None.</span>
<a id=__codelineno-0-494 name=__codelineno-0-494></a>
<a id=__codelineno-0-495 name=__codelineno-0-495></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-496 name=__codelineno-0-496></a><span class=sd>        IncidentUpdate: The created IncidentUpdate with the updated roles.</span>
<a id=__codelineno-0-497 name=__codelineno-0-497></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-498 name=__codelineno-0-498></a>    <span class=n>updated_fields</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=p>[]</span>
<a id=__codelineno-0-499 name=__codelineno-0-499></a>
<a id=__codelineno-0-500 name=__codelineno-0-500></a>    <span class=c1># Handle roles</span>
<a id=__codelineno-0-501 name=__codelineno-0-501></a>    <span class=k>for</span> <span class=n>role_slug</span><span class=p>,</span> <span class=n>assigned_user</span> <span class=ow>in</span> <span class=n>roles_mapping</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
<a id=__codelineno-0-502 name=__codelineno-0-502></a>        <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-0-503 name=__codelineno-0-503></a>            <span class=n>role_type</span> <span class=o>=</span> <span class=n>IncidentRoleType</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>slug</span><span class=o>=</span><span class=n>role_slug</span><span class=p>)</span>
<a id=__codelineno-0-504 name=__codelineno-0-504></a>        <span class=k>except</span> <span class=n>IncidentRoleType</span><span class=o>.</span><span class=n>DoesNotExist</span><span class=p>:</span>
<a id=__codelineno-0-505 name=__codelineno-0-505></a>            <span class=n>logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Unknown role type: </span><span class=si>{</span><span class=n>role_slug</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<a id=__codelineno-0-506 name=__codelineno-0-506></a>            <span class=k>continue</span>
<a id=__codelineno-0-507 name=__codelineno-0-507></a>        <span class=k>if</span> <span class=n>assigned_user</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-508 name=__codelineno-0-508></a>            <span class=n>IncidentRole</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>update_or_create</span><span class=p>(</span>
<a id=__codelineno-0-509 name=__codelineno-0-509></a>                <span class=n>incident</span><span class=o>=</span><span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-510 name=__codelineno-0-510></a>                <span class=n>role_type</span><span class=o>=</span><span class=n>role_type</span><span class=p>,</span>
<a id=__codelineno-0-511 name=__codelineno-0-511></a>                <span class=n>defaults</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;user&quot;</span><span class=p>:</span> <span class=n>assigned_user</span><span class=p>},</span>
<a id=__codelineno-0-512 name=__codelineno-0-512></a>            <span class=p>)</span>
<a id=__codelineno-0-513 name=__codelineno-0-513></a>            <span class=n>logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span>
<a id=__codelineno-0-514 name=__codelineno-0-514></a>                <span class=sa>f</span><span class=s2>&quot;Updated role </span><span class=si>{</span><span class=n>role_slug</span><span class=si>}</span><span class=s2> to user ID=</span><span class=si>{</span><span class=n>assigned_user</span><span class=o>.</span><span class=n>id</span><span class=si>}</span><span class=s2> for #</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>id</span><span class=si>}</span><span class=s2>&quot;</span>
<a id=__codelineno-0-515 name=__codelineno-0-515></a>            <span class=p>)</span>
<a id=__codelineno-0-516 name=__codelineno-0-516></a>            <span class=n>updated_fields</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>role_slug</span><span class=si>}</span><span class=s2>_id&quot;</span><span class=p>)</span>
<a id=__codelineno-0-517 name=__codelineno-0-517></a>        <span class=k>elif</span> <span class=n>role_type</span><span class=o>.</span><span class=n>required</span><span class=p>:</span>
<a id=__codelineno-0-518 name=__codelineno-0-518></a>            <span class=n>logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Cannot remove required role: </span><span class=si>{</span><span class=n>role_slug</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
<a id=__codelineno-0-519 name=__codelineno-0-519></a>        <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-520 name=__codelineno-0-520></a>            <span class=n>IncidentRole</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>filter</span><span class=p>(</span><span class=n>incident</span><span class=o>=</span><span class=bp>self</span><span class=p>,</span> <span class=n>role_type</span><span class=o>=</span><span class=n>role_type</span><span class=p>)</span><span class=o>.</span><span class=n>delete</span><span class=p>()</span>
<a id=__codelineno-0-521 name=__codelineno-0-521></a>            <span class=n>updated_fields</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>role_slug</span><span class=si>}</span><span class=s2>_id&quot;</span><span class=p>)</span>
<a id=__codelineno-0-522 name=__codelineno-0-522></a>
<a id=__codelineno-0-523 name=__codelineno-0-523></a>    <span class=c1># Handle legacy roles with IncidentUpdate</span>
<a id=__codelineno-0-524 name=__codelineno-0-524></a>    <span class=c1># XXX(dugab): Custom roles are not saved in IncidentUpdate at the moment</span>
<a id=__codelineno-0-525 name=__codelineno-0-525></a>
<a id=__codelineno-0-526 name=__codelineno-0-526></a>    <span class=n>incident_update</span> <span class=o>=</span> <span class=n>IncidentUpdate</span><span class=p>(</span>
<a id=__codelineno-0-527 name=__codelineno-0-527></a>        <span class=n>incident</span><span class=o>=</span><span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-528 name=__codelineno-0-528></a>        <span class=n>created_by</span><span class=o>=</span><span class=n>updater</span><span class=p>,</span>
<a id=__codelineno-0-529 name=__codelineno-0-529></a>        <span class=n>commander</span><span class=o>=</span><span class=n>roles_mapping</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;commander&quot;</span><span class=p>),</span>
<a id=__codelineno-0-530 name=__codelineno-0-530></a>        <span class=n>communication_lead</span><span class=o>=</span><span class=n>roles_mapping</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;communication_lead&quot;</span><span class=p>),</span>
<a id=__codelineno-0-531 name=__codelineno-0-531></a>    <span class=p>)</span>
<a id=__codelineno-0-532 name=__codelineno-0-532></a>    <span class=n>incident_update</span><span class=o>.</span><span class=n>save</span><span class=p>()</span>
<a id=__codelineno-0-533 name=__codelineno-0-533></a>
<a id=__codelineno-0-534 name=__codelineno-0-534></a>    <span class=n>incident_updated</span><span class=o>.</span><span class=n>send_robust</span><span class=p>(</span>
<a id=__codelineno-0-535 name=__codelineno-0-535></a>        <span class=s2>&quot;update_roles&quot;</span><span class=p>,</span>
<a id=__codelineno-0-536 name=__codelineno-0-536></a>        <span class=n>incident</span><span class=o>=</span><span class=bp>self</span><span class=p>,</span>
<a id=__codelineno-0-537 name=__codelineno-0-537></a>        <span class=n>incident_update</span><span class=o>=</span><span class=n>incident_update</span><span class=p>,</span>
<a id=__codelineno-0-538 name=__codelineno-0-538></a>        <span class=n>updated_fields</span><span class=o>=</span><span class=n>updated_fields</span><span class=p>,</span>
<a id=__codelineno-0-539 name=__codelineno-0-539></a>    <span class=p>)</span>
<a id=__codelineno-0-540 name=__codelineno-0-540></a>
<a id=__codelineno-0-541 name=__codelineno-0-541></a>    <span class=k>return</span> <span class=n>incident_update</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h4 id=firefighter.incidents.models.incident.IncidentFilterSet class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">IncidentFilterSet</span> <a href=#firefighter.incidents.models.incident.IncidentFilterSet class=headerlink title="Permanent link">¤</a></h4> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=django_filters.FilterSet>FilterSet</span></code></p> <p>Set of filters for incidents, shared by Web UI and API.</p> <p><span class=doc-section-title>Methods:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            incident_search


  
      staticmethod
   (firefighter.incidents.models.incident.IncidentFilterSet.incident_search)" href=#firefighter.incidents.models.incident.IncidentFilterSet.incident_search>incident_search</a></code></b> – <div class=doc-md-description> <p>Search incidents by title, description, and ID.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h5 id=firefighter.incidents.models.incident.IncidentFilterSet.incident_search class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">incident_search</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small> </span> <a href=#firefighter.incidents.models.incident.IncidentFilterSet.incident_search class=headerlink title="Permanent link">¤</a></h5> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>incident_search</span><span class=p>(</span><span class=n>queryset</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=django.db.models.query.QuerySet href=https://docs.djangoproject.com/en/4.2/ref/models/querysets/#django.db.models.query.QuerySet>QuerySet</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title="            Incident (firefighter.incidents.models.incident.Incident)" href=#firefighter.incidents.models.incident.Incident>Incident</a></span><span class=p>],</span> <span class=n>_name</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" title=django.db.models.query.QuerySet href=https://docs.djangoproject.com/en/4.2/ref/models/querysets/#django.db.models.query.QuerySet>QuerySet</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title="            Incident (firefighter.incidents.models.incident.Incident)" href=#firefighter.incidents.models.incident.Incident>Incident</a></span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>Search incidents by title, description, and ID.</p> <p><span class=doc-section-title>Parameters:</span></p> <ul> <li class="doc-section-item field-body"> <b><code>queryset</code></b> (<code><a class="autorefs autorefs-external" title=django.db.models.query.QuerySet href=https://docs.djangoproject.com/en/4.2/ref/models/querysets/#django.db.models.query.QuerySet>QuerySet</a>[<a class="autorefs autorefs-internal" title="            Incident (firefighter.incidents.models.incident.Incident)" href=#firefighter.incidents.models.incident.Incident>Incident</a>]</code>) – <div class=doc-md-description> <p>Queryset to search in.</p> </div> </li> <li class="doc-section-item field-body"> <b><code>_name</code></b> (<code><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></code>) – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code>value</code></b> (<code><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></code>) – <div class=doc-md-description> <p>Value to search for.</p> </div> </li> </ul> <p><span class=doc-section-title>Returns:</span></p> <ul> <li class="doc-section-item field-body"> <code><a class="autorefs autorefs-external" title=django.db.models.query.QuerySet href=https://docs.djangoproject.com/en/4.2/ref/models/querysets/#django.db.models.query.QuerySet>QuerySet</a>[<a class="autorefs autorefs-internal" title="            Incident (firefighter.incidents.models.incident.Incident)" href=#firefighter.incidents.models.incident.Incident>Incident</a>]</code> – <div class=doc-md-description> <p>QuerySet[Incident]: Search results.</p> </div> </li> </ul> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/models/incident.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-685>685</a></span>
<span class=normal><a href=#__codelineno-0-686>686</a></span>
<span class=normal><a href=#__codelineno-0-687>687</a></span>
<span class=normal><a href=#__codelineno-0-688>688</a></span>
<span class=normal><a href=#__codelineno-0-689>689</a></span>
<span class=normal><a href=#__codelineno-0-690>690</a></span>
<span class=normal><a href=#__codelineno-0-691>691</a></span>
<span class=normal><a href=#__codelineno-0-692>692</a></span>
<span class=normal><a href=#__codelineno-0-693>693</a></span>
<span class=normal><a href=#__codelineno-0-694>694</a></span>
<span class=normal><a href=#__codelineno-0-695>695</a></span>
<span class=normal><a href=#__codelineno-0-696>696</a></span>
<span class=normal><a href=#__codelineno-0-697>697</a></span>
<span class=normal><a href=#__codelineno-0-698>698</a></span>
<span class=normal><a href=#__codelineno-0-699>699</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-685 name=__codelineno-0-685></a><span class=nd>@staticmethod</span>
<a id=__codelineno-0-686 name=__codelineno-0-686></a><span class=k>def</span><span class=w> </span><span class=nf>incident_search</span><span class=p>(</span>
<a id=__codelineno-0-687 name=__codelineno-0-687></a>    <span class=n>queryset</span><span class=p>:</span> <span class=n>QuerySet</span><span class=p>[</span><span class=n>Incident</span><span class=p>],</span> <span class=n>_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>value</span><span class=p>:</span> <span class=nb>str</span>
<a id=__codelineno-0-688 name=__codelineno-0-688></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>QuerySet</span><span class=p>[</span><span class=n>Incident</span><span class=p>]:</span>
<a id=__codelineno-0-689 name=__codelineno-0-689></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Search incidents by title, description, and ID.</span>
<a id=__codelineno-0-690 name=__codelineno-0-690></a>
<a id=__codelineno-0-691 name=__codelineno-0-691></a><span class=sd>    Args:</span>
<a id=__codelineno-0-692 name=__codelineno-0-692></a><span class=sd>        queryset (QuerySet[Incident]): Queryset to search in.</span>
<a id=__codelineno-0-693 name=__codelineno-0-693></a><span class=sd>        _name:</span>
<a id=__codelineno-0-694 name=__codelineno-0-694></a><span class=sd>        value (str): Value to search for.</span>
<a id=__codelineno-0-695 name=__codelineno-0-695></a>
<a id=__codelineno-0-696 name=__codelineno-0-696></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-697 name=__codelineno-0-697></a><span class=sd>        QuerySet[Incident]: Search results.</span>
<a id=__codelineno-0-698 name=__codelineno-0-698></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-699 name=__codelineno-0-699></a>    <span class=k>return</span> <span class=n>Incident</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=n>queryset</span><span class=o>=</span><span class=n>queryset</span><span class=p>,</span> <span class=n>search_term</span><span class=o>=</span><span class=n>value</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h4 id=firefighter.incidents.models.incident.IncidentManager class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">IncidentManager</span> <a href=#firefighter.incidents.models.incident.IncidentManager class=headerlink title="Permanent link">¤</a></h4> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-external" title=django.db.models.Manager href=https://docs.djangoproject.com/en/4.2/topics/db/managers/#django.db.models.Manager>Manager</a>[&#39;Incident&#39;]</code></p> <p><span class=doc-section-title>Methods:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            declare (firefighter.incidents.models.incident.IncidentManager.declare)" href=#firefighter.incidents.models.incident.IncidentManager.declare>declare</a></code></b> – <div class=doc-md-description> <p>Create an Incident and its first IncidentUpdate.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            search


  
      staticmethod
   (firefighter.incidents.models.incident.IncidentManager.search)" href=#firefighter.incidents.models.incident.IncidentManager.search>search</a></code></b> – <div class=doc-md-description> <p>Search for incidents using a search term, on the title and description fields.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h5 id=firefighter.incidents.models.incident.IncidentManager.declare class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">declare</span> <a href=#firefighter.incidents.models.incident.IncidentManager.declare class=headerlink title="Permanent link">¤</a></h5> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>declare</span><span class=p>(</span><span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-internal" title="            Incident (firefighter.incidents.models.incident.Incident)" href=#firefighter.incidents.models.incident.Incident>Incident</a></span>
</code></pre></div> <div class="doc doc-contents "> <p>Create an Incident and its first IncidentUpdate. Send the incident_created signal. Returns the saved incident, no need to .save().</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/models/incident.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-86> 86</a></span>
<span class=normal><a href=#__codelineno-0-87> 87</a></span>
<span class=normal><a href=#__codelineno-0-88> 88</a></span>
<span class=normal><a href=#__codelineno-0-89> 89</a></span>
<span class=normal><a href=#__codelineno-0-90> 90</a></span>
<span class=normal><a href=#__codelineno-0-91> 91</a></span>
<span class=normal><a href=#__codelineno-0-92> 92</a></span>
<span class=normal><a href=#__codelineno-0-93> 93</a></span>
<span class=normal><a href=#__codelineno-0-94> 94</a></span>
<span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span>
<span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span>
<span class=normal><a href=#__codelineno-0-110>110</a></span>
<span class=normal><a href=#__codelineno-0-111>111</a></span>
<span class=normal><a href=#__codelineno-0-112>112</a></span>
<span class=normal><a href=#__codelineno-0-113>113</a></span>
<span class=normal><a href=#__codelineno-0-114>114</a></span>
<span class=normal><a href=#__codelineno-0-115>115</a></span>
<span class=normal><a href=#__codelineno-0-116>116</a></span>
<span class=normal><a href=#__codelineno-0-117>117</a></span>
<span class=normal><a href=#__codelineno-0-118>118</a></span>
<span class=normal><a href=#__codelineno-0-119>119</a></span>
<span class=normal><a href=#__codelineno-0-120>120</a></span>
<span class=normal><a href=#__codelineno-0-121>121</a></span>
<span class=normal><a href=#__codelineno-0-122>122</a></span>
<span class=normal><a href=#__codelineno-0-123>123</a></span>
<span class=normal><a href=#__codelineno-0-124>124</a></span>
<span class=normal><a href=#__codelineno-0-125>125</a></span>
<span class=normal><a href=#__codelineno-0-126>126</a></span>
<span class=normal><a href=#__codelineno-0-127>127</a></span>
<span class=normal><a href=#__codelineno-0-128>128</a></span>
<span class=normal><a href=#__codelineno-0-129>129</a></span>
<span class=normal><a href=#__codelineno-0-130>130</a></span>
<span class=normal><a href=#__codelineno-0-131>131</a></span>
<span class=normal><a href=#__codelineno-0-132>132</a></span>
<span class=normal><a href=#__codelineno-0-133>133</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-86 name=__codelineno-0-86></a><span class=k>def</span><span class=w> </span><span class=nf>declare</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Incident</span><span class=p>:</span>
<a id=__codelineno-0-87 name=__codelineno-0-87></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Create an Incident and its first IncidentUpdate.</span>
<a id=__codelineno-0-88 name=__codelineno-0-88></a><span class=sd>    Send the incident_created signal.</span>
<a id=__codelineno-0-89 name=__codelineno-0-89></a><span class=sd>    Returns the saved incident, no need to .save().</span>
<a id=__codelineno-0-90 name=__codelineno-0-90></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-91 name=__codelineno-0-91></a>    <span class=k>with</span> <span class=n>transaction</span><span class=o>.</span><span class=n>atomic</span><span class=p>():</span>
<a id=__codelineno-0-92 name=__codelineno-0-92></a>        <span class=k>if</span> <span class=s2>&quot;private&quot;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>kwargs</span><span class=p>:</span>
<a id=__codelineno-0-93 name=__codelineno-0-93></a>            <span class=n>kwargs</span><span class=p>[</span><span class=s2>&quot;private&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>kwargs</span><span class=p>[</span><span class=s2>&quot;component&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>private</span>
<a id=__codelineno-0-94 name=__codelineno-0-94></a>        <span class=k>if</span> <span class=s2>&quot;severity&quot;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>kwargs</span> <span class=ow>and</span> <span class=s2>&quot;priority&quot;</span> <span class=ow>in</span> <span class=n>kwargs</span><span class=p>:</span>
<a id=__codelineno-0-95 name=__codelineno-0-95></a>            <span class=n>kwargs</span><span class=p>[</span><span class=s2>&quot;severity&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>Severity</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>get</span><span class=p>(</span>
<a id=__codelineno-0-96 name=__codelineno-0-96></a>                <span class=n>value</span><span class=o>=</span><span class=n>kwargs</span><span class=p>[</span><span class=s2>&quot;priority&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>value</span>
<a id=__codelineno-0-97 name=__codelineno-0-97></a>            <span class=p>)</span>
<a id=__codelineno-0-98 name=__codelineno-0-98></a>        <span class=n>incident</span><span class=p>:</span> <span class=n>Incident</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>create</span><span class=p>(</span><span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
<a id=__codelineno-0-99 name=__codelineno-0-99></a>        <span class=k>for</span> <span class=n>required_default_role</span> <span class=ow>in</span> <span class=n>IncidentRoleType</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>filter</span><span class=p>(</span><span class=n>required</span><span class=o>=</span><span class=kc>True</span><span class=p>):</span>
<a id=__codelineno-0-100 name=__codelineno-0-100></a>            <span class=n>incident</span><span class=o>.</span><span class=n>roles_set</span><span class=o>.</span><span class=n>add</span><span class=p>(</span>
<a id=__codelineno-0-101 name=__codelineno-0-101></a>                <span class=n>IncidentRole</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>create</span><span class=p>(</span>
<a id=__codelineno-0-102 name=__codelineno-0-102></a>                    <span class=n>incident</span><span class=o>=</span><span class=n>incident</span><span class=p>,</span>
<a id=__codelineno-0-103 name=__codelineno-0-103></a>                    <span class=n>role_type</span><span class=o>=</span><span class=n>required_default_role</span><span class=p>,</span>
<a id=__codelineno-0-104 name=__codelineno-0-104></a>                    <span class=n>user</span><span class=o>=</span><span class=n>incident</span><span class=o>.</span><span class=n>created_by</span><span class=p>,</span>
<a id=__codelineno-0-105 name=__codelineno-0-105></a>                <span class=p>)</span>
<a id=__codelineno-0-106 name=__codelineno-0-106></a>            <span class=p>)</span>
<a id=__codelineno-0-107 name=__codelineno-0-107></a>
<a id=__codelineno-0-108 name=__codelineno-0-108></a>        <span class=n>first_incident_update</span> <span class=o>=</span> <span class=n>IncidentUpdate</span><span class=p>(</span>
<a id=__codelineno-0-109 name=__codelineno-0-109></a>            <span class=n>title</span><span class=o>=</span><span class=n>incident</span><span class=o>.</span><span class=n>title</span><span class=p>,</span>
<a id=__codelineno-0-110 name=__codelineno-0-110></a>            <span class=n>description</span><span class=o>=</span><span class=n>incident</span><span class=o>.</span><span class=n>description</span><span class=p>,</span>
<a id=__codelineno-0-111 name=__codelineno-0-111></a>            <span class=n>status</span><span class=o>=</span><span class=n>incident</span><span class=o>.</span><span class=n>status</span><span class=p>,</span>  <span class=c1># type: ignore[misc]</span>
<a id=__codelineno-0-112 name=__codelineno-0-112></a>            <span class=n>priority</span><span class=o>=</span><span class=n>incident</span><span class=o>.</span><span class=n>priority</span><span class=p>,</span>
<a id=__codelineno-0-113 name=__codelineno-0-113></a>            <span class=n>component</span><span class=o>=</span><span class=n>incident</span><span class=o>.</span><span class=n>component</span><span class=p>,</span>
<a id=__codelineno-0-114 name=__codelineno-0-114></a>            <span class=n>created_by</span><span class=o>=</span><span class=n>incident</span><span class=o>.</span><span class=n>created_by</span><span class=p>,</span>
<a id=__codelineno-0-115 name=__codelineno-0-115></a>            <span class=n>commander</span><span class=o>=</span><span class=n>incident</span><span class=o>.</span><span class=n>created_by</span><span class=p>,</span>
<a id=__codelineno-0-116 name=__codelineno-0-116></a>            <span class=n>incident</span><span class=o>=</span><span class=n>incident</span><span class=p>,</span>
<a id=__codelineno-0-117 name=__codelineno-0-117></a>            <span class=n>event_ts</span><span class=o>=</span><span class=n>incident</span><span class=o>.</span><span class=n>created_at</span><span class=p>,</span>
<a id=__codelineno-0-118 name=__codelineno-0-118></a>        <span class=p>)</span>
<a id=__codelineno-0-119 name=__codelineno-0-119></a>
<a id=__codelineno-0-120 name=__codelineno-0-120></a>        <span class=n>milestone_declared</span> <span class=o>=</span> <span class=n>IncidentUpdate</span><span class=p>(</span>
<a id=__codelineno-0-121 name=__codelineno-0-121></a>            <span class=n>created_by</span><span class=o>=</span><span class=n>incident</span><span class=o>.</span><span class=n>created_by</span><span class=p>,</span>
<a id=__codelineno-0-122 name=__codelineno-0-122></a>            <span class=n>incident</span><span class=o>=</span><span class=n>incident</span><span class=p>,</span>
<a id=__codelineno-0-123 name=__codelineno-0-123></a>            <span class=n>event_type</span><span class=o>=</span><span class=s2>&quot;declared&quot;</span><span class=p>,</span>
<a id=__codelineno-0-124 name=__codelineno-0-124></a>            <span class=n>event_ts</span><span class=o>=</span><span class=n>incident</span><span class=o>.</span><span class=n>created_at</span><span class=p>,</span>
<a id=__codelineno-0-125 name=__codelineno-0-125></a>        <span class=p>)</span>
<a id=__codelineno-0-126 name=__codelineno-0-126></a>        <span class=n>first_incident_update</span><span class=o>.</span><span class=n>save</span><span class=p>()</span>
<a id=__codelineno-0-127 name=__codelineno-0-127></a>        <span class=n>milestone_declared</span><span class=o>.</span><span class=n>save</span><span class=p>()</span>
<a id=__codelineno-0-128 name=__codelineno-0-128></a>
<a id=__codelineno-0-129 name=__codelineno-0-129></a>        <span class=n>incident</span><span class=o>.</span><span class=n>members</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>incident</span><span class=o>.</span><span class=n>created_by</span><span class=p>)</span>
<a id=__codelineno-0-130 name=__codelineno-0-130></a>
<a id=__codelineno-0-131 name=__codelineno-0-131></a>    <span class=c1># Either we have an incident or an error was thrown</span>
<a id=__codelineno-0-132 name=__codelineno-0-132></a>    <span class=n>incident_created</span><span class=o>.</span><span class=n>send_robust</span><span class=p>(</span><span class=n>sender</span><span class=o>=</span><span class=vm>__name__</span><span class=p>,</span> <span class=n>incident</span><span class=o>=</span><span class=n>incident</span><span class=p>)</span>
<a id=__codelineno-0-133 name=__codelineno-0-133></a>    <span class=k>return</span> <span class=n>incident</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h5 id=firefighter.incidents.models.incident.IncidentManager.search class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">search</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small> </span> <a href=#firefighter.incidents.models.incident.IncidentManager.search class=headerlink title="Permanent link">¤</a></h5> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>search</span><span class=p>(</span><span class=n>queryset</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=django.db.models.query.QuerySet href=https://docs.djangoproject.com/en/4.2/ref/models/querysets/#django.db.models.query.QuerySet>QuerySet</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title="            Incident (firefighter.incidents.models.incident.Incident)" href=#firefighter.incidents.models.incident.Incident>Incident</a></span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span><span class=p>,</span> <span class=n>search_term</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#tuple>tuple</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" title=django.db.models.query.QuerySet href=https://docs.djangoproject.com/en/4.2/ref/models/querysets/#django.db.models.query.QuerySet>QuerySet</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title="            Incident (firefighter.incidents.models.incident.Incident)" href=#firefighter.incidents.models.incident.Incident>Incident</a></span><span class=p>],</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/functions.html#bool>bool</a></span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>Search for incidents using a search term, on the title and description fields.</p> <p><span class=doc-section-title>Parameters:</span></p> <ul> <li class="doc-section-item field-body"> <b><code>queryset</code></b> (<code><a class="autorefs autorefs-external" title=django.db.models.query.QuerySet href=https://docs.djangoproject.com/en/4.2/ref/models/querysets/#django.db.models.query.QuerySet>QuerySet</a>[<a class="autorefs autorefs-internal" title="            Incident (firefighter.incidents.models.incident.Incident)" href=#firefighter.incidents.models.incident.Incident>Incident</a>] | None</code>) – <div class=doc-md-description> <p>Queryset to search in. If None, search in all incidents. The Queryset allows to search on a subset of incidents (already filtered).</p> </div> </li> <li class="doc-section-item field-body"> <b><code>search_term</code></b> (<code><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></code>) – <div class=doc-md-description> <p>Search term.</p> </div> </li> </ul> <p><span class=doc-section-title>Returns:</span></p> <ul> <li class="doc-section-item field-body"> <code><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#tuple>tuple</a>[<a class="autorefs autorefs-external" title=django.db.models.query.QuerySet href=https://docs.djangoproject.com/en/4.2/ref/models/querysets/#django.db.models.query.QuerySet>QuerySet</a>[<a class="autorefs autorefs-internal" title="            Incident (firefighter.incidents.models.incident.Incident)" href=#firefighter.incidents.models.incident.Incident>Incident</a>], <a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/functions.html#bool>bool</a>]</code> – <div class=doc-md-description> <p>tuple[QuerySet[Incident], bool]: Queryset of incidents matching the search term, and a boolean indicating if the search may contain duplicates objects.</p> </div> </li> </ul> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/models/incident.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-135>135</a></span>
<span class=normal><a href=#__codelineno-0-136>136</a></span>
<span class=normal><a href=#__codelineno-0-137>137</a></span>
<span class=normal><a href=#__codelineno-0-138>138</a></span>
<span class=normal><a href=#__codelineno-0-139>139</a></span>
<span class=normal><a href=#__codelineno-0-140>140</a></span>
<span class=normal><a href=#__codelineno-0-141>141</a></span>
<span class=normal><a href=#__codelineno-0-142>142</a></span>
<span class=normal><a href=#__codelineno-0-143>143</a></span>
<span class=normal><a href=#__codelineno-0-144>144</a></span>
<span class=normal><a href=#__codelineno-0-145>145</a></span>
<span class=normal><a href=#__codelineno-0-146>146</a></span>
<span class=normal><a href=#__codelineno-0-147>147</a></span>
<span class=normal><a href=#__codelineno-0-148>148</a></span>
<span class=normal><a href=#__codelineno-0-149>149</a></span>
<span class=normal><a href=#__codelineno-0-150>150</a></span>
<span class=normal><a href=#__codelineno-0-151>151</a></span>
<span class=normal><a href=#__codelineno-0-152>152</a></span>
<span class=normal><a href=#__codelineno-0-153>153</a></span>
<span class=normal><a href=#__codelineno-0-154>154</a></span>
<span class=normal><a href=#__codelineno-0-155>155</a></span>
<span class=normal><a href=#__codelineno-0-156>156</a></span>
<span class=normal><a href=#__codelineno-0-157>157</a></span>
<span class=normal><a href=#__codelineno-0-158>158</a></span>
<span class=normal><a href=#__codelineno-0-159>159</a></span>
<span class=normal><a href=#__codelineno-0-160>160</a></span>
<span class=normal><a href=#__codelineno-0-161>161</a></span>
<span class=normal><a href=#__codelineno-0-162>162</a></span>
<span class=normal><a href=#__codelineno-0-163>163</a></span>
<span class=normal><a href=#__codelineno-0-164>164</a></span>
<span class=normal><a href=#__codelineno-0-165>165</a></span>
<span class=normal><a href=#__codelineno-0-166>166</a></span>
<span class=normal><a href=#__codelineno-0-167>167</a></span>
<span class=normal><a href=#__codelineno-0-168>168</a></span>
<span class=normal><a href=#__codelineno-0-169>169</a></span>
<span class=normal><a href=#__codelineno-0-170>170</a></span>
<span class=normal><a href=#__codelineno-0-171>171</a></span>
<span class=normal><a href=#__codelineno-0-172>172</a></span>
<span class=normal><a href=#__codelineno-0-173>173</a></span>
<span class=normal><a href=#__codelineno-0-174>174</a></span>
<span class=normal><a href=#__codelineno-0-175>175</a></span>
<span class=normal><a href=#__codelineno-0-176>176</a></span>
<span class=normal><a href=#__codelineno-0-177>177</a></span>
<span class=normal><a href=#__codelineno-0-178>178</a></span>
<span class=normal><a href=#__codelineno-0-179>179</a></span>
<span class=normal><a href=#__codelineno-0-180>180</a></span>
<span class=normal><a href=#__codelineno-0-181>181</a></span>
<span class=normal><a href=#__codelineno-0-182>182</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-135 name=__codelineno-0-135></a><span class=nd>@staticmethod</span>
<a id=__codelineno-0-136 name=__codelineno-0-136></a><span class=k>def</span><span class=w> </span><span class=nf>search</span><span class=p>(</span>
<a id=__codelineno-0-137 name=__codelineno-0-137></a>    <span class=n>queryset</span><span class=p>:</span> <span class=n>QuerySet</span><span class=p>[</span><span class=n>Incident</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span><span class=p>,</span> <span class=n>search_term</span><span class=p>:</span> <span class=nb>str</span>
<a id=__codelineno-0-138 name=__codelineno-0-138></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=n>QuerySet</span><span class=p>[</span><span class=n>Incident</span><span class=p>],</span> <span class=nb>bool</span><span class=p>]:</span>
<a id=__codelineno-0-139 name=__codelineno-0-139></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Search for incidents using a search term, on the title and description fields.</span>
<a id=__codelineno-0-140 name=__codelineno-0-140></a>
<a id=__codelineno-0-141 name=__codelineno-0-141></a><span class=sd>    Args:</span>
<a id=__codelineno-0-142 name=__codelineno-0-142></a><span class=sd>        queryset (QuerySet[Incident] | None): Queryset to search in. If None, search in all incidents. The Queryset allows to search on a subset of incidents (already filtered).</span>
<a id=__codelineno-0-143 name=__codelineno-0-143></a><span class=sd>        search_term (str): Search term.</span>
<a id=__codelineno-0-144 name=__codelineno-0-144></a>
<a id=__codelineno-0-145 name=__codelineno-0-145></a><span class=sd>    Returns:</span>
<a id=__codelineno-0-146 name=__codelineno-0-146></a><span class=sd>        tuple[QuerySet[Incident], bool]: Queryset of incidents matching the search term, and a boolean indicating if the search may contain duplicates objects.</span>
<a id=__codelineno-0-147 name=__codelineno-0-147></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-148 name=__codelineno-0-148></a>    <span class=k>if</span> <span class=n>queryset</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-149 name=__codelineno-0-149></a>        <span class=n>queryset</span> <span class=o>=</span> <span class=n>Incident</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>all</span><span class=p>()</span>
<a id=__codelineno-0-150 name=__codelineno-0-150></a>
<a id=__codelineno-0-151 name=__codelineno-0-151></a>    <span class=c1># If not search, return the original queryset</span>
<a id=__codelineno-0-152 name=__codelineno-0-152></a>    <span class=k>if</span> <span class=n>search_term</span> <span class=ow>is</span> <span class=kc>None</span> <span class=ow>or</span> <span class=n>search_term</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span> <span class=o>==</span> <span class=s2>&quot;&quot;</span><span class=p>:</span>
<a id=__codelineno-0-153 name=__codelineno-0-153></a>        <span class=k>return</span> <span class=n>queryset</span><span class=p>,</span> <span class=kc>False</span>
<a id=__codelineno-0-154 name=__codelineno-0-154></a>
<a id=__codelineno-0-155 name=__codelineno-0-155></a>    <span class=n>queryset_search_id</span> <span class=o>=</span> <span class=kc>None</span>
<a id=__codelineno-0-156 name=__codelineno-0-156></a>
<a id=__codelineno-0-157 name=__codelineno-0-157></a>    <span class=c1># If the search is just an int, search for this ID + regular search</span>
<a id=__codelineno-0-158 name=__codelineno-0-158></a>    <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-0-159 name=__codelineno-0-159></a>        <span class=n>search_term_as_int</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>search_term</span><span class=p>)</span>
<a id=__codelineno-0-160 name=__codelineno-0-160></a>    <span class=k>except</span> <span class=ne>ValueError</span><span class=p>:</span>
<a id=__codelineno-0-161 name=__codelineno-0-161></a>        <span class=k>pass</span>
<a id=__codelineno-0-162 name=__codelineno-0-162></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-163 name=__codelineno-0-163></a>        <span class=n>queryset_search_id</span> <span class=o>=</span> <span class=n>deepcopy</span><span class=p>(</span><span class=n>queryset</span><span class=p>)</span>
<a id=__codelineno-0-164 name=__codelineno-0-164></a>        <span class=n>queryset_search_id</span> <span class=o>=</span> <span class=n>queryset_search_id</span><span class=o>.</span><span class=n>filter</span><span class=p>(</span><span class=nb>id</span><span class=o>=</span><span class=n>search_term_as_int</span><span class=p>)</span>
<a id=__codelineno-0-165 name=__codelineno-0-165></a>
<a id=__codelineno-0-166 name=__codelineno-0-166></a>    <span class=c1># Postgres search on title + description</span>
<a id=__codelineno-0-167 name=__codelineno-0-167></a>    <span class=c1># XXX Improve search performance and relevance</span>
<a id=__codelineno-0-168 name=__codelineno-0-168></a>    <span class=n>vector</span> <span class=o>=</span> <span class=n>SearchVector</span><span class=p>(</span><span class=s2>&quot;title&quot;</span><span class=p>,</span> <span class=n>config</span><span class=o>=</span><span class=s2>&quot;english&quot;</span><span class=p>,</span> <span class=n>weight</span><span class=o>=</span><span class=s2>&quot;A&quot;</span><span class=p>)</span> <span class=o>+</span> <span class=n>SearchVector</span><span class=p>(</span>
<a id=__codelineno-0-169 name=__codelineno-0-169></a>        <span class=s2>&quot;description&quot;</span><span class=p>,</span> <span class=n>config</span><span class=o>=</span><span class=s2>&quot;english&quot;</span><span class=p>,</span> <span class=n>weight</span><span class=o>=</span><span class=s2>&quot;B&quot;</span>
<a id=__codelineno-0-170 name=__codelineno-0-170></a>    <span class=p>)</span>
<a id=__codelineno-0-171 name=__codelineno-0-171></a>    <span class=n>query</span> <span class=o>=</span> <span class=n>SearchQuery</span><span class=p>(</span><span class=n>search_term</span><span class=p>,</span> <span class=n>config</span><span class=o>=</span><span class=s2>&quot;english&quot;</span><span class=p>,</span> <span class=n>search_type</span><span class=o>=</span><span class=s2>&quot;websearch&quot;</span><span class=p>)</span>
<a id=__codelineno-0-172 name=__codelineno-0-172></a>    <span class=n>queryset</span> <span class=o>=</span> <span class=p>(</span>
<a id=__codelineno-0-173 name=__codelineno-0-173></a>        <span class=n>queryset</span><span class=o>.</span><span class=n>annotate</span><span class=p>(</span><span class=n>rank</span><span class=o>=</span><span class=n>SearchRank</span><span class=p>(</span><span class=n>vector</span><span class=p>,</span> <span class=n>query</span><span class=p>))</span>
<a id=__codelineno-0-174 name=__codelineno-0-174></a>        <span class=o>.</span><span class=n>filter</span><span class=p>(</span><span class=n>rank__gte</span><span class=o>=</span><span class=mf>0.1</span><span class=p>)</span>
<a id=__codelineno-0-175 name=__codelineno-0-175></a>        <span class=o>.</span><span class=n>order_by</span><span class=p>(</span><span class=s2>&quot;-rank&quot;</span><span class=p>)</span>
<a id=__codelineno-0-176 name=__codelineno-0-176></a>    <span class=p>)</span>
<a id=__codelineno-0-177 name=__codelineno-0-177></a>
<a id=__codelineno-0-178 name=__codelineno-0-178></a>    <span class=c1># Add the search by id to the search by text if needed</span>
<a id=__codelineno-0-179 name=__codelineno-0-179></a>    <span class=k>if</span> <span class=n>queryset_search_id</span><span class=p>:</span>
<a id=__codelineno-0-180 name=__codelineno-0-180></a>        <span class=n>queryset</span> <span class=o>|=</span> <span class=n>queryset_search_id</span>  <span class=c1># type: ignore[operator]</span>
<a id=__codelineno-0-181 name=__codelineno-0-181></a>
<a id=__codelineno-0-182 name=__codelineno-0-182></a>    <span class=k>return</span> <span class=n>queryset</span><span class=p>,</span> <span class=kc>False</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-function"> <h4 id=firefighter.incidents.models.incident.component_filter_choices_queryset class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">component_filter_choices_queryset</span> <a href=#firefighter.incidents.models.incident.component_filter_choices_queryset class=headerlink title="Permanent link">¤</a></h4> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>component_filter_choices_queryset</span><span class=p>(</span><span class=n>_</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" title=django.db.models.query.QuerySet href=https://docs.djangoproject.com/en/4.2/ref/models/querysets/#django.db.models.query.QuerySet>QuerySet</a></span><span class=p>[</span><span class=n><span title=firefighter.incidents.models.component.Component>Component</span></span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>Queryset for choices of Components in IncidentFilterSet. Moved it as a function because models are not loaded when creating filters.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/models/incident.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-631>631</a></span>
<span class=normal><a href=#__codelineno-0-632>632</a></span>
<span class=normal><a href=#__codelineno-0-633>633</a></span>
<span class=normal><a href=#__codelineno-0-634>634</a></span>
<span class=normal><a href=#__codelineno-0-635>635</a></span>
<span class=normal><a href=#__codelineno-0-636>636</a></span>
<span class=normal><a href=#__codelineno-0-637>637</a></span>
<span class=normal><a href=#__codelineno-0-638>638</a></span>
<span class=normal><a href=#__codelineno-0-639>639</a></span>
<span class=normal><a href=#__codelineno-0-640>640</a></span>
<span class=normal><a href=#__codelineno-0-641>641</a></span>
<span class=normal><a href=#__codelineno-0-642>642</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-631 name=__codelineno-0-631></a><span class=k>def</span><span class=w> </span><span class=nf>component_filter_choices_queryset</span><span class=p>(</span><span class=n>_</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>QuerySet</span><span class=p>[</span><span class=n>Component</span><span class=p>]:</span>
<a id=__codelineno-0-632 name=__codelineno-0-632></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Queryset for choices of Components in IncidentFilterSet.</span>
<a id=__codelineno-0-633 name=__codelineno-0-633></a><span class=sd>    Moved it as a function because models are not loaded when creating filters.</span>
<a id=__codelineno-0-634 name=__codelineno-0-634></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-635 name=__codelineno-0-635></a>    <span class=k>return</span> <span class=p>(</span>
<a id=__codelineno-0-636 name=__codelineno-0-636></a>        <span class=n>Component</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>all</span><span class=p>()</span>
<a id=__codelineno-0-637 name=__codelineno-0-637></a>        <span class=o>.</span><span class=n>select_related</span><span class=p>(</span><span class=s2>&quot;group&quot;</span><span class=p>)</span>
<a id=__codelineno-0-638 name=__codelineno-0-638></a>        <span class=o>.</span><span class=n>order_by</span><span class=p>(</span>
<a id=__codelineno-0-639 name=__codelineno-0-639></a>            <span class=s2>&quot;group__order&quot;</span><span class=p>,</span>
<a id=__codelineno-0-640 name=__codelineno-0-640></a>            <span class=s2>&quot;name&quot;</span><span class=p>,</span>
<a id=__codelineno-0-641 name=__codelineno-0-641></a>        <span class=p>)</span>
<a id=__codelineno-0-642 name=__codelineno-0-642></a>    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h3 id=firefighter.incidents.models.incident_cost class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">incident_cost</span> <a href=#firefighter.incidents.models.incident_cost class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Classes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            IncidentCost (firefighter.incidents.models.incident_cost.IncidentCost)" href=#firefighter.incidents.models.incident_cost.IncidentCost>IncidentCost</a></code></b> – <div class=doc-md-description> <p>Incident Cost is inspired from dispatch.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h4 id=firefighter.incidents.models.incident_cost.IncidentCost class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">IncidentCost</span> <a href=#firefighter.incidents.models.incident_cost.IncidentCost class=headerlink title="Permanent link">¤</a></h4> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-external" title=django.db.models.Model href=https://docs.djangoproject.com/en/4.2/ref/models/instances/#django.db.models.Model>Model</a></code></p> <p>Incident Cost is inspired from dispatch.</p> <div class="doc doc-children"> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h3 id=firefighter.incidents.models.incident_cost_type class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">incident_cost_type</span> <a href=#firefighter.incidents.models.incident_cost_type class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Classes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            IncidentCostType (firefighter.incidents.models.incident_cost_type.IncidentCostType)" href=#firefighter.incidents.models.incident_cost_type.IncidentCostType>IncidentCostType</a></code></b> – <div class=doc-md-description> <p>Incident Cost Type is inspired from dispatch.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h4 id=firefighter.incidents.models.incident_cost_type.IncidentCostType class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">IncidentCostType</span> <a href=#firefighter.incidents.models.incident_cost_type.IncidentCostType class=headerlink title="Permanent link">¤</a></h4> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-external" title=django.db.models.Model href=https://docs.djangoproject.com/en/4.2/ref/models/instances/#django.db.models.Model>Model</a></code></p> <p>Incident Cost Type is inspired from dispatch.</p> <div class="doc doc-children"> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h3 id=firefighter.incidents.models.incident_update class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">incident_update</span> <a href=#firefighter.incidents.models.incident_update class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Classes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            IncidentUpdate (firefighter.incidents.models.incident_update.IncidentUpdate)" href=#firefighter.incidents.models.incident_update.IncidentUpdate>IncidentUpdate</a></code></b> – <div class=doc-md-description> <p>IncidentUpdate represents a single update to an incident.</p> </div> </li> </ul> <p><span class=doc-section-title>Functions:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            set_event_ts (firefighter.incidents.models.incident_update.set_event_ts)" href=#firefighter.incidents.models.incident_update.set_event_ts>set_event_ts</a></code></b> – <div class=doc-md-description> <p>Add a timestamp on every IncidentUpdate.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h4 id=firefighter.incidents.models.incident_update.IncidentUpdate class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">IncidentUpdate</span> <a href=#firefighter.incidents.models.incident_update.IncidentUpdate class=headerlink title="Permanent link">¤</a></h4> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-external" title=django.db.models.Model href=https://docs.djangoproject.com/en/4.2/ref/models/instances/#django.db.models.Model>Model</a></code></p> <p>IncidentUpdate represents a single update to an incident. One incident can have many incident updates. Only updated fields are stored in the incident update.</p> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-function"> <h4 id=firefighter.incidents.models.incident_update.set_event_ts class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">set_event_ts</span> <a href=#firefighter.incidents.models.incident_update.set_event_ts class=headerlink title="Permanent link">¤</a></h4> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>set_event_ts</span><span class=p>(</span><span class=n>sender</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>,</span> <span class=n>instance</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-internal" title="            IncidentUpdate (firefighter.incidents.models.incident_update.IncidentUpdate)" href=#firefighter.incidents.models.incident_update.IncidentUpdate>IncidentUpdate</a></span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Add a timestamp on every IncidentUpdate. Not implemented using Django ORM auto_add as it would not make them user editable.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/models/incident_update.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-138>138</a></span>
<span class=normal><a href=#__codelineno-0-139>139</a></span>
<span class=normal><a href=#__codelineno-0-140>140</a></span>
<span class=normal><a href=#__codelineno-0-141>141</a></span>
<span class=normal><a href=#__codelineno-0-142>142</a></span>
<span class=normal><a href=#__codelineno-0-143>143</a></span>
<span class=normal><a href=#__codelineno-0-144>144</a></span>
<span class=normal><a href=#__codelineno-0-145>145</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-138 name=__codelineno-0-138></a><span class=nd>@receiver</span><span class=p>(</span><span class=n>pre_save</span><span class=p>,</span> <span class=n>sender</span><span class=o>=</span><span class=n>IncidentUpdate</span><span class=p>)</span>
<a id=__codelineno-0-139 name=__codelineno-0-139></a><span class=c1># pylint: disable=unused-argument</span>
<a id=__codelineno-0-140 name=__codelineno-0-140></a><span class=k>def</span><span class=w> </span><span class=nf>set_event_ts</span><span class=p>(</span><span class=n>sender</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=n>instance</span><span class=p>:</span> <span class=n>IncidentUpdate</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-141 name=__codelineno-0-141></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Add a timestamp on every IncidentUpdate.</span>
<a id=__codelineno-0-142 name=__codelineno-0-142></a><span class=sd>    Not implemented using Django ORM auto_add as it would not make them user editable.</span>
<a id=__codelineno-0-143 name=__codelineno-0-143></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-144 name=__codelineno-0-144></a>    <span class=k>if</span> <span class=n>instance</span><span class=o>.</span><span class=n>event_ts</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-145 name=__codelineno-0-145></a>        <span class=n>instance</span><span class=o>.</span><span class=n>event_ts</span> <span class=o>=</span> <span class=n>timezone</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>  <span class=c1># type: ignore</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h3 id=firefighter.incidents.models.milestone_type class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">milestone_type</span> <a href=#firefighter.incidents.models.milestone_type class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p>MilestoneType model.</p> <p><span class=doc-section-title>Classes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            MilestoneType (firefighter.incidents.models.milestone_type.MilestoneType)" href=#firefighter.incidents.models.milestone_type.MilestoneType>MilestoneType</a></code></b> – <div class=doc-md-description> <p>Represents a milestone type, also known as a key event time or event time.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h4 id=firefighter.incidents.models.milestone_type.MilestoneType class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">MilestoneType</span> <a href=#firefighter.incidents.models.milestone_type.MilestoneType class=headerlink title="Permanent link">¤</a></h4> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-external" title=django.db.models.Model href=https://docs.djangoproject.com/en/4.2/ref/models/instances/#django.db.models.Model>Model</a></code></p> <p>Represents a milestone type, also known as a key event time or event time.</p> <div class="doc doc-children"> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h3 id=firefighter.incidents.models.priority class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">priority</span> <a href=#firefighter.incidents.models.priority class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Classes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            Priority (firefighter.incidents.models.priority.Priority)" href=#firefighter.incidents.models.priority.Priority>Priority</a></code></b> – <div class=doc-md-description> <p>A priority for an incident.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h4 id=firefighter.incidents.models.priority.Priority class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">Priority</span> <a href=#firefighter.incidents.models.priority.Priority class=headerlink title="Permanent link">¤</a></h4> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-external" title=django.db.models.Model href=https://docs.djangoproject.com/en/4.2/ref/models/instances/#django.db.models.Model>Model</a></code></p> <p>A priority for an incident.</p> <div class="doc doc-children"> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h3 id=firefighter.incidents.models.user class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">user</span> <a href=#firefighter.incidents.models.user class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Classes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            User (firefighter.incidents.models.user.User)" href=#firefighter.incidents.models.user.User>User</a></code></b> – <div class=doc-md-description> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h4 id=firefighter.incidents.models.user.User class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">User</span> <a href=#firefighter.incidents.models.user.User class=headerlink title="Permanent link">¤</a></h4> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-external" title=django.contrib.auth.models.AbstractUser href=https://docs.djangoproject.com/en/4.2/topics/auth/customizing/#django.contrib.auth.models.AbstractUser>AbstractUser</a></code></p> <p><span class=doc-section-title>Attributes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            full_name


  
      property
   (firefighter.incidents.models.user.User.full_name)" href=#firefighter.incidents.models.user.User.full_name>full_name</a></code></b> (<code><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></code>) – <div class=doc-md-description> <p>User full name (first + last name). Looks for the first_name and last_name fields, then name, then username. Will return an empty string if none of these are set.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h5 id=firefighter.incidents.models.user.User.full_name class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">full_name</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> <a href=#firefighter.incidents.models.user.User.full_name class=headerlink title="Permanent link">¤</a></h5> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>full_name</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span>
</code></pre></div> <div class="doc doc-contents "> <p>User full name (first + last name). Looks for the first_name and last_name fields, then name, then username. Will return an empty string if none of these are set.</p> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h2 id=firefighter.incidents.signals class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">signals</span> <a href=#firefighter.incidents.signals class=headerlink title="Permanent link">¤</a></h2> <div class="doc doc-contents "> <p><span class=doc-section-title>Attributes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            create_incident_conversation


  
      module-attribute
   (firefighter.incidents.signals.create_incident_conversation)" href=#firefighter.incidents.signals.create_incident_conversation>create_incident_conversation</a></code></b> – <div class=doc-md-description> <p>Signal sent to create a conversation for an incident.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            get_invites


  
      module-attribute
   (firefighter.incidents.signals.get_invites)" href=#firefighter.incidents.signals.get_invites>get_invites</a></code></b> – <div class=doc-md-description> <p>Signal sent to retrieve the list of users to invite for an incident.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            incident_closed


  
      module-attribute
   (firefighter.incidents.signals.incident_closed)" href=#firefighter.incidents.signals.incident_closed>incident_closed</a></code></b> – <div class=doc-md-description> <p>Signal sent when an incident is closed</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            incident_created


  
      module-attribute
   (firefighter.incidents.signals.incident_created)" href=#firefighter.incidents.signals.incident_created>incident_created</a></code></b> – <div class=doc-md-description> <p>Signal sent when an incident is created</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            incident_key_events_updated


  
      module-attribute
   (firefighter.incidents.signals.incident_key_events_updated)" href=#firefighter.incidents.signals.incident_key_events_updated>incident_key_events_updated</a></code></b> – <div class=doc-md-description> <p>Signal sent when an incident's key events are updated.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            incident_updated


  
      module-attribute
   (firefighter.incidents.signals.incident_updated)" href=#firefighter.incidents.signals.incident_updated>incident_updated</a></code></b> – <div class=doc-md-description> <p>Signal sent when an incident is updated.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            postmortem_created


  
      module-attribute
   (firefighter.incidents.signals.postmortem_created)" href=#firefighter.incidents.signals.postmortem_created>postmortem_created</a></code></b> – <div class=doc-md-description> <p>Signal sent when a postmortem is created.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h3 id=firefighter.incidents.signals.create_incident_conversation class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">create_incident_conversation</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#firefighter.incidents.signals.create_incident_conversation class=headerlink title="Permanent link">¤</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>create_incident_conversation</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-external" title=django.dispatch.Signal href=https://docs.djangoproject.com/en/4.2/topics/signals/#django.dispatch.Signal>Signal</a></span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> <p>Signal sent to create a conversation for an incident.</p> <p><span class=doc-section-title>Parameters:</span></p> <ul> <li class="doc-section-item field-body"> <b><code>incident</code></b> (<code><a class="autorefs autorefs-internal" title="            Incident (firefighter.incidents.models.incident.Incident)" href=#firefighter.incidents.models.incident.Incident>Incident</a></code>) – <div class=doc-md-description> <p>The incident for which to create a conversation.</p> </div> </li> </ul> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=firefighter.incidents.signals.get_invites class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">get_invites</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#firefighter.incidents.signals.get_invites class=headerlink title="Permanent link">¤</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>get_invites</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-external" title=django.dispatch.Signal href=https://docs.djangoproject.com/en/4.2/topics/signals/#django.dispatch.Signal>Signal</a></span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> <p>Signal sent to retrieve the list of users to invite for an incident.</p> <p><span class=doc-section-title>Parameters:</span></p> <ul> <li class="doc-section-item field-body"> <b><code>incident</code></b> (<code><a class="autorefs autorefs-internal" title="            Incident (firefighter.incidents.models.incident.Incident)" href=#firefighter.incidents.models.incident.Incident>Incident</a></code>) – <div class=doc-md-description> <p>The incident for which to retrieve the list of users to invite.</p> </div> </li> </ul> <p><span class=doc-section-title>Returns:</span></p> <ul> <li class="doc-section-item field-body"> <b><code>users</code></b> ( <code><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-internal" title="            User (firefighter.incidents.models.user.User)" href=#firefighter.incidents.models.user.User>User</a>]</code> ) – <div class=doc-md-description> <p>The list of users to invite.</p> </div> </li> </ul> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=firefighter.incidents.signals.incident_closed class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">incident_closed</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#firefighter.incidents.signals.incident_closed class=headerlink title="Permanent link">¤</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>incident_closed</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-external" title=django.dispatch.Signal href=https://docs.djangoproject.com/en/4.2/topics/signals/#django.dispatch.Signal>Signal</a></span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> <p>Signal sent when an incident is closed</p> <p><span class=doc-section-title>Parameters:</span></p> <ul> <li class="doc-section-item field-body"> <b><code>sender</code></b> (<code><span title=Any>Any</span></code>) – <div class=doc-md-description> <p>The sender of the signal <strong>name</strong></p> </div> </li> <li class="doc-section-item field-body"> <b><code>incident</code></b> (<code><a class="autorefs autorefs-internal" title="            Incident (firefighter.incidents.models.incident.Incident)" href=#firefighter.incidents.models.incident.Incident>Incident</a></code>) – <div class=doc-md-description> <p>The incident that was closed</p> </div> </li> </ul> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=firefighter.incidents.signals.incident_created class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">incident_created</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#firefighter.incidents.signals.incident_created class=headerlink title="Permanent link">¤</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>incident_created</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-external" title=django.dispatch.Signal href=https://docs.djangoproject.com/en/4.2/topics/signals/#django.dispatch.Signal>Signal</a></span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> <p>Signal sent when an incident is created</p> <p><span class=doc-section-title>Parameters:</span></p> <ul> <li class="doc-section-item field-body"> <b><code>incident</code></b> (<code><a class="autorefs autorefs-internal" title="            Incident (firefighter.incidents.models.incident.Incident)" href=#firefighter.incidents.models.incident.Incident>Incident</a></code>) – <div class=doc-md-description> <p>The incident that was created</p> </div> </li> </ul> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=firefighter.incidents.signals.incident_key_events_updated class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">incident_key_events_updated</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#firefighter.incidents.signals.incident_key_events_updated class=headerlink title="Permanent link">¤</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>incident_key_events_updated</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-external" title=django.dispatch.Signal href=https://docs.djangoproject.com/en/4.2/topics/signals/#django.dispatch.Signal>Signal</a></span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> <p>Signal sent when an incident's key events are updated.</p> <p><span class=doc-section-title>Parameters:</span></p> <ul> <li class="doc-section-item field-body"> <b><code>incident</code></b> (<code><a class="autorefs autorefs-internal" title="            Incident (firefighter.incidents.models.incident.Incident)" href=#firefighter.incidents.models.incident.Incident>Incident</a></code>) – <div class=doc-md-description> <p>The incident that was updated</p> </div> </li> </ul> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=firefighter.incidents.signals.incident_updated class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">incident_updated</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#firefighter.incidents.signals.incident_updated class=headerlink title="Permanent link">¤</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>incident_updated</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-external" title=django.dispatch.Signal href=https://docs.djangoproject.com/en/4.2/topics/signals/#django.dispatch.Signal>Signal</a></span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> <p>Signal sent when an incident is updated.</p> <p><span class=doc-section-title>Parameters:</span></p> <ul> <li class="doc-section-item field-body"> <b><code>sender</code></b> (<code><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a> | <span title=Any>Any</span></code>) – <div class=doc-md-description> <p>The sender of the signal <strong>name</strong></p> </div> </li> <li class="doc-section-item field-body"> <b><code>incident</code></b> (<code><a class="autorefs autorefs-internal" title="            Incident (firefighter.incidents.models.incident.Incident)" href=#firefighter.incidents.models.incident.Incident>Incident</a></code>) – <div class=doc-md-description> <p>The incident that was updated</p> </div> </li> <li class="doc-section-item field-body"> <b><code>incident_update</code></b> (<code><a class="autorefs autorefs-internal" title="            IncidentUpdate (firefighter.incidents.models.incident_update.IncidentUpdate)" href=#firefighter.incidents.models.incident_update.IncidentUpdate>IncidentUpdate</a></code>) – <div class=doc-md-description> <p>The incident update that was created</p> </div> </li> <li class="doc-section-item field-body"> <b><code>update_fields</code></b> (<code><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#list>list</a>[<a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a>]</code>) – <div class=doc-md-description> <p>The fields that were updated</p> </div> </li> <li class="doc-section-item field-body"> <b><code>old_priority</code></b> (<code><a class="autorefs autorefs-internal" title="            Priority (firefighter.incidents.models.priority.Priority)" href=#firefighter.incidents.models.priority.Priority>Priority</a></code>) – <div class=doc-md-description> <p>The old priority of the incident (optional kwarg)</p> </div> </li> </ul> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=firefighter.incidents.signals.postmortem_created class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">postmortem_created</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small> </span> <a href=#firefighter.incidents.signals.postmortem_created class=headerlink title="Permanent link">¤</a></h3> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=n>postmortem_created</span> <span class=o>=</span> <span class=n><a class="autorefs autorefs-external" title=django.dispatch.Signal href=https://docs.djangoproject.com/en/4.2/topics/signals/#django.dispatch.Signal>Signal</a></span><span class=p>()</span>
</code></pre></div> <div class="doc doc-contents "> <p>Signal sent when a postmortem is created.</p> <p><span class=doc-section-title>Parameters:</span></p> <ul> <li class="doc-section-item field-body"> <b><code>sender</code></b> (<code><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a> | <span title=Any>Any</span></code>) – <div class=doc-md-description> <p>The sender of the signal <strong>name</strong></p> </div> </li> <li class="doc-section-item field-body"> <b><code>incident</code></b> (<code><a class="autorefs autorefs-internal" title="            Incident (firefighter.incidents.models.incident.Incident)" href=#firefighter.incidents.models.incident.Incident>Incident</a></code>) – <div class=doc-md-description> <p>The incident for which the postmortem was created</p> </div> </li> </ul> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h2 id=firefighter.incidents.tasks class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">tasks</span> <a href=#firefighter.incidents.tasks class=headerlink title="Permanent link">¤</a></h2> <div class="doc doc-contents "> <p><span class=doc-section-title>Modules:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            updateoncall (firefighter.incidents.tasks.updateoncall)" href=#firefighter.incidents.tasks.updateoncall>updateoncall</a></code></b> – <div class=doc-md-description> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-module"> <h3 id=firefighter.incidents.tasks.updateoncall class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">updateoncall</span> <a href=#firefighter.incidents.tasks.updateoncall class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Functions:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            update_oncall (firefighter.incidents.tasks.updateoncall.update_oncall)" href=#firefighter.incidents.tasks.updateoncall.update_oncall>update_oncall</a></code></b> – <div class=doc-md-description> <p>Fetch current on-calls and update the on-call Slack topic and Confluence page.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            update_oncall_slack_topic (firefighter.incidents.tasks.updateoncall.update_oncall_slack_topic)" href=#firefighter.incidents.tasks.updateoncall.update_oncall_slack_topic>update_oncall_slack_topic</a></code></b> – <div class=doc-md-description> <p>TODO(gab) Move in the Slack app.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            update_oncall_views (firefighter.incidents.tasks.updateoncall.update_oncall_views)" href=#firefighter.incidents.tasks.updateoncall.update_oncall_views>update_oncall_views</a></code></b> – <div class=doc-md-description> <p>Updates the on-call Slack topic and Confluence page containing the info for the on-call personnel.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h4 id=firefighter.incidents.tasks.updateoncall.update_oncall class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">update_oncall</span> <a href=#firefighter.incidents.tasks.updateoncall.update_oncall class=headerlink title="Permanent link">¤</a></h4> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update_oncall</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Fetch current on-calls and update the on-call Slack topic and Confluence page.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/tasks/updateoncall.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-30>30</a></span>
<span class=normal><a href=#__codelineno-0-31>31</a></span>
<span class=normal><a href=#__codelineno-0-32>32</a></span>
<span class=normal><a href=#__codelineno-0-33>33</a></span>
<span class=normal><a href=#__codelineno-0-34>34</a></span>
<span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-30 name=__codelineno-0-30></a><span class=nd>@shared_task</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&quot;incidents.update_oncall&quot;</span><span class=p>)</span>
<a id=__codelineno-0-31 name=__codelineno-0-31></a><span class=k>def</span><span class=w> </span><span class=nf>update_oncall</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-32 name=__codelineno-0-32></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Fetch current on-calls and update the on-call Slack topic and Confluence page.&quot;&quot;&quot;</span>
<a id=__codelineno-0-33 name=__codelineno-0-33></a>    <span class=n>chain</span><span class=p>:</span> <span class=n>Signature</span><span class=p>[</span><span class=nb>bool</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span>
<a id=__codelineno-0-34 name=__codelineno-0-34></a>        <span class=n>fetch_oncalls</span><span class=o>.</span><span class=n>s</span><span class=p>()</span>  <span class=c1># pyright: ignore[reportUnboundVariable]</span>
<a id=__codelineno-0-35 name=__codelineno-0-35></a>        <span class=o>|</span> <span class=n>update_oncall_views</span><span class=o>.</span><span class=n>s</span><span class=p>()</span>
<a id=__codelineno-0-36 name=__codelineno-0-36></a>    <span class=p>)</span>
<a id=__codelineno-0-37 name=__codelineno-0-37></a>    <span class=n>chain</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=firefighter.incidents.tasks.updateoncall.update_oncall_slack_topic class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">update_oncall_slack_topic</span> <a href=#firefighter.incidents.tasks.updateoncall.update_oncall_slack_topic class=headerlink title="Permanent link">¤</a></h4> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update_oncall_slack_topic</span><span class=p>(</span><span class=n>users</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#dict>dict</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-internal" title="            User (firefighter.incidents.models.user.User)" href=#firefighter.incidents.models.user.User>User</a></span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/functions.html#bool>bool</a></span>
</code></pre></div> <div class="doc doc-contents "> <p>TODO(gab) Move in the Slack app.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/tasks/updateoncall.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-84> 84</a></span>
<span class=normal><a href=#__codelineno-0-85> 85</a></span>
<span class=normal><a href=#__codelineno-0-86> 86</a></span>
<span class=normal><a href=#__codelineno-0-87> 87</a></span>
<span class=normal><a href=#__codelineno-0-88> 88</a></span>
<span class=normal><a href=#__codelineno-0-89> 89</a></span>
<span class=normal><a href=#__codelineno-0-90> 90</a></span>
<span class=normal><a href=#__codelineno-0-91> 91</a></span>
<span class=normal><a href=#__codelineno-0-92> 92</a></span>
<span class=normal><a href=#__codelineno-0-93> 93</a></span>
<span class=normal><a href=#__codelineno-0-94> 94</a></span>
<span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-84 name=__codelineno-0-84></a><span class=k>def</span><span class=w> </span><span class=nf>update_oncall_slack_topic</span><span class=p>(</span>
<a id=__codelineno-0-85 name=__codelineno-0-85></a>    <span class=n>users</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>User</span><span class=p>],</span>
<a id=__codelineno-0-86 name=__codelineno-0-86></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<a id=__codelineno-0-87 name=__codelineno-0-87></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;TODO(gab) Move in the Slack app.&quot;&quot;&quot;</span>
<a id=__codelineno-0-88 name=__codelineno-0-88></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>settings</span><span class=o>.</span><span class=n>ENABLE_SLACK</span><span class=p>:</span>
<a id=__codelineno-0-89 name=__codelineno-0-89></a>        <span class=k>return</span> <span class=kc>False</span>
<a id=__codelineno-0-90 name=__codelineno-0-90></a>
<a id=__codelineno-0-91 name=__codelineno-0-91></a>    <span class=n>oncall_topic</span> <span class=o>=</span> <span class=n>create_oncall_topic</span><span class=p>(</span><span class=n>users</span><span class=p>)</span>
<a id=__codelineno-0-92 name=__codelineno-0-92></a>    <span class=n>tech_incidents_conversation</span> <span class=o>=</span> <span class=n>Conversation</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>get_or_none</span><span class=p>(</span><span class=n>tag</span><span class=o>=</span><span class=s2>&quot;tech_incidents&quot;</span><span class=p>)</span>
<a id=__codelineno-0-93 name=__codelineno-0-93></a>    <span class=k>if</span> <span class=n>tech_incidents_conversation</span><span class=p>:</span>
<a id=__codelineno-0-94 name=__codelineno-0-94></a>        <span class=n>res</span> <span class=o>=</span> <span class=n>tech_incidents_conversation</span><span class=o>.</span><span class=n>update_topic</span><span class=p>(</span><span class=n>oncall_topic</span><span class=p>)</span>
<a id=__codelineno-0-95 name=__codelineno-0-95></a>        <span class=k>if</span> <span class=n>res</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;ok&quot;</span><span class=p>):</span>
<a id=__codelineno-0-96 name=__codelineno-0-96></a>            <span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
<a id=__codelineno-0-97 name=__codelineno-0-97></a>                <span class=sa>f</span><span class=s2>&quot;Updated on-call Slack topic on </span><span class=si>{</span><span class=n>tech_incidents_conversation</span><span class=si>}</span><span class=s2>.&quot;</span>
<a id=__codelineno-0-98 name=__codelineno-0-98></a>            <span class=p>)</span>
<a id=__codelineno-0-99 name=__codelineno-0-99></a>            <span class=k>return</span> <span class=kc>True</span>
<a id=__codelineno-0-100 name=__codelineno-0-100></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-101 name=__codelineno-0-101></a>        <span class=n>logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span>
<a id=__codelineno-0-102 name=__codelineno-0-102></a>            <span class=s2>&quot;Could not find tech_incidents conversation! Is there a channel with tag tech_incidents?&quot;</span>
<a id=__codelineno-0-103 name=__codelineno-0-103></a>        <span class=p>)</span>
<a id=__codelineno-0-104 name=__codelineno-0-104></a>        <span class=k>return</span> <span class=kc>False</span>
<a id=__codelineno-0-105 name=__codelineno-0-105></a>    <span class=n>logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=s2>&quot;Failed to update on-call Slack topic.&quot;</span><span class=p>)</span>
<a id=__codelineno-0-106 name=__codelineno-0-106></a>    <span class=k>return</span> <span class=kc>False</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=firefighter.incidents.tasks.updateoncall.update_oncall_views class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">update_oncall_views</span> <a href=#firefighter.incidents.tasks.updateoncall.update_oncall_views class=headerlink title="Permanent link">¤</a></h4> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>update_oncall_views</span><span class=p>(</span><span class=o>*</span><span class=n>_args</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>,</span> <span class=o>**</span><span class=n>_kwargs</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/functions.html#bool>bool</a></span>
</code></pre></div> <div class="doc doc-contents "> <p>Updates the on-call Slack topic and Confluence page containing the info for the on-call personnel.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/tasks/updateoncall.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span>
<span class=normal><a href=#__codelineno-0-58>58</a></span>
<span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-40 name=__codelineno-0-40></a><span class=nd>@shared_task</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&quot;incidents.update_oncall_views&quot;</span><span class=p>)</span>
<a id=__codelineno-0-41 name=__codelineno-0-41></a><span class=k>def</span><span class=w> </span><span class=nf>update_oncall_views</span><span class=p>(</span><span class=o>*</span><span class=n>_args</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=o>**</span><span class=n>_kwargs</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<a id=__codelineno-0-42 name=__codelineno-0-42></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Updates the on-call Slack topic and Confluence page containing the info for the on-call personnel.&quot;&quot;&quot;</span>
<a id=__codelineno-0-43 name=__codelineno-0-43></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>settings</span><span class=o>.</span><span class=n>ENABLE_PAGERDUTY</span><span class=p>:</span>
<a id=__codelineno-0-44 name=__codelineno-0-44></a>        <span class=n>logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=s2>&quot;Can&#39;t update on-call users without PagerDuty enabled.&quot;</span><span class=p>)</span>
<a id=__codelineno-0-45 name=__codelineno-0-45></a>        <span class=k>return</span> <span class=kc>False</span>
<a id=__codelineno-0-46 name=__codelineno-0-46></a>
<a id=__codelineno-0-47 name=__codelineno-0-47></a>    <span class=n>oncall_users_grouped_per_ep</span> <span class=o>=</span> <span class=n>PagerDutyOncall</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>get_current_oncalls_per_escalation_policy_name_first_responder</span><span class=p>()</span>
<a id=__codelineno-0-48 name=__codelineno-0-48></a>
<a id=__codelineno-0-49 name=__codelineno-0-49></a>    <span class=c1># Check that we have Slack ID and handle for these users, if needed</span>
<a id=__codelineno-0-50 name=__codelineno-0-50></a>    <span class=k>if</span> <span class=n>settings</span><span class=o>.</span><span class=n>ENABLE_SLACK</span><span class=p>:</span>
<a id=__codelineno-0-51 name=__codelineno-0-51></a>        <span class=k>for</span> <span class=n>user</span> <span class=ow>in</span> <span class=n>oncall_users_grouped_per_ep</span><span class=o>.</span><span class=n>values</span><span class=p>():</span>
<a id=__codelineno-0-52 name=__codelineno-0-52></a>            <span class=k>if</span> <span class=ow>not</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>user</span><span class=p>,</span> <span class=s2>&quot;slack_user&quot;</span><span class=p>):</span>
<a id=__codelineno-0-53 name=__codelineno-0-53></a>                <span class=n>SlackUser</span><span class=o>.</span><span class=n>objects</span><span class=o>.</span><span class=n>add_slack_id_to_user</span><span class=p>(</span><span class=n>user</span><span class=p>)</span>
<a id=__codelineno-0-54 name=__codelineno-0-54></a>                <span class=n>logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;Added Slack ID to user: </span><span class=si>%s</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>user</span><span class=p>)</span>
<a id=__codelineno-0-55 name=__codelineno-0-55></a>        <span class=n>update_oncall_slack_topic</span><span class=p>(</span><span class=n>oncall_users_grouped_per_ep</span><span class=p>)</span>
<a id=__codelineno-0-56 name=__codelineno-0-56></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-57 name=__codelineno-0-57></a>        <span class=n>logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=s2>&quot;Not updating on-call Slack topic, Slack integration disabled.&quot;</span><span class=p>)</span>
<a id=__codelineno-0-58 name=__codelineno-0-58></a>
<a id=__codelineno-0-59 name=__codelineno-0-59></a>    <span class=n>update_oncall_confluence</span><span class=p>(</span><span class=n>oncall_users_grouped_per_ep</span><span class=p>)</span>
<a id=__codelineno-0-60 name=__codelineno-0-60></a>    <span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;Updated on-call users on Confluence and Slack topic.&quot;</span><span class=p>)</span>
<a id=__codelineno-0-61 name=__codelineno-0-61></a>    <span class=k>return</span> <span class=kc>True</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h2 id=firefighter.incidents.views class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">views</span> <a href=#firefighter.incidents.views class=headerlink title="Permanent link">¤</a></h2> <div class="doc doc-contents "> <p><span class=doc-section-title>Modules:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            components (firefighter.incidents.views.components)" href=#firefighter.incidents.views.components>components</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            date_filter (firefighter.incidents.views.date_filter)" href=#firefighter.incidents.views.date_filter>date_filter</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            date_utils (firefighter.incidents.views.date_utils)" href=#firefighter.incidents.views.date_utils>date_utils</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            errors (firefighter.incidents.views.errors)" href=#firefighter.incidents.views.errors>errors</a></code></b> – <div class=doc-md-description> <p>From Django default errors views.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            users (firefighter.incidents.views.users)" href=#firefighter.incidents.views.users>users</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            views (firefighter.incidents.views.views)" href=#firefighter.incidents.views.views>views</a></code></b> – <div class=doc-md-description> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-module"> <h3 id=firefighter.incidents.views.components class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">components</span> <a href=#firefighter.incidents.views.components class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Modules:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            list (firefighter.incidents.views.components.list)" href=#firefighter.incidents.views.components.list>list</a></code></b> – <div class=doc-md-description> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-module"> <h4 id=firefighter.incidents.views.components.list class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">list</span> <a href=#firefighter.incidents.views.components.list class=headerlink title="Permanent link">¤</a></h4> <div class="doc doc-contents "> <p><span class=doc-section-title>Classes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            ComponentsViewList (firefighter.incidents.views.components.list.ComponentsViewList)" href=#firefighter.incidents.views.components.list.ComponentsViewList>ComponentsViewList</a></code></b> – <div class=doc-md-description> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h5 id=firefighter.incidents.views.components.list.ComponentsViewList class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">ComponentsViewList</span> <a href=#firefighter.incidents.views.components.list.ComponentsViewList class=headerlink title="Permanent link">¤</a></h5> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=django_tables2.views.SingleTableMixin>SingleTableMixin</span></code>, <code><span title=django_filters.views.FilterView>FilterView</span></code></p> <p><span class=doc-section-title>Methods:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            get_context_data (firefighter.incidents.views.components.list.ComponentsViewList.get_context_data)" href=#firefighter.incidents.views.components.list.ComponentsViewList.get_context_data>get_context_data</a></code></b> – <div class=doc-md-description> <p>No *args to pass.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h6 id=firefighter.incidents.views.components.list.ComponentsViewList.get_context_data class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_context_data</span> <a href=#firefighter.incidents.views.components.list.ComponentsViewList.get_context_data class=headerlink title="Permanent link">¤</a></h6> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_context_data</span><span class=p>(</span><span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#dict>dict</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>No *args to pass.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/views/components/list.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span>
<span class=normal><a href=#__codelineno-0-56>56</a></span>
<span class=normal><a href=#__codelineno-0-57>57</a></span>
<span class=normal><a href=#__codelineno-0-58>58</a></span>
<span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span>
<span class=normal><a href=#__codelineno-0-62>62</a></span>
<span class=normal><a href=#__codelineno-0-63>63</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-53 name=__codelineno-0-53></a><span class=k>def</span><span class=w> </span><span class=nf>get_context_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<a id=__codelineno-0-54 name=__codelineno-0-54></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;No *args to pass.&quot;&quot;&quot;</span>
<a id=__codelineno-0-55 name=__codelineno-0-55></a>    <span class=c1># Call the base implementation first to get a context</span>
<a id=__codelineno-0-56 name=__codelineno-0-56></a>    <span class=n>context</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>get_context_data</span><span class=p>(</span><span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
<a id=__codelineno-0-57 name=__codelineno-0-57></a>    <span class=n>context</span><span class=p>[</span><span class=s2>&quot;filter_order&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-0-58 name=__codelineno-0-58></a>        <span class=s2>&quot;search&quot;</span><span class=p>,</span>
<a id=__codelineno-0-59 name=__codelineno-0-59></a>        <span class=s2>&quot;metrics_period&quot;</span><span class=p>,</span>
<a id=__codelineno-0-60 name=__codelineno-0-60></a>        <span class=s2>&quot;group&quot;</span><span class=p>,</span>
<a id=__codelineno-0-61 name=__codelineno-0-61></a>    <span class=p>]</span>
<a id=__codelineno-0-62 name=__codelineno-0-62></a>    <span class=n>context</span><span class=p>[</span><span class=s2>&quot;page_title&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;Components List&quot;</span>
<a id=__codelineno-0-63 name=__codelineno-0-63></a>    <span class=k>return</span> <span class=n>context</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h3 id=firefighter.incidents.views.date_filter class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">date_filter</span> <a href=#firefighter.incidents.views.date_filter class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Functions:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            get_date_range_from_special_date (firefighter.incidents.views.date_filter.get_date_range_from_special_date)" href=#firefighter.incidents.views.date_filter.get_date_range_from_special_date>get_date_range_from_special_date</a></code></b> – <div class=doc-md-description> <p>TODO Specify the year parameter (ISO or calendar).</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            parse_moment (firefighter.incidents.views.date_filter.parse_moment)" href=#firefighter.incidents.views.date_filter.parse_moment>parse_moment</a></code></b> – <div class=doc-md-description> <p>Returns a :class:<code>slice</code> with the :func:<code>slice.start</code> and :func:<code>slice.stop</code> of the given moment.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h4 id=firefighter.incidents.views.date_filter.get_date_range_from_special_date class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">get_date_range_from_special_date</span> <a href=#firefighter.incidents.views.date_filter.get_date_range_from_special_date class=headerlink title="Permanent link">¤</a></h4> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_date_range_from_special_date</span><span class=p>(</span><span class=n>unparsed_date</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#tuple>tuple</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" title=datetime.datetime href=https://docs.python.org/3.12/library/datetime.html#datetime.datetime>datetime</a></span> <span class=o>|</span> <span class=kc>None</span><span class=p>,</span> <span class=n><a class="autorefs autorefs-external" title=datetime.datetime href=https://docs.python.org/3.12/library/datetime.html#datetime.datetime>datetime</a></span> <span class=o>|</span> <span class=kc>None</span><span class=p>,</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span> <span class=o>|</span> <span class=kc>None</span><span class=p>,</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span> <span class=o>|</span> <span class=kc>None</span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>TODO Specify the year parameter (ISO or calendar).</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/views/date_filter.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-58> 58</a></span>
<span class=normal><a href=#__codelineno-0-59> 59</a></span>
<span class=normal><a href=#__codelineno-0-60> 60</a></span>
<span class=normal><a href=#__codelineno-0-61> 61</a></span>
<span class=normal><a href=#__codelineno-0-62> 62</a></span>
<span class=normal><a href=#__codelineno-0-63> 63</a></span>
<span class=normal><a href=#__codelineno-0-64> 64</a></span>
<span class=normal><a href=#__codelineno-0-65> 65</a></span>
<span class=normal><a href=#__codelineno-0-66> 66</a></span>
<span class=normal><a href=#__codelineno-0-67> 67</a></span>
<span class=normal><a href=#__codelineno-0-68> 68</a></span>
<span class=normal><a href=#__codelineno-0-69> 69</a></span>
<span class=normal><a href=#__codelineno-0-70> 70</a></span>
<span class=normal><a href=#__codelineno-0-71> 71</a></span>
<span class=normal><a href=#__codelineno-0-72> 72</a></span>
<span class=normal><a href=#__codelineno-0-73> 73</a></span>
<span class=normal><a href=#__codelineno-0-74> 74</a></span>
<span class=normal><a href=#__codelineno-0-75> 75</a></span>
<span class=normal><a href=#__codelineno-0-76> 76</a></span>
<span class=normal><a href=#__codelineno-0-77> 77</a></span>
<span class=normal><a href=#__codelineno-0-78> 78</a></span>
<span class=normal><a href=#__codelineno-0-79> 79</a></span>
<span class=normal><a href=#__codelineno-0-80> 80</a></span>
<span class=normal><a href=#__codelineno-0-81> 81</a></span>
<span class=normal><a href=#__codelineno-0-82> 82</a></span>
<span class=normal><a href=#__codelineno-0-83> 83</a></span>
<span class=normal><a href=#__codelineno-0-84> 84</a></span>
<span class=normal><a href=#__codelineno-0-85> 85</a></span>
<span class=normal><a href=#__codelineno-0-86> 86</a></span>
<span class=normal><a href=#__codelineno-0-87> 87</a></span>
<span class=normal><a href=#__codelineno-0-88> 88</a></span>
<span class=normal><a href=#__codelineno-0-89> 89</a></span>
<span class=normal><a href=#__codelineno-0-90> 90</a></span>
<span class=normal><a href=#__codelineno-0-91> 91</a></span>
<span class=normal><a href=#__codelineno-0-92> 92</a></span>
<span class=normal><a href=#__codelineno-0-93> 93</a></span>
<span class=normal><a href=#__codelineno-0-94> 94</a></span>
<span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-58 name=__codelineno-0-58></a><span class=k>def</span><span class=w> </span><span class=nf>get_date_range_from_special_date</span><span class=p>(</span>
<a id=__codelineno-0-59 name=__codelineno-0-59></a>    <span class=n>unparsed_date</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<a id=__codelineno-0-60 name=__codelineno-0-60></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=n>datetime</span> <span class=o>|</span> <span class=kc>None</span><span class=p>,</span> <span class=n>datetime</span> <span class=o>|</span> <span class=kc>None</span><span class=p>,</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span><span class=p>,</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span><span class=p>]:</span>
<a id=__codelineno-0-61 name=__codelineno-0-61></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;TODO Specify the year parameter (ISO or calendar).&quot;&quot;&quot;</span>
<a id=__codelineno-0-62 name=__codelineno-0-62></a>    <span class=k>if</span> <span class=s2>&quot;-&quot;</span> <span class=ow>in</span> <span class=n>unparsed_date</span><span class=p>:</span>
<a id=__codelineno-0-63 name=__codelineno-0-63></a>        <span class=n>logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;Parsing range, splitting with /&quot;</span><span class=p>)</span>
<a id=__codelineno-0-64 name=__codelineno-0-64></a>
<a id=__codelineno-0-65 name=__codelineno-0-65></a>        <span class=k>if</span> <span class=n>unparsed_date</span><span class=o>.</span><span class=n>count</span><span class=p>(</span><span class=s2>&quot;-&quot;</span><span class=p>)</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
<a id=__codelineno-0-66 name=__codelineno-0-66></a>            <span class=n>split</span> <span class=o>=</span> <span class=n>unparsed_date</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;-&quot;</span><span class=p>)</span>
<a id=__codelineno-0-67 name=__codelineno-0-67></a>        <span class=k>elif</span> <span class=n>unparsed_date</span><span class=o>.</span><span class=n>count</span><span class=p>(</span><span class=s2>&quot; - &quot;</span><span class=p>)</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
<a id=__codelineno-0-68 name=__codelineno-0-68></a>            <span class=n>split</span> <span class=o>=</span> <span class=n>unparsed_date</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot; - &quot;</span><span class=p>)</span>
<a id=__codelineno-0-69 name=__codelineno-0-69></a>        <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-70 name=__codelineno-0-70></a>            <span class=n>err_msg</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;Invalid range: </span><span class=si>{</span><span class=n>unparsed_date</span><span class=si>}</span><span class=s2>. Only one separator is allowed&quot;</span>
<a id=__codelineno-0-71 name=__codelineno-0-71></a>            <span class=k>raise</span> <span class=n>ValidationError</span><span class=p>(</span><span class=n>err_msg</span><span class=p>)</span>
<a id=__codelineno-0-72 name=__codelineno-0-72></a>        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>split</span><span class=p>)</span> <span class=o>==</span> <span class=mi>2</span><span class=p>:</span>
<a id=__codelineno-0-73 name=__codelineno-0-73></a>            <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>2</span><span class=p>):</span>
<a id=__codelineno-0-74 name=__codelineno-0-74></a>                <span class=n>split</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>split</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span>
<a id=__codelineno-0-75 name=__codelineno-0-75></a>
<a id=__codelineno-0-76 name=__codelineno-0-76></a>            <span class=n>beg</span> <span class=o>=</span> <span class=n>parse_moment</span><span class=p>(</span><span class=n>split</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
<a id=__codelineno-0-77 name=__codelineno-0-77></a>            <span class=n>end</span> <span class=o>=</span> <span class=n>parse_moment</span><span class=p>(</span><span class=n>split</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
<a id=__codelineno-0-78 name=__codelineno-0-78></a>            <span class=n>logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=n>end</span><span class=p>)</span>
<a id=__codelineno-0-79 name=__codelineno-0-79></a>            <span class=k>return</span> <span class=p>(</span>
<a id=__codelineno-0-80 name=__codelineno-0-80></a>                <span class=n>beg</span><span class=o>.</span><span class=n>start</span> <span class=k>if</span> <span class=n>beg</span> <span class=k>else</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-81 name=__codelineno-0-81></a>                <span class=n>end</span><span class=o>.</span><span class=n>stop</span> <span class=k>if</span> <span class=n>end</span> <span class=k>else</span> <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-82 name=__codelineno-0-82></a>                <span class=kc>None</span><span class=p>,</span>
<a id=__codelineno-0-83 name=__codelineno-0-83></a>                <span class=n>split</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>+</span> <span class=s2>&quot;-&quot;</span> <span class=o>+</span> <span class=n>split</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span>
<a id=__codelineno-0-84 name=__codelineno-0-84></a>            <span class=p>)</span>
<a id=__codelineno-0-85 name=__codelineno-0-85></a>        <span class=c1># TODO Message warning + logger.warning</span>
<a id=__codelineno-0-86 name=__codelineno-0-86></a>        <span class=k>raise</span> <span class=n>ValidationError</span><span class=p>(</span>
<a id=__codelineno-0-87 name=__codelineno-0-87></a>            <span class=s2>&quot;Invalid range: </span><span class=si>%(unparsed_date)s</span><span class=s2>. Only one separator is allowed&quot;</span><span class=p>,</span>
<a id=__codelineno-0-88 name=__codelineno-0-88></a>            <span class=n>params</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;unparsed_date&quot;</span><span class=p>:</span> <span class=n>unparsed_date</span><span class=p>},</span>
<a id=__codelineno-0-89 name=__codelineno-0-89></a>            <span class=n>code</span><span class=o>=</span><span class=s2>&quot;invalid&quot;</span><span class=p>,</span>
<a id=__codelineno-0-90 name=__codelineno-0-90></a>        <span class=p>)</span>
<a id=__codelineno-0-91 name=__codelineno-0-91></a>    <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-0-92 name=__codelineno-0-92></a>        <span class=n>date_range</span> <span class=o>=</span> <span class=n>parse_moment</span><span class=p>(</span><span class=n>unparsed_date</span><span class=p>)</span>
<a id=__codelineno-0-93 name=__codelineno-0-93></a>    <span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>exc</span><span class=p>:</span>
<a id=__codelineno-0-94 name=__codelineno-0-94></a>        <span class=k>raise</span> <span class=n>ValidationError</span><span class=p>(</span>
<a id=__codelineno-0-95 name=__codelineno-0-95></a>            <span class=s2>&quot;Invalid range: </span><span class=si>%(unparsed_date)s</span><span class=s2>. </span><span class=si>%(error)s</span><span class=s2>&quot;</span><span class=p>,</span>
<a id=__codelineno-0-96 name=__codelineno-0-96></a>            <span class=n>params</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;unparsed_date&quot;</span><span class=p>:</span> <span class=n>unparsed_date</span><span class=p>,</span> <span class=s2>&quot;error&quot;</span><span class=p>:</span> <span class=nb>str</span><span class=p>(</span><span class=n>exc</span><span class=p>)},</span>
<a id=__codelineno-0-97 name=__codelineno-0-97></a>            <span class=n>code</span><span class=o>=</span><span class=s2>&quot;invalid&quot;</span><span class=p>,</span>
<a id=__codelineno-0-98 name=__codelineno-0-98></a>        <span class=p>)</span> <span class=kn>from</span><span class=w> </span><span class=nn>exc</span>
<a id=__codelineno-0-99 name=__codelineno-0-99></a>    <span class=k>if</span> <span class=n>date_range</span><span class=p>:</span>
<a id=__codelineno-0-100 name=__codelineno-0-100></a>        <span class=k>return</span> <span class=n>date_range</span><span class=o>.</span><span class=n>start</span><span class=p>,</span> <span class=n>date_range</span><span class=o>.</span><span class=n>stop</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>&quot;TODO&quot;</span>
<a id=__codelineno-0-101 name=__codelineno-0-101></a>
<a id=__codelineno-0-102 name=__codelineno-0-102></a>    <span class=c1># TODO Message warning + logger.warning</span>
<a id=__codelineno-0-103 name=__codelineno-0-103></a>    <span class=k>return</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=firefighter.incidents.views.date_filter.parse_moment class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">parse_moment</span> <a href=#firefighter.incidents.views.date_filter.parse_moment class=headerlink title="Permanent link">¤</a></h4> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>parse_moment</span><span class=p>(</span><span class=n>value</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/functions.html#slice>slice</a></span> <span class=o>|</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Returns a :class:<code>slice</code> with the :func:<code>slice.start</code> and :func:<code>slice.stop</code> of the given moment. If the moment is not a valid moment, returns None. If the moment is a point in time, returns a slice with the same start and stop.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/views/date_filter.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-35>35</a></span>
<span class=normal><a href=#__codelineno-0-36>36</a></span>
<span class=normal><a href=#__codelineno-0-37>37</a></span>
<span class=normal><a href=#__codelineno-0-38>38</a></span>
<span class=normal><a href=#__codelineno-0-39>39</a></span>
<span class=normal><a href=#__codelineno-0-40>40</a></span>
<span class=normal><a href=#__codelineno-0-41>41</a></span>
<span class=normal><a href=#__codelineno-0-42>42</a></span>
<span class=normal><a href=#__codelineno-0-43>43</a></span>
<span class=normal><a href=#__codelineno-0-44>44</a></span>
<span class=normal><a href=#__codelineno-0-45>45</a></span>
<span class=normal><a href=#__codelineno-0-46>46</a></span>
<span class=normal><a href=#__codelineno-0-47>47</a></span>
<span class=normal><a href=#__codelineno-0-48>48</a></span>
<span class=normal><a href=#__codelineno-0-49>49</a></span>
<span class=normal><a href=#__codelineno-0-50>50</a></span>
<span class=normal><a href=#__codelineno-0-51>51</a></span>
<span class=normal><a href=#__codelineno-0-52>52</a></span>
<span class=normal><a href=#__codelineno-0-53>53</a></span>
<span class=normal><a href=#__codelineno-0-54>54</a></span>
<span class=normal><a href=#__codelineno-0-55>55</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-35 name=__codelineno-0-35></a><span class=k>def</span><span class=w> </span><span class=nf>parse_moment</span><span class=p>(</span><span class=n>value</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>slice</span> <span class=o>|</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-36 name=__codelineno-0-36></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns a :class:`slice` with the :func:`slice.start` and :func:`slice.stop` of the given moment.</span>
<a id=__codelineno-0-37 name=__codelineno-0-37></a><span class=sd>    If the moment is not a valid moment, returns None.</span>
<a id=__codelineno-0-38 name=__codelineno-0-38></a><span class=sd>    If the moment is a point in time, returns a slice with the same start and stop.</span>
<a id=__codelineno-0-39 name=__codelineno-0-39></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-40 name=__codelineno-0-40></a>    <span class=n>value</span> <span class=o>=</span> <span class=n>value</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span>
<a id=__codelineno-0-41 name=__codelineno-0-41></a>
<a id=__codelineno-0-42 name=__codelineno-0-42></a>    <span class=c1># Quarter/Week relative (current/previous quarter, current/previous week)</span>
<a id=__codelineno-0-43 name=__codelineno-0-43></a>    <span class=k>if</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>SPECIAL_RANGES</span><span class=p>:</span>
<a id=__codelineno-0-44 name=__codelineno-0-44></a>        <span class=n>now</span> <span class=o>=</span> <span class=n>timezone</span><span class=o>.</span><span class=n>localtime</span><span class=p>(</span><span class=n>timezone</span><span class=o>.</span><span class=n>now</span><span class=p>())</span>
<a id=__codelineno-0-45 name=__codelineno-0-45></a>        <span class=n>returned_range</span> <span class=o>=</span> <span class=n>get_date_range_from_relative_calendar_value</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>now</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
<a id=__codelineno-0-46 name=__codelineno-0-46></a>        <span class=k>if</span> <span class=kc>None</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>returned_range</span><span class=p>:</span>
<a id=__codelineno-0-47 name=__codelineno-0-47></a>            <span class=k>return</span> <span class=nb>slice</span><span class=p>(</span><span class=n>returned_range</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>returned_range</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
<a id=__codelineno-0-48 name=__codelineno-0-48></a>
<a id=__codelineno-0-49 name=__codelineno-0-49></a>    <span class=c1># Match according to the regex (W20, Q4, YYYY-W20, YYYY-Q4...)</span>
<a id=__codelineno-0-50 name=__codelineno-0-50></a>    <span class=n>week_or_quarter_time_frame</span> <span class=o>=</span> <span class=p>(</span><span class=o>*</span><span class=n>get_date_range_from_calendar_value</span><span class=p>(</span><span class=n>value</span><span class=p>),</span> <span class=n>value</span><span class=p>)</span>
<a id=__codelineno-0-51 name=__codelineno-0-51></a>    <span class=k>if</span> <span class=kc>None</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>week_or_quarter_time_frame</span><span class=p>:</span>
<a id=__codelineno-0-52 name=__codelineno-0-52></a>        <span class=k>return</span> <span class=nb>slice</span><span class=p>(</span><span class=n>week_or_quarter_time_frame</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>week_or_quarter_time_frame</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
<a id=__codelineno-0-53 name=__codelineno-0-53></a>
<a id=__codelineno-0-54 name=__codelineno-0-54></a>    <span class=c1># Match using dateparser (lots of formats)</span>
<a id=__codelineno-0-55 name=__codelineno-0-55></a>    <span class=k>return</span> <span class=n>parse_date_natural</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h3 id=firefighter.incidents.views.date_utils class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">date_utils</span> <a href=#firefighter.incidents.views.date_utils class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Functions:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            get_bounds_from_calendar_year (firefighter.incidents.views.date_utils.get_bounds_from_calendar_year)" href=#firefighter.incidents.views.date_utils.get_bounds_from_calendar_year>get_bounds_from_calendar_year</a></code></b> – <div class=doc-md-description> <p>Calendar Year.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            get_bounds_from_year (firefighter.incidents.views.date_utils.get_bounds_from_year)" href=#firefighter.incidents.views.date_utils.get_bounds_from_year>get_bounds_from_year</a></code></b> – <div class=doc-md-description> <p>ISO Year.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h4 id=firefighter.incidents.views.date_utils.get_bounds_from_calendar_year class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">get_bounds_from_calendar_year</span> <a href=#firefighter.incidents.views.date_utils.get_bounds_from_calendar_year class=headerlink title="Permanent link">¤</a></h4> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_bounds_from_calendar_year</span><span class=p>(</span><span class=n>year_value</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/functions.html#int>int</a></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#tuple>tuple</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" title=datetime.datetime href=https://docs.python.org/3.12/library/datetime.html#datetime.datetime>datetime</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-external" title=datetime.datetime href=https://docs.python.org/3.12/library/datetime.html#datetime.datetime>datetime</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>Calendar Year.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/views/date_utils.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-62>62</a></span>
<span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span>
<span class=normal><a href=#__codelineno-0-66>66</a></span>
<span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span>
<span class=normal><a href=#__codelineno-0-69>69</a></span>
<span class=normal><a href=#__codelineno-0-70>70</a></span>
<span class=normal><a href=#__codelineno-0-71>71</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-62 name=__codelineno-0-62></a><span class=k>def</span><span class=w> </span><span class=nf>get_bounds_from_calendar_year</span><span class=p>(</span><span class=n>year_value</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=n>datetime</span><span class=p>,</span> <span class=n>datetime</span><span class=p>,</span> <span class=nb>str</span><span class=p>]:</span>
<a id=__codelineno-0-63 name=__codelineno-0-63></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Calendar Year.&quot;&quot;&quot;</span>
<a id=__codelineno-0-64 name=__codelineno-0-64></a>    <span class=n>lower_bound</span> <span class=o>=</span> <span class=n>datetime</span><span class=p>(</span><span class=n>year_value</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=n>tzinfo</span><span class=o>=</span><span class=n>TZ</span><span class=p>)</span>
<a id=__codelineno-0-65 name=__codelineno-0-65></a>    <span class=n>upper_bound</span> <span class=o>=</span> <span class=n>datetime</span><span class=p>(</span><span class=n>year_value</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>31</span><span class=p>,</span> <span class=mi>23</span><span class=p>,</span> <span class=mi>59</span><span class=p>,</span> <span class=mi>59</span><span class=p>,</span> <span class=mi>999999</span><span class=p>,</span> <span class=n>tzinfo</span><span class=o>=</span><span class=n>TZ</span><span class=p>)</span>
<a id=__codelineno-0-66 name=__codelineno-0-66></a>
<a id=__codelineno-0-67 name=__codelineno-0-67></a>    <span class=k>return</span> <span class=p>(</span>
<a id=__codelineno-0-68 name=__codelineno-0-68></a>        <span class=n>lower_bound</span><span class=p>,</span>
<a id=__codelineno-0-69 name=__codelineno-0-69></a>        <span class=n>upper_bound</span><span class=p>,</span>
<a id=__codelineno-0-70 name=__codelineno-0-70></a>        <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>year_value</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span>
<a id=__codelineno-0-71 name=__codelineno-0-71></a>    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=firefighter.incidents.views.date_utils.get_bounds_from_year class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">get_bounds_from_year</span> <a href=#firefighter.incidents.views.date_utils.get_bounds_from_year class=headerlink title="Permanent link">¤</a></h4> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_bounds_from_year</span><span class=p>(</span><span class=n>year_value</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/functions.html#int>int</a></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#tuple>tuple</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" title=datetime.datetime href=https://docs.python.org/3.12/library/datetime.html#datetime.datetime>datetime</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-external" title=datetime.datetime href=https://docs.python.org/3.12/library/datetime.html#datetime.datetime>datetime</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>ISO Year.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/views/date_utils.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-74>74</a></span>
<span class=normal><a href=#__codelineno-0-75>75</a></span>
<span class=normal><a href=#__codelineno-0-76>76</a></span>
<span class=normal><a href=#__codelineno-0-77>77</a></span>
<span class=normal><a href=#__codelineno-0-78>78</a></span>
<span class=normal><a href=#__codelineno-0-79>79</a></span>
<span class=normal><a href=#__codelineno-0-80>80</a></span>
<span class=normal><a href=#__codelineno-0-81>81</a></span>
<span class=normal><a href=#__codelineno-0-82>82</a></span>
<span class=normal><a href=#__codelineno-0-83>83</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-74 name=__codelineno-0-74></a><span class=k>def</span><span class=w> </span><span class=nf>get_bounds_from_year</span><span class=p>(</span><span class=n>year_value</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>[</span><span class=n>datetime</span><span class=p>,</span> <span class=n>datetime</span><span class=p>,</span> <span class=nb>str</span><span class=p>]:</span>
<a id=__codelineno-0-75 name=__codelineno-0-75></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;ISO Year.&quot;&quot;&quot;</span>
<a id=__codelineno-0-76 name=__codelineno-0-76></a>    <span class=n>lower_bound</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>fromisocalendar</span><span class=p>(</span><span class=n>year_value</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
<a id=__codelineno-0-77 name=__codelineno-0-77></a>    <span class=n>upper_week_nb</span> <span class=o>=</span> <span class=n>date</span><span class=p>(</span><span class=n>year_value</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>28</span><span class=p>)</span><span class=o>.</span><span class=n>isocalendar</span><span class=p>()[</span><span class=mi>1</span><span class=p>]</span>
<a id=__codelineno-0-78 name=__codelineno-0-78></a>    <span class=n>upper_bound</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>combine</span><span class=p>(</span>
<a id=__codelineno-0-79 name=__codelineno-0-79></a>        <span class=n>date</span><span class=o>.</span><span class=n>fromisocalendar</span><span class=p>(</span><span class=n>year</span><span class=o>=</span><span class=n>year_value</span><span class=p>,</span> <span class=n>week</span><span class=o>=</span><span class=n>upper_week_nb</span><span class=p>,</span> <span class=n>day</span><span class=o>=</span><span class=mi>7</span><span class=p>),</span>
<a id=__codelineno-0-80 name=__codelineno-0-80></a>        <span class=n>time</span><span class=p>(</span><span class=mi>23</span><span class=p>,</span> <span class=mi>59</span><span class=p>,</span> <span class=mi>59</span><span class=p>,</span> <span class=mi>999999</span><span class=p>),</span>
<a id=__codelineno-0-81 name=__codelineno-0-81></a>    <span class=p>)</span>
<a id=__codelineno-0-82 name=__codelineno-0-82></a>
<a id=__codelineno-0-83 name=__codelineno-0-83></a>    <span class=k>return</span> <span class=o>*</span><span class=n>make_bounds_timezone_aware</span><span class=p>(</span><span class=n>lower_bound</span><span class=p>,</span> <span class=n>upper_bound</span><span class=p>),</span> <span class=sa>f</span><span class=s2>&quot;ISO</span><span class=si>{</span><span class=n>year_value</span><span class=si>}</span><span class=s2>&quot;</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h3 id=firefighter.incidents.views.errors class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">errors</span> <a href=#firefighter.incidents.views.errors class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p>From Django default errors views. <a href=https://github.com/django/django/blob/0dd29209091280ccf34e07c9468746c396b7778e/django/views/defaults.py>https://github.com/django/django/blob/0dd29209091280ccf34e07c9468746c396b7778e/django/views/defaults.py</a>.</p> <p><span class=doc-section-title>Functions:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            bad_request (firefighter.incidents.views.errors.bad_request)" href=#firefighter.incidents.views.errors.bad_request>bad_request</a></code></b> – <div class=doc-md-description> <p>400 error handler.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            page_not_found (firefighter.incidents.views.errors.page_not_found)" href=#firefighter.incidents.views.errors.page_not_found>page_not_found</a></code></b> – <div class=doc-md-description> <p>Default 404 handler.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            permission_denied (firefighter.incidents.views.errors.permission_denied)" href=#firefighter.incidents.views.errors.permission_denied>permission_denied</a></code></b> – <div class=doc-md-description> <p>Permission denied (403) handler.</p> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            server_error (firefighter.incidents.views.errors.server_error)" href=#firefighter.incidents.views.errors.server_error>server_error</a></code></b> – <div class=doc-md-description> <p>500 error handler.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h4 id=firefighter.incidents.views.errors.bad_request class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">bad_request</span> <a href=#firefighter.incidents.views.errors.bad_request class=headerlink title="Permanent link">¤</a></h4> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>bad_request</span><span class=p>(</span><span class=n>request</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=django.http.HttpRequest href=https://docs.djangoproject.com/en/4.2/ref/request-response/#django.http.HttpRequest>HttpRequest</a></span><span class=p>,</span> <span class=n>exception</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/exceptions.html#Exception>Exception</a></span><span class=p>,</span> <span class=n>template_name</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span> <span class=o>=</span> <span class=n><span title=firefighter.incidents.views.errors.ERROR_400_TEMPLATE_NAME>ERROR_400_TEMPLATE_NAME</span></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" title=django.http.HttpResponse href=https://docs.djangoproject.com/en/4.2/ref/request-response/#django.http.HttpResponse>HttpResponse</a></span>
</code></pre></div> <div class="doc doc-contents "> <p>400 error handler.</p> <p>Templates: :template:<code>400.html</code> Context: None</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/views/errors.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-167>167</a></span>
<span class=normal><a href=#__codelineno-0-168>168</a></span>
<span class=normal><a href=#__codelineno-0-169>169</a></span>
<span class=normal><a href=#__codelineno-0-170>170</a></span>
<span class=normal><a href=#__codelineno-0-171>171</a></span>
<span class=normal><a href=#__codelineno-0-172>172</a></span>
<span class=normal><a href=#__codelineno-0-173>173</a></span>
<span class=normal><a href=#__codelineno-0-174>174</a></span>
<span class=normal><a href=#__codelineno-0-175>175</a></span>
<span class=normal><a href=#__codelineno-0-176>176</a></span>
<span class=normal><a href=#__codelineno-0-177>177</a></span>
<span class=normal><a href=#__codelineno-0-178>178</a></span>
<span class=normal><a href=#__codelineno-0-179>179</a></span>
<span class=normal><a href=#__codelineno-0-180>180</a></span>
<span class=normal><a href=#__codelineno-0-181>181</a></span>
<span class=normal><a href=#__codelineno-0-182>182</a></span>
<span class=normal><a href=#__codelineno-0-183>183</a></span>
<span class=normal><a href=#__codelineno-0-184>184</a></span>
<span class=normal><a href=#__codelineno-0-185>185</a></span>
<span class=normal><a href=#__codelineno-0-186>186</a></span>
<span class=normal><a href=#__codelineno-0-187>187</a></span>
<span class=normal><a href=#__codelineno-0-188>188</a></span>
<span class=normal><a href=#__codelineno-0-189>189</a></span>
<span class=normal><a href=#__codelineno-0-190>190</a></span>
<span class=normal><a href=#__codelineno-0-191>191</a></span>
<span class=normal><a href=#__codelineno-0-192>192</a></span>
<span class=normal><a href=#__codelineno-0-193>193</a></span>
<span class=normal><a href=#__codelineno-0-194>194</a></span>
<span class=normal><a href=#__codelineno-0-195>195</a></span>
<span class=normal><a href=#__codelineno-0-196>196</a></span>
<span class=normal><a href=#__codelineno-0-197>197</a></span>
<span class=normal><a href=#__codelineno-0-198>198</a></span>
<span class=normal><a href=#__codelineno-0-199>199</a></span>
<span class=normal><a href=#__codelineno-0-200>200</a></span>
<span class=normal><a href=#__codelineno-0-201>201</a></span>
<span class=normal><a href=#__codelineno-0-202>202</a></span>
<span class=normal><a href=#__codelineno-0-203>203</a></span>
<span class=normal><a href=#__codelineno-0-204>204</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-167 name=__codelineno-0-167></a><span class=nd>@requires_csrf_token</span>
<a id=__codelineno-0-168 name=__codelineno-0-168></a><span class=k>def</span><span class=w> </span><span class=nf>bad_request</span><span class=p>(</span>
<a id=__codelineno-0-169 name=__codelineno-0-169></a>    <span class=n>request</span><span class=p>:</span> <span class=n>HttpRequest</span><span class=p>,</span>
<a id=__codelineno-0-170 name=__codelineno-0-170></a>    <span class=n>exception</span><span class=p>:</span> <span class=ne>Exception</span><span class=p>,</span>
<a id=__codelineno-0-171 name=__codelineno-0-171></a>    <span class=n>template_name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>ERROR_400_TEMPLATE_NAME</span><span class=p>,</span>
<a id=__codelineno-0-172 name=__codelineno-0-172></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>HttpResponse</span><span class=p>:</span>
<a id=__codelineno-0-173 name=__codelineno-0-173></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;400 error handler.</span>
<a id=__codelineno-0-174 name=__codelineno-0-174></a>
<a id=__codelineno-0-175 name=__codelineno-0-175></a><span class=sd>    Templates: :template:`400.html`</span>
<a id=__codelineno-0-176 name=__codelineno-0-176></a><span class=sd>    Context: None</span>
<a id=__codelineno-0-177 name=__codelineno-0-177></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-178 name=__codelineno-0-178></a>    <span class=k>if</span> <span class=p>(</span>
<a id=__codelineno-0-179 name=__codelineno-0-179></a>        <span class=n>request</span><span class=o>.</span><span class=n>headers</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;Accept&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span> <span class=o>==</span> <span class=n>JSON_CONTENT_TYPE</span>
<a id=__codelineno-0-180 name=__codelineno-0-180></a>        <span class=ow>or</span> <span class=n>request</span><span class=o>.</span><span class=n>headers</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;Content-Type&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span> <span class=o>==</span> <span class=n>JSON_CONTENT_TYPE</span>
<a id=__codelineno-0-181 name=__codelineno-0-181></a>    <span class=p>):</span>
<a id=__codelineno-0-182 name=__codelineno-0-182></a>        <span class=k>return</span> <span class=n>JsonHttpResponseBadRequest</span><span class=p>({</span>
<a id=__codelineno-0-183 name=__codelineno-0-183></a>            <span class=s2>&quot;error&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;app_code&quot;</span><span class=p>:</span> <span class=s2>&quot;BAD_REQUEST&quot;</span><span class=p>,</span> <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;Bad request&quot;</span><span class=p>}</span>
<a id=__codelineno-0-184 name=__codelineno-0-184></a>        <span class=p>})</span>
<a id=__codelineno-0-185 name=__codelineno-0-185></a>    <span class=n>context</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-0-186 name=__codelineno-0-186></a>        <span class=s2>&quot;request_path&quot;</span><span class=p>:</span> <span class=n>quote</span><span class=p>(</span><span class=n>request</span><span class=o>.</span><span class=n>path</span><span class=p>),</span>
<a id=__codelineno-0-187 name=__codelineno-0-187></a>        <span class=s2>&quot;page_title&quot;</span><span class=p>:</span> <span class=s2>&quot;Bad request&quot;</span><span class=p>,</span>
<a id=__codelineno-0-188 name=__codelineno-0-188></a>        <span class=s2>&quot;APP_DISPLAY_NAME&quot;</span><span class=p>:</span> <span class=n>settings</span><span class=o>.</span><span class=n>APP_DISPLAY_NAME</span><span class=p>,</span>
<a id=__codelineno-0-189 name=__codelineno-0-189></a>        <span class=s2>&quot;title&quot;</span><span class=p>:</span> <span class=s2>&quot;Bad request&quot;</span><span class=p>,</span>
<a id=__codelineno-0-190 name=__codelineno-0-190></a>        <span class=s2>&quot;code&quot;</span><span class=p>:</span> <span class=s2>&quot;400&quot;</span><span class=p>,</span>
<a id=__codelineno-0-191 name=__codelineno-0-191></a>        <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;Please check the URL in the address bar and try again.&quot;</span><span class=p>,</span>
<a id=__codelineno-0-192 name=__codelineno-0-192></a>    <span class=p>}</span>
<a id=__codelineno-0-193 name=__codelineno-0-193></a>    <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-0-194 name=__codelineno-0-194></a>        <span class=n>template</span> <span class=o>=</span> <span class=n>loader</span><span class=o>.</span><span class=n>get_template</span><span class=p>(</span><span class=n>template_name</span><span class=p>)</span>
<a id=__codelineno-0-195 name=__codelineno-0-195></a>    <span class=k>except</span> <span class=n>TemplateDoesNotExist</span><span class=p>:</span>
<a id=__codelineno-0-196 name=__codelineno-0-196></a>        <span class=k>if</span> <span class=n>template_name</span> <span class=o>!=</span> <span class=n>ERROR_400_TEMPLATE_NAME</span><span class=p>:</span>
<a id=__codelineno-0-197 name=__codelineno-0-197></a>            <span class=c1># Reraise if it&#39;s a missing custom template.</span>
<a id=__codelineno-0-198 name=__codelineno-0-198></a>            <span class=k>raise</span>
<a id=__codelineno-0-199 name=__codelineno-0-199></a>        <span class=k>return</span> <span class=n>HttpResponseBadRequest</span><span class=p>(</span>
<a id=__codelineno-0-200 name=__codelineno-0-200></a>            <span class=n>BACKUP_ERROR_PAGE_TEMPLATE</span> <span class=o>%</span> <span class=p>{</span><span class=s2>&quot;title&quot;</span><span class=p>:</span> <span class=s2>&quot;Bad Request (400)&quot;</span><span class=p>,</span> <span class=s2>&quot;details&quot;</span><span class=p>:</span> <span class=s2>&quot;&quot;</span><span class=p>},</span>
<a id=__codelineno-0-201 name=__codelineno-0-201></a>        <span class=p>)</span>
<a id=__codelineno-0-202 name=__codelineno-0-202></a>    <span class=c1># No exception content is passed to the template, to not disclose any</span>
<a id=__codelineno-0-203 name=__codelineno-0-203></a>    <span class=c1># sensitive information.</span>
<a id=__codelineno-0-204 name=__codelineno-0-204></a>    <span class=k>return</span> <span class=n>HttpResponseBadRequest</span><span class=p>(</span><span class=n>template</span><span class=o>.</span><span class=n>render</span><span class=p>(</span><span class=n>context</span><span class=p>))</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=firefighter.incidents.views.errors.page_not_found class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">page_not_found</span> <a href=#firefighter.incidents.views.errors.page_not_found class=headerlink title="Permanent link">¤</a></h4> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>page_not_found</span><span class=p>(</span><span class=n>request</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=django.http.HttpRequest href=https://docs.djangoproject.com/en/4.2/ref/request-response/#django.http.HttpRequest>HttpRequest</a></span><span class=p>,</span> <span class=n>exception</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/exceptions.html#Exception>Exception</a></span><span class=p>,</span> <span class=n>template_name</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span> <span class=o>=</span> <span class=n><span title=firefighter.incidents.views.errors.ERROR_404_TEMPLATE_NAME>ERROR_404_TEMPLATE_NAME</span></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" title=django.http.HttpResponse href=https://docs.djangoproject.com/en/4.2/ref/request-response/#django.http.HttpResponse>HttpResponse</a></span>
</code></pre></div> <div class="doc doc-contents "> <p>Default 404 handler.</p> <p>Templates: :template:<code>404.html</code> Context: request_path The path of the requested URL (e.g., '/app/pages/bad_page/'). It's quoted to prevent a content injection attack. exception The message from the exception which triggered the 404 (if one was supplied), or the exception class name</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/views/errors.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-67> 67</a></span>
<span class=normal><a href=#__codelineno-0-68> 68</a></span>
<span class=normal><a href=#__codelineno-0-69> 69</a></span>
<span class=normal><a href=#__codelineno-0-70> 70</a></span>
<span class=normal><a href=#__codelineno-0-71> 71</a></span>
<span class=normal><a href=#__codelineno-0-72> 72</a></span>
<span class=normal><a href=#__codelineno-0-73> 73</a></span>
<span class=normal><a href=#__codelineno-0-74> 74</a></span>
<span class=normal><a href=#__codelineno-0-75> 75</a></span>
<span class=normal><a href=#__codelineno-0-76> 76</a></span>
<span class=normal><a href=#__codelineno-0-77> 77</a></span>
<span class=normal><a href=#__codelineno-0-78> 78</a></span>
<span class=normal><a href=#__codelineno-0-79> 79</a></span>
<span class=normal><a href=#__codelineno-0-80> 80</a></span>
<span class=normal><a href=#__codelineno-0-81> 81</a></span>
<span class=normal><a href=#__codelineno-0-82> 82</a></span>
<span class=normal><a href=#__codelineno-0-83> 83</a></span>
<span class=normal><a href=#__codelineno-0-84> 84</a></span>
<span class=normal><a href=#__codelineno-0-85> 85</a></span>
<span class=normal><a href=#__codelineno-0-86> 86</a></span>
<span class=normal><a href=#__codelineno-0-87> 87</a></span>
<span class=normal><a href=#__codelineno-0-88> 88</a></span>
<span class=normal><a href=#__codelineno-0-89> 89</a></span>
<span class=normal><a href=#__codelineno-0-90> 90</a></span>
<span class=normal><a href=#__codelineno-0-91> 91</a></span>
<span class=normal><a href=#__codelineno-0-92> 92</a></span>
<span class=normal><a href=#__codelineno-0-93> 93</a></span>
<span class=normal><a href=#__codelineno-0-94> 94</a></span>
<span class=normal><a href=#__codelineno-0-95> 95</a></span>
<span class=normal><a href=#__codelineno-0-96> 96</a></span>
<span class=normal><a href=#__codelineno-0-97> 97</a></span>
<span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span>
<span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span>
<span class=normal><a href=#__codelineno-0-110>110</a></span>
<span class=normal><a href=#__codelineno-0-111>111</a></span>
<span class=normal><a href=#__codelineno-0-112>112</a></span>
<span class=normal><a href=#__codelineno-0-113>113</a></span>
<span class=normal><a href=#__codelineno-0-114>114</a></span>
<span class=normal><a href=#__codelineno-0-115>115</a></span>
<span class=normal><a href=#__codelineno-0-116>116</a></span>
<span class=normal><a href=#__codelineno-0-117>117</a></span>
<span class=normal><a href=#__codelineno-0-118>118</a></span>
<span class=normal><a href=#__codelineno-0-119>119</a></span>
<span class=normal><a href=#__codelineno-0-120>120</a></span>
<span class=normal><a href=#__codelineno-0-121>121</a></span>
<span class=normal><a href=#__codelineno-0-122>122</a></span>
<span class=normal><a href=#__codelineno-0-123>123</a></span>
<span class=normal><a href=#__codelineno-0-124>124</a></span>
<span class=normal><a href=#__codelineno-0-125>125</a></span>
<span class=normal><a href=#__codelineno-0-126>126</a></span>
<span class=normal><a href=#__codelineno-0-127>127</a></span>
<span class=normal><a href=#__codelineno-0-128>128</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-67 name=__codelineno-0-67></a><span class=nd>@requires_csrf_token</span>
<a id=__codelineno-0-68 name=__codelineno-0-68></a><span class=k>def</span><span class=w> </span><span class=nf>page_not_found</span><span class=p>(</span>
<a id=__codelineno-0-69 name=__codelineno-0-69></a>    <span class=n>request</span><span class=p>:</span> <span class=n>HttpRequest</span><span class=p>,</span>
<a id=__codelineno-0-70 name=__codelineno-0-70></a>    <span class=n>exception</span><span class=p>:</span> <span class=ne>Exception</span><span class=p>,</span>
<a id=__codelineno-0-71 name=__codelineno-0-71></a>    <span class=n>template_name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>ERROR_404_TEMPLATE_NAME</span><span class=p>,</span>
<a id=__codelineno-0-72 name=__codelineno-0-72></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>HttpResponse</span><span class=p>:</span>
<a id=__codelineno-0-73 name=__codelineno-0-73></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Default 404 handler.</span>
<a id=__codelineno-0-74 name=__codelineno-0-74></a>
<a id=__codelineno-0-75 name=__codelineno-0-75></a><span class=sd>    Templates: :template:`404.html`</span>
<a id=__codelineno-0-76 name=__codelineno-0-76></a><span class=sd>    Context:</span>
<a id=__codelineno-0-77 name=__codelineno-0-77></a><span class=sd>        request_path</span>
<a id=__codelineno-0-78 name=__codelineno-0-78></a><span class=sd>            The path of the requested URL (e.g., &#39;/app/pages/bad_page/&#39;). It&#39;s</span>
<a id=__codelineno-0-79 name=__codelineno-0-79></a><span class=sd>            quoted to prevent a content injection attack.</span>
<a id=__codelineno-0-80 name=__codelineno-0-80></a><span class=sd>        exception</span>
<a id=__codelineno-0-81 name=__codelineno-0-81></a><span class=sd>            The message from the exception which triggered the 404 (if one was</span>
<a id=__codelineno-0-82 name=__codelineno-0-82></a><span class=sd>            supplied), or the exception class name</span>
<a id=__codelineno-0-83 name=__codelineno-0-83></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-84 name=__codelineno-0-84></a>    <span class=k>if</span> <span class=p>(</span>
<a id=__codelineno-0-85 name=__codelineno-0-85></a>        <span class=n>request</span><span class=o>.</span><span class=n>headers</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;Accept&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span> <span class=o>==</span> <span class=n>JSON_CONTENT_TYPE</span>
<a id=__codelineno-0-86 name=__codelineno-0-86></a>        <span class=ow>or</span> <span class=n>request</span><span class=o>.</span><span class=n>headers</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;Content-Type&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span> <span class=o>==</span> <span class=n>JSON_CONTENT_TYPE</span>
<a id=__codelineno-0-87 name=__codelineno-0-87></a>    <span class=p>):</span>
<a id=__codelineno-0-88 name=__codelineno-0-88></a>        <span class=k>return</span> <span class=n>JsonHttpResponseNotFound</span><span class=p>({</span>
<a id=__codelineno-0-89 name=__codelineno-0-89></a>            <span class=s2>&quot;error&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;app_code&quot;</span><span class=p>:</span> <span class=s2>&quot;NOT_FOUND&quot;</span><span class=p>,</span> <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;Page not found&quot;</span><span class=p>}</span>
<a id=__codelineno-0-90 name=__codelineno-0-90></a>        <span class=p>})</span>
<a id=__codelineno-0-91 name=__codelineno-0-91></a>    <span class=n>exception_repr</span> <span class=o>=</span> <span class=n>exception</span><span class=o>.</span><span class=vm>__class__</span><span class=o>.</span><span class=vm>__name__</span>
<a id=__codelineno-0-92 name=__codelineno-0-92></a>    <span class=c1># Try to get an &quot;interesting&quot; exception message, if any (and not the ugly</span>
<a id=__codelineno-0-93 name=__codelineno-0-93></a>    <span class=c1># Resolver404 dictionary)</span>
<a id=__codelineno-0-94 name=__codelineno-0-94></a>    <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-0-95 name=__codelineno-0-95></a>        <span class=n>message</span> <span class=o>=</span> <span class=n>exception</span><span class=o>.</span><span class=n>args</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=k>if</span> <span class=n>exception</span><span class=o>.</span><span class=n>args</span> <span class=k>else</span> <span class=s2>&quot;&quot;</span>
<a id=__codelineno-0-96 name=__codelineno-0-96></a>    <span class=k>except</span> <span class=p>(</span><span class=ne>AttributeError</span><span class=p>,</span> <span class=ne>IndexError</span><span class=p>):</span>
<a id=__codelineno-0-97 name=__codelineno-0-97></a>        <span class=n>logger</span><span class=o>.</span><span class=n>exception</span><span class=p>(</span><span class=s2>&quot;Error in page_not_found&quot;</span><span class=p>)</span>
<a id=__codelineno-0-98 name=__codelineno-0-98></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-0-99 name=__codelineno-0-99></a>        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>message</span><span class=p>,</span> <span class=nb>str</span><span class=p>):</span>
<a id=__codelineno-0-100 name=__codelineno-0-100></a>            <span class=n>exception_repr</span> <span class=o>=</span> <span class=n>message</span>
<a id=__codelineno-0-101 name=__codelineno-0-101></a>    <span class=n>context</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-0-102 name=__codelineno-0-102></a>        <span class=s2>&quot;request_path&quot;</span><span class=p>:</span> <span class=n>quote</span><span class=p>(</span><span class=n>request</span><span class=o>.</span><span class=n>path</span><span class=p>),</span>
<a id=__codelineno-0-103 name=__codelineno-0-103></a>        <span class=s2>&quot;exception&quot;</span><span class=p>:</span> <span class=n>exception_repr</span><span class=p>,</span>
<a id=__codelineno-0-104 name=__codelineno-0-104></a>        <span class=s2>&quot;page_title&quot;</span><span class=p>:</span> <span class=s2>&quot;Page not found&quot;</span><span class=p>,</span>
<a id=__codelineno-0-105 name=__codelineno-0-105></a>        <span class=s2>&quot;title&quot;</span><span class=p>:</span> <span class=s2>&quot;Page not found&quot;</span><span class=p>,</span>
<a id=__codelineno-0-106 name=__codelineno-0-106></a>        <span class=s2>&quot;code&quot;</span><span class=p>:</span> <span class=s2>&quot;404&quot;</span><span class=p>,</span>
<a id=__codelineno-0-107 name=__codelineno-0-107></a>        <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;Please check the URL in the address bar and try again.&quot;</span><span class=p>,</span>
<a id=__codelineno-0-108 name=__codelineno-0-108></a>    <span class=p>}</span>
<a id=__codelineno-0-109 name=__codelineno-0-109></a>
<a id=__codelineno-0-110 name=__codelineno-0-110></a>    <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-0-111 name=__codelineno-0-111></a>        <span class=n>template</span> <span class=o>=</span> <span class=n>loader</span><span class=o>.</span><span class=n>get_template</span><span class=p>(</span><span class=n>template_name</span><span class=p>)</span>
<a id=__codelineno-0-112 name=__codelineno-0-112></a>        <span class=n>body</span> <span class=o>=</span> <span class=n>template</span><span class=o>.</span><span class=n>render</span><span class=p>(</span><span class=n>context</span><span class=p>,</span> <span class=n>request</span><span class=p>)</span>
<a id=__codelineno-0-113 name=__codelineno-0-113></a>    <span class=k>except</span> <span class=n>TemplateDoesNotExist</span><span class=p>:</span>
<a id=__codelineno-0-114 name=__codelineno-0-114></a>        <span class=k>if</span> <span class=n>template_name</span> <span class=o>!=</span> <span class=n>ERROR_404_TEMPLATE_NAME</span><span class=p>:</span>
<a id=__codelineno-0-115 name=__codelineno-0-115></a>            <span class=c1># Reraise if it&#39;s a missing custom template.</span>
<a id=__codelineno-0-116 name=__codelineno-0-116></a>            <span class=k>raise</span>
<a id=__codelineno-0-117 name=__codelineno-0-117></a>        <span class=c1># Render template (even though there are no substitutions) to allow</span>
<a id=__codelineno-0-118 name=__codelineno-0-118></a>        <span class=c1># inspecting the context in tests.</span>
<a id=__codelineno-0-119 name=__codelineno-0-119></a>        <span class=n>template_backup</span> <span class=o>=</span> <span class=n>Engine</span><span class=p>()</span><span class=o>.</span><span class=n>from_string</span><span class=p>(</span>
<a id=__codelineno-0-120 name=__codelineno-0-120></a>            <span class=n>BACKUP_ERROR_PAGE_TEMPLATE</span>
<a id=__codelineno-0-121 name=__codelineno-0-121></a>            <span class=o>%</span> <span class=p>{</span>
<a id=__codelineno-0-122 name=__codelineno-0-122></a>                <span class=s2>&quot;title&quot;</span><span class=p>:</span> <span class=s2>&quot;Not Found&quot;</span><span class=p>,</span>
<a id=__codelineno-0-123 name=__codelineno-0-123></a>                <span class=s2>&quot;details&quot;</span><span class=p>:</span> <span class=s2>&quot;The requested resource was not found on this server.&quot;</span><span class=p>,</span>
<a id=__codelineno-0-124 name=__codelineno-0-124></a>            <span class=p>},</span>
<a id=__codelineno-0-125 name=__codelineno-0-125></a>        <span class=p>)</span>
<a id=__codelineno-0-126 name=__codelineno-0-126></a>
<a id=__codelineno-0-127 name=__codelineno-0-127></a>        <span class=n>body</span> <span class=o>=</span> <span class=n>template_backup</span><span class=o>.</span><span class=n>render</span><span class=p>(</span><span class=n>Context</span><span class=p>(</span><span class=n>context</span><span class=p>))</span>
<a id=__codelineno-0-128 name=__codelineno-0-128></a>    <span class=k>return</span> <span class=n>HttpResponseNotFound</span><span class=p>(</span><span class=n>body</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=firefighter.incidents.views.errors.permission_denied class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">permission_denied</span> <a href=#firefighter.incidents.views.errors.permission_denied class=headerlink title="Permanent link">¤</a></h4> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>permission_denied</span><span class=p>(</span><span class=n>request</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=django.http.HttpRequest href=https://docs.djangoproject.com/en/4.2/ref/request-response/#django.http.HttpRequest>HttpRequest</a></span><span class=p>,</span> <span class=n>exception</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/exceptions.html#Exception>Exception</a></span><span class=p>,</span> <span class=n>template_name</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span> <span class=o>=</span> <span class=n><span title=firefighter.incidents.views.errors.ERROR_403_TEMPLATE_NAME>ERROR_403_TEMPLATE_NAME</span></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" title=django.http.HttpResponse href=https://docs.djangoproject.com/en/4.2/ref/request-response/#django.http.HttpResponse>HttpResponse</a></span>
</code></pre></div> <div class="doc doc-contents "> <p>Permission denied (403) handler.</p> <p>Templates: :template:<code>403.html</code> Context: exception The message from the exception which triggered the 403 (if one was supplied).</p> <p>If the template does not exist, an HTTP 403 response containing the text "403 Forbidden" (as per RFC 7231) will be returned.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/views/errors.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-207>207</a></span>
<span class=normal><a href=#__codelineno-0-208>208</a></span>
<span class=normal><a href=#__codelineno-0-209>209</a></span>
<span class=normal><a href=#__codelineno-0-210>210</a></span>
<span class=normal><a href=#__codelineno-0-211>211</a></span>
<span class=normal><a href=#__codelineno-0-212>212</a></span>
<span class=normal><a href=#__codelineno-0-213>213</a></span>
<span class=normal><a href=#__codelineno-0-214>214</a></span>
<span class=normal><a href=#__codelineno-0-215>215</a></span>
<span class=normal><a href=#__codelineno-0-216>216</a></span>
<span class=normal><a href=#__codelineno-0-217>217</a></span>
<span class=normal><a href=#__codelineno-0-218>218</a></span>
<span class=normal><a href=#__codelineno-0-219>219</a></span>
<span class=normal><a href=#__codelineno-0-220>220</a></span>
<span class=normal><a href=#__codelineno-0-221>221</a></span>
<span class=normal><a href=#__codelineno-0-222>222</a></span>
<span class=normal><a href=#__codelineno-0-223>223</a></span>
<span class=normal><a href=#__codelineno-0-224>224</a></span>
<span class=normal><a href=#__codelineno-0-225>225</a></span>
<span class=normal><a href=#__codelineno-0-226>226</a></span>
<span class=normal><a href=#__codelineno-0-227>227</a></span>
<span class=normal><a href=#__codelineno-0-228>228</a></span>
<span class=normal><a href=#__codelineno-0-229>229</a></span>
<span class=normal><a href=#__codelineno-0-230>230</a></span>
<span class=normal><a href=#__codelineno-0-231>231</a></span>
<span class=normal><a href=#__codelineno-0-232>232</a></span>
<span class=normal><a href=#__codelineno-0-233>233</a></span>
<span class=normal><a href=#__codelineno-0-234>234</a></span>
<span class=normal><a href=#__codelineno-0-235>235</a></span>
<span class=normal><a href=#__codelineno-0-236>236</a></span>
<span class=normal><a href=#__codelineno-0-237>237</a></span>
<span class=normal><a href=#__codelineno-0-238>238</a></span>
<span class=normal><a href=#__codelineno-0-239>239</a></span>
<span class=normal><a href=#__codelineno-0-240>240</a></span>
<span class=normal><a href=#__codelineno-0-241>241</a></span>
<span class=normal><a href=#__codelineno-0-242>242</a></span>
<span class=normal><a href=#__codelineno-0-243>243</a></span>
<span class=normal><a href=#__codelineno-0-244>244</a></span>
<span class=normal><a href=#__codelineno-0-245>245</a></span>
<span class=normal><a href=#__codelineno-0-246>246</a></span>
<span class=normal><a href=#__codelineno-0-247>247</a></span>
<span class=normal><a href=#__codelineno-0-248>248</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-207 name=__codelineno-0-207></a><span class=nd>@requires_csrf_token</span>
<a id=__codelineno-0-208 name=__codelineno-0-208></a><span class=k>def</span><span class=w> </span><span class=nf>permission_denied</span><span class=p>(</span>
<a id=__codelineno-0-209 name=__codelineno-0-209></a>    <span class=n>request</span><span class=p>:</span> <span class=n>HttpRequest</span><span class=p>,</span>
<a id=__codelineno-0-210 name=__codelineno-0-210></a>    <span class=n>exception</span><span class=p>:</span> <span class=ne>Exception</span><span class=p>,</span>
<a id=__codelineno-0-211 name=__codelineno-0-211></a>    <span class=n>template_name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>ERROR_403_TEMPLATE_NAME</span><span class=p>,</span>
<a id=__codelineno-0-212 name=__codelineno-0-212></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>HttpResponse</span><span class=p>:</span>
<a id=__codelineno-0-213 name=__codelineno-0-213></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Permission denied (403) handler.</span>
<a id=__codelineno-0-214 name=__codelineno-0-214></a>
<a id=__codelineno-0-215 name=__codelineno-0-215></a><span class=sd>    Templates: :template:`403.html`</span>
<a id=__codelineno-0-216 name=__codelineno-0-216></a><span class=sd>    Context:</span>
<a id=__codelineno-0-217 name=__codelineno-0-217></a><span class=sd>        exception</span>
<a id=__codelineno-0-218 name=__codelineno-0-218></a><span class=sd>            The message from the exception which triggered the 403 (if one was</span>
<a id=__codelineno-0-219 name=__codelineno-0-219></a><span class=sd>            supplied).</span>
<a id=__codelineno-0-220 name=__codelineno-0-220></a>
<a id=__codelineno-0-221 name=__codelineno-0-221></a><span class=sd>    If the template does not exist, an HTTP 403 response containing the text</span>
<a id=__codelineno-0-222 name=__codelineno-0-222></a><span class=sd>    &quot;403 Forbidden&quot; (as per RFC 7231) will be returned.</span>
<a id=__codelineno-0-223 name=__codelineno-0-223></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-224 name=__codelineno-0-224></a>    <span class=k>if</span> <span class=p>(</span>
<a id=__codelineno-0-225 name=__codelineno-0-225></a>        <span class=n>request</span><span class=o>.</span><span class=n>headers</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;Accept&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span> <span class=o>==</span> <span class=n>JSON_CONTENT_TYPE</span>
<a id=__codelineno-0-226 name=__codelineno-0-226></a>        <span class=ow>or</span> <span class=n>request</span><span class=o>.</span><span class=n>headers</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;Content-Type&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span> <span class=o>==</span> <span class=n>JSON_CONTENT_TYPE</span>
<a id=__codelineno-0-227 name=__codelineno-0-227></a>    <span class=p>):</span>
<a id=__codelineno-0-228 name=__codelineno-0-228></a>        <span class=k>return</span> <span class=n>JsonHttpResponseForbidden</span><span class=p>({</span>
<a id=__codelineno-0-229 name=__codelineno-0-229></a>            <span class=s2>&quot;error&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;app_code&quot;</span><span class=p>:</span> <span class=s2>&quot;FORBIDDEN&quot;</span><span class=p>,</span> <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;Forbidden&quot;</span><span class=p>}</span>
<a id=__codelineno-0-230 name=__codelineno-0-230></a>        <span class=p>})</span>
<a id=__codelineno-0-231 name=__codelineno-0-231></a>    <span class=n>context</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-0-232 name=__codelineno-0-232></a>        <span class=s2>&quot;request_path&quot;</span><span class=p>:</span> <span class=n>quote</span><span class=p>(</span><span class=n>request</span><span class=o>.</span><span class=n>path</span><span class=p>),</span>
<a id=__codelineno-0-233 name=__codelineno-0-233></a>        <span class=s2>&quot;exception&quot;</span><span class=p>:</span> <span class=nb>str</span><span class=p>(</span><span class=n>exception</span><span class=p>),</span>
<a id=__codelineno-0-234 name=__codelineno-0-234></a>        <span class=s2>&quot;page_title&quot;</span><span class=p>:</span> <span class=s2>&quot;Forbidden&quot;</span><span class=p>,</span>
<a id=__codelineno-0-235 name=__codelineno-0-235></a>        <span class=s2>&quot;title&quot;</span><span class=p>:</span> <span class=s2>&quot;Forbidden&quot;</span><span class=p>,</span>
<a id=__codelineno-0-236 name=__codelineno-0-236></a>        <span class=s2>&quot;code&quot;</span><span class=p>:</span> <span class=s2>&quot;403&quot;</span><span class=p>,</span>
<a id=__codelineno-0-237 name=__codelineno-0-237></a>        <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;You do not have permission to access this page.&quot;</span><span class=p>,</span>
<a id=__codelineno-0-238 name=__codelineno-0-238></a>    <span class=p>}</span>
<a id=__codelineno-0-239 name=__codelineno-0-239></a>    <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-0-240 name=__codelineno-0-240></a>        <span class=n>template</span> <span class=o>=</span> <span class=n>loader</span><span class=o>.</span><span class=n>get_template</span><span class=p>(</span><span class=n>template_name</span><span class=p>)</span>
<a id=__codelineno-0-241 name=__codelineno-0-241></a>    <span class=k>except</span> <span class=n>TemplateDoesNotExist</span><span class=p>:</span>
<a id=__codelineno-0-242 name=__codelineno-0-242></a>        <span class=k>if</span> <span class=n>template_name</span> <span class=o>!=</span> <span class=n>ERROR_403_TEMPLATE_NAME</span><span class=p>:</span>
<a id=__codelineno-0-243 name=__codelineno-0-243></a>            <span class=c1># Reraise if it&#39;s a missing custom template.</span>
<a id=__codelineno-0-244 name=__codelineno-0-244></a>            <span class=k>raise</span>
<a id=__codelineno-0-245 name=__codelineno-0-245></a>        <span class=k>return</span> <span class=n>HttpResponseForbidden</span><span class=p>(</span>
<a id=__codelineno-0-246 name=__codelineno-0-246></a>            <span class=n>BACKUP_ERROR_PAGE_TEMPLATE</span> <span class=o>%</span> <span class=p>{</span><span class=s2>&quot;title&quot;</span><span class=p>:</span> <span class=s2>&quot;403 Forbidden&quot;</span><span class=p>,</span> <span class=s2>&quot;details&quot;</span><span class=p>:</span> <span class=s2>&quot;&quot;</span><span class=p>},</span>
<a id=__codelineno-0-247 name=__codelineno-0-247></a>        <span class=p>)</span>
<a id=__codelineno-0-248 name=__codelineno-0-248></a>    <span class=k>return</span> <span class=n>HttpResponseForbidden</span><span class=p>(</span><span class=n>template</span><span class=o>.</span><span class=n>render</span><span class=p>(</span><span class=n>request</span><span class=o>=</span><span class=n>request</span><span class=p>,</span> <span class=n>context</span><span class=o>=</span><span class=n>context</span><span class=p>))</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h4 id=firefighter.incidents.views.errors.server_error class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-function"></code> <span class="doc doc-object-name doc-function-name">server_error</span> <a href=#firefighter.incidents.views.errors.server_error class=headerlink title="Permanent link">¤</a></h4> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>server_error</span><span class=p>(</span><span class=n>request</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=django.http.HttpRequest href=https://docs.djangoproject.com/en/4.2/ref/request-response/#django.http.HttpRequest>HttpRequest</a></span><span class=p>,</span> <span class=n>template_name</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span> <span class=o>=</span> <span class=n><span title=firefighter.incidents.views.errors.ERROR_500_TEMPLATE_NAME>ERROR_500_TEMPLATE_NAME</span></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" title=django.http.HttpResponse href=https://docs.djangoproject.com/en/4.2/ref/request-response/#django.http.HttpResponse>HttpResponse</a></span>
</code></pre></div> <div class="doc doc-contents "> <p>500 error handler.</p> <p>Templates: :template:<code>500.html</code> Context: None</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/views/errors.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-131>131</a></span>
<span class=normal><a href=#__codelineno-0-132>132</a></span>
<span class=normal><a href=#__codelineno-0-133>133</a></span>
<span class=normal><a href=#__codelineno-0-134>134</a></span>
<span class=normal><a href=#__codelineno-0-135>135</a></span>
<span class=normal><a href=#__codelineno-0-136>136</a></span>
<span class=normal><a href=#__codelineno-0-137>137</a></span>
<span class=normal><a href=#__codelineno-0-138>138</a></span>
<span class=normal><a href=#__codelineno-0-139>139</a></span>
<span class=normal><a href=#__codelineno-0-140>140</a></span>
<span class=normal><a href=#__codelineno-0-141>141</a></span>
<span class=normal><a href=#__codelineno-0-142>142</a></span>
<span class=normal><a href=#__codelineno-0-143>143</a></span>
<span class=normal><a href=#__codelineno-0-144>144</a></span>
<span class=normal><a href=#__codelineno-0-145>145</a></span>
<span class=normal><a href=#__codelineno-0-146>146</a></span>
<span class=normal><a href=#__codelineno-0-147>147</a></span>
<span class=normal><a href=#__codelineno-0-148>148</a></span>
<span class=normal><a href=#__codelineno-0-149>149</a></span>
<span class=normal><a href=#__codelineno-0-150>150</a></span>
<span class=normal><a href=#__codelineno-0-151>151</a></span>
<span class=normal><a href=#__codelineno-0-152>152</a></span>
<span class=normal><a href=#__codelineno-0-153>153</a></span>
<span class=normal><a href=#__codelineno-0-154>154</a></span>
<span class=normal><a href=#__codelineno-0-155>155</a></span>
<span class=normal><a href=#__codelineno-0-156>156</a></span>
<span class=normal><a href=#__codelineno-0-157>157</a></span>
<span class=normal><a href=#__codelineno-0-158>158</a></span>
<span class=normal><a href=#__codelineno-0-159>159</a></span>
<span class=normal><a href=#__codelineno-0-160>160</a></span>
<span class=normal><a href=#__codelineno-0-161>161</a></span>
<span class=normal><a href=#__codelineno-0-162>162</a></span>
<span class=normal><a href=#__codelineno-0-163>163</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-131 name=__codelineno-0-131></a><span class=nd>@requires_csrf_token</span>
<a id=__codelineno-0-132 name=__codelineno-0-132></a><span class=k>def</span><span class=w> </span><span class=nf>server_error</span><span class=p>(</span>
<a id=__codelineno-0-133 name=__codelineno-0-133></a>    <span class=n>request</span><span class=p>:</span> <span class=n>HttpRequest</span><span class=p>,</span> <span class=n>template_name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>ERROR_500_TEMPLATE_NAME</span>
<a id=__codelineno-0-134 name=__codelineno-0-134></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>HttpResponse</span><span class=p>:</span>
<a id=__codelineno-0-135 name=__codelineno-0-135></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;500 error handler.</span>
<a id=__codelineno-0-136 name=__codelineno-0-136></a>
<a id=__codelineno-0-137 name=__codelineno-0-137></a><span class=sd>    Templates: :template:`500.html`</span>
<a id=__codelineno-0-138 name=__codelineno-0-138></a><span class=sd>    Context: None</span>
<a id=__codelineno-0-139 name=__codelineno-0-139></a><span class=sd>    &quot;&quot;&quot;</span>
<a id=__codelineno-0-140 name=__codelineno-0-140></a>    <span class=n>context</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-0-141 name=__codelineno-0-141></a>        <span class=s2>&quot;page_title&quot;</span><span class=p>:</span> <span class=s2>&quot;Server error&quot;</span><span class=p>,</span>
<a id=__codelineno-0-142 name=__codelineno-0-142></a>        <span class=s2>&quot;title&quot;</span><span class=p>:</span> <span class=s2>&quot;Server error&quot;</span><span class=p>,</span>
<a id=__codelineno-0-143 name=__codelineno-0-143></a>        <span class=s2>&quot;code&quot;</span><span class=p>:</span> <span class=s2>&quot;500&quot;</span><span class=p>,</span>
<a id=__codelineno-0-144 name=__codelineno-0-144></a>        <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;Please try again later. This issue has been logged, but feel free to raise the issue.&quot;</span><span class=p>,</span>
<a id=__codelineno-0-145 name=__codelineno-0-145></a>        <span class=s2>&quot;APP_DISPLAY_NAME&quot;</span><span class=p>:</span> <span class=n>settings</span><span class=o>.</span><span class=n>APP_DISPLAY_NAME</span><span class=p>,</span>
<a id=__codelineno-0-146 name=__codelineno-0-146></a>    <span class=p>}</span>
<a id=__codelineno-0-147 name=__codelineno-0-147></a>    <span class=k>if</span> <span class=p>(</span>
<a id=__codelineno-0-148 name=__codelineno-0-148></a>        <span class=n>request</span><span class=o>.</span><span class=n>headers</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;Accept&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span> <span class=o>==</span> <span class=n>JSON_CONTENT_TYPE</span>
<a id=__codelineno-0-149 name=__codelineno-0-149></a>        <span class=ow>or</span> <span class=n>request</span><span class=o>.</span><span class=n>headers</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;Content-Type&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span> <span class=o>==</span> <span class=n>JSON_CONTENT_TYPE</span>
<a id=__codelineno-0-150 name=__codelineno-0-150></a>    <span class=p>):</span>
<a id=__codelineno-0-151 name=__codelineno-0-151></a>        <span class=k>return</span> <span class=n>JsonHttpResponseServerError</span><span class=p>({</span>
<a id=__codelineno-0-152 name=__codelineno-0-152></a>            <span class=s2>&quot;error&quot;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;app_code&quot;</span><span class=p>:</span> <span class=s2>&quot;SERVER_ERROR&quot;</span><span class=p>,</span> <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;Server error&quot;</span><span class=p>}</span>
<a id=__codelineno-0-153 name=__codelineno-0-153></a>        <span class=p>})</span>
<a id=__codelineno-0-154 name=__codelineno-0-154></a>    <span class=k>try</span><span class=p>:</span>
<a id=__codelineno-0-155 name=__codelineno-0-155></a>        <span class=n>template</span> <span class=o>=</span> <span class=n>loader</span><span class=o>.</span><span class=n>get_template</span><span class=p>(</span><span class=n>template_name</span><span class=p>)</span>
<a id=__codelineno-0-156 name=__codelineno-0-156></a>    <span class=k>except</span> <span class=n>TemplateDoesNotExist</span><span class=p>:</span>
<a id=__codelineno-0-157 name=__codelineno-0-157></a>        <span class=k>if</span> <span class=n>template_name</span> <span class=o>!=</span> <span class=n>ERROR_500_TEMPLATE_NAME</span><span class=p>:</span>
<a id=__codelineno-0-158 name=__codelineno-0-158></a>            <span class=c1># Reraise if it&#39;s a missing custom template.</span>
<a id=__codelineno-0-159 name=__codelineno-0-159></a>            <span class=k>raise</span>
<a id=__codelineno-0-160 name=__codelineno-0-160></a>        <span class=k>return</span> <span class=n>HttpResponseServerError</span><span class=p>(</span>
<a id=__codelineno-0-161 name=__codelineno-0-161></a>            <span class=n>BACKUP_ERROR_PAGE_TEMPLATE</span> <span class=o>%</span> <span class=p>{</span><span class=s2>&quot;title&quot;</span><span class=p>:</span> <span class=s2>&quot;Server Error (500)&quot;</span><span class=p>,</span> <span class=s2>&quot;details&quot;</span><span class=p>:</span> <span class=s2>&quot;&quot;</span><span class=p>},</span>
<a id=__codelineno-0-162 name=__codelineno-0-162></a>        <span class=p>)</span>
<a id=__codelineno-0-163 name=__codelineno-0-163></a>    <span class=k>return</span> <span class=n>HttpResponseServerError</span><span class=p>(</span><span class=n>template</span><span class=o>.</span><span class=n>render</span><span class=p>(</span><span class=n>context</span><span class=p>))</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h3 id=firefighter.incidents.views.users class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">users</span> <a href=#firefighter.incidents.views.users class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Modules:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            details (firefighter.incidents.views.users.details)" href=#firefighter.incidents.views.users.details>details</a></code></b> – <div class=doc-md-description> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-module"> <h4 id=firefighter.incidents.views.users.details class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">details</span> <a href=#firefighter.incidents.views.users.details class=headerlink title="Permanent link">¤</a></h4> <div class="doc doc-contents "> <p><span class=doc-section-title>Classes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            UserDetailView (firefighter.incidents.views.users.details.UserDetailView)" href=#firefighter.incidents.views.users.details.UserDetailView>UserDetailView</a></code></b> – <div class=doc-md-description> <p>In this view, be extra careful.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h5 id=firefighter.incidents.views.users.details.UserDetailView class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">UserDetailView</span> <a href=#firefighter.incidents.views.users.details.UserDetailView class=headerlink title="Permanent link">¤</a></h5> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="            CustomDetailView (firefighter.firefighter.views.CustomDetailView)" href=../firefighter/#firefighter.firefighter.views.CustomDetailView>CustomDetailView</a>[<a class="autorefs autorefs-internal" title="            User (firefighter.incidents.models.user.User)" href=#firefighter.incidents.models.user.User>User</a>]</code></p> <p>In this view, be extra careful.</p> <p>In this context, <code>user</code> is the logged_in user and <code>target_user</code> is the user of the profile being viewed.</p> <div class="doc doc-children"> </div> </div> </div> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h3 id=firefighter.incidents.views.views class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-module"></code> <span class="doc doc-object-name doc-module-name">views</span> <a href=#firefighter.incidents.views.views class=headerlink title="Permanent link">¤</a></h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Classes:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            DashboardView (firefighter.incidents.views.views.DashboardView)" href=#firefighter.incidents.views.views.DashboardView>DashboardView</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            IncidentListView (firefighter.incidents.views.views.IncidentListView)" href=#firefighter.incidents.views.views.IncidentListView>IncidentListView</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            IncidentStatisticsView (firefighter.incidents.views.views.IncidentStatisticsView)" href=#firefighter.incidents.views.views.IncidentStatisticsView>IncidentStatisticsView</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            IncidentUpdateKeyEventsView (firefighter.incidents.views.views.IncidentUpdateKeyEventsView)" href=#firefighter.incidents.views.views.IncidentUpdateKeyEventsView>IncidentUpdateKeyEventsView</a></code></b> – <div class=doc-md-description> </div> </li> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            ProcessAfterResponse (firefighter.incidents.views.views.ProcessAfterResponse)" href=#firefighter.incidents.views.views.ProcessAfterResponse>ProcessAfterResponse</a></code></b> – <div class=doc-md-description> <p>Custom Response, to trigger the Slack workflow after creating the incident and returning HTTP 201.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h4 id=firefighter.incidents.views.views.DashboardView class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">DashboardView</span> <a href=#firefighter.incidents.views.views.DashboardView class=headerlink title="Permanent link">¤</a></h4> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=django.views.generic.ListView>ListView</span>[<a class="autorefs autorefs-internal" title="            Incident (firefighter.incidents.models.incident.Incident)" href=#firefighter.incidents.models.incident.Incident>Incident</a>]</code></p> <p><span class=doc-section-title>Methods:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            get_context_data (firefighter.incidents.views.views.DashboardView.get_context_data)" href=#firefighter.incidents.views.views.DashboardView.get_context_data>get_context_data</a></code></b> – <div class=doc-md-description> <p>No *args to pass.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h5 id=firefighter.incidents.views.views.DashboardView.get_context_data class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_context_data</span> <a href=#firefighter.incidents.views.views.DashboardView.get_context_data class=headerlink title="Permanent link">¤</a></h5> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_context_data</span><span class=p>(</span><span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#dict>dict</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>No *args to pass.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/views/views.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-131>131</a></span>
<span class=normal><a href=#__codelineno-0-132>132</a></span>
<span class=normal><a href=#__codelineno-0-133>133</a></span>
<span class=normal><a href=#__codelineno-0-134>134</a></span>
<span class=normal><a href=#__codelineno-0-135>135</a></span>
<span class=normal><a href=#__codelineno-0-136>136</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-131 name=__codelineno-0-131></a><span class=k>def</span><span class=w> </span><span class=nf>get_context_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<a id=__codelineno-0-132 name=__codelineno-0-132></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;No *args to pass.&quot;&quot;&quot;</span>
<a id=__codelineno-0-133 name=__codelineno-0-133></a>    <span class=c1># Call the base implementation first to get a context</span>
<a id=__codelineno-0-134 name=__codelineno-0-134></a>    <span class=n>context</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>get_context_data</span><span class=p>(</span><span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
<a id=__codelineno-0-135 name=__codelineno-0-135></a>    <span class=n>context</span><span class=p>[</span><span class=s2>&quot;page_title&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;Incidents Dashboard&quot;</span>
<a id=__codelineno-0-136 name=__codelineno-0-136></a>    <span class=k>return</span> <span class=n>context</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h4 id=firefighter.incidents.views.views.IncidentListView class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">IncidentListView</span> <a href=#firefighter.incidents.views.views.IncidentListView class=headerlink title="Permanent link">¤</a></h4> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=django_tables2.views.SingleTableMixin>SingleTableMixin</span></code>, <code><span title=django_filters.views.FilterView>FilterView</span></code></p> <p><span class=doc-section-title>Methods:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            get_context_data (firefighter.incidents.views.views.IncidentListView.get_context_data)" href=#firefighter.incidents.views.views.IncidentListView.get_context_data>get_context_data</a></code></b> – <div class=doc-md-description> <p>No *args to pass.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h5 id=firefighter.incidents.views.views.IncidentListView.get_context_data class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_context_data</span> <a href=#firefighter.incidents.views.views.IncidentListView.get_context_data class=headerlink title="Permanent link">¤</a></h5> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_context_data</span><span class=p>(</span><span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#dict>dict</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>No *args to pass.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/views/views.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-59>59</a></span>
<span class=normal><a href=#__codelineno-0-60>60</a></span>
<span class=normal><a href=#__codelineno-0-61>61</a></span>
<span class=normal><a href=#__codelineno-0-62>62</a></span>
<span class=normal><a href=#__codelineno-0-63>63</a></span>
<span class=normal><a href=#__codelineno-0-64>64</a></span>
<span class=normal><a href=#__codelineno-0-65>65</a></span>
<span class=normal><a href=#__codelineno-0-66>66</a></span>
<span class=normal><a href=#__codelineno-0-67>67</a></span>
<span class=normal><a href=#__codelineno-0-68>68</a></span>
<span class=normal><a href=#__codelineno-0-69>69</a></span>
<span class=normal><a href=#__codelineno-0-70>70</a></span>
<span class=normal><a href=#__codelineno-0-71>71</a></span>
<span class=normal><a href=#__codelineno-0-72>72</a></span>
<span class=normal><a href=#__codelineno-0-73>73</a></span>
<span class=normal><a href=#__codelineno-0-74>74</a></span>
<span class=normal><a href=#__codelineno-0-75>75</a></span>
<span class=normal><a href=#__codelineno-0-76>76</a></span>
<span class=normal><a href=#__codelineno-0-77>77</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-59 name=__codelineno-0-59></a><span class=k>def</span><span class=w> </span><span class=nf>get_context_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<a id=__codelineno-0-60 name=__codelineno-0-60></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;No *args to pass.&quot;&quot;&quot;</span>
<a id=__codelineno-0-61 name=__codelineno-0-61></a>    <span class=c1># Call the base implementation first to get a context</span>
<a id=__codelineno-0-62 name=__codelineno-0-62></a>    <span class=n>context</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>get_context_data</span><span class=p>(</span><span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
<a id=__codelineno-0-63 name=__codelineno-0-63></a>    <span class=n>context</span><span class=p>[</span><span class=s2>&quot;page_range&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>context</span><span class=p>[</span><span class=s2>&quot;table&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>paginator</span><span class=o>.</span><span class=n>get_elided_page_range</span><span class=p>(</span>
<a id=__codelineno-0-64 name=__codelineno-0-64></a>        <span class=n>context</span><span class=p>[</span><span class=s2>&quot;table&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>page</span><span class=o>.</span><span class=n>number</span><span class=p>,</span> <span class=n>on_each_side</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=n>on_ends</span><span class=o>=</span><span class=mi>1</span>
<a id=__codelineno-0-65 name=__codelineno-0-65></a>    <span class=p>)</span>
<a id=__codelineno-0-66 name=__codelineno-0-66></a>    <span class=n>context</span><span class=p>[</span><span class=s2>&quot;filter_order&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-0-67 name=__codelineno-0-67></a>        <span class=s2>&quot;search&quot;</span><span class=p>,</span>
<a id=__codelineno-0-68 name=__codelineno-0-68></a>        <span class=s2>&quot;created_at&quot;</span><span class=p>,</span>
<a id=__codelineno-0-69 name=__codelineno-0-69></a>        <span class=s2>&quot;status&quot;</span><span class=p>,</span>
<a id=__codelineno-0-70 name=__codelineno-0-70></a>        <span class=s2>&quot;environment&quot;</span><span class=p>,</span>
<a id=__codelineno-0-71 name=__codelineno-0-71></a>        <span class=s2>&quot;priority&quot;</span><span class=p>,</span>
<a id=__codelineno-0-72 name=__codelineno-0-72></a>        <span class=s2>&quot;component&quot;</span><span class=p>,</span>
<a id=__codelineno-0-73 name=__codelineno-0-73></a>    <span class=p>]</span>
<a id=__codelineno-0-74 name=__codelineno-0-74></a>
<a id=__codelineno-0-75 name=__codelineno-0-75></a>    <span class=n>context</span><span class=p>[</span><span class=s2>&quot;page_title&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;Incidents List&quot;</span>
<a id=__codelineno-0-76 name=__codelineno-0-76></a>    <span class=n>context</span><span class=p>[</span><span class=s2>&quot;api_url_export&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>reverse</span><span class=p>(</span><span class=s2>&quot;api:incidents-list&quot;</span><span class=p>)</span>
<a id=__codelineno-0-77 name=__codelineno-0-77></a>    <span class=k>return</span> <span class=n>context</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h4 id=firefighter.incidents.views.views.IncidentStatisticsView class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">IncidentStatisticsView</span> <a href=#firefighter.incidents.views.views.IncidentStatisticsView class=headerlink title="Permanent link">¤</a></h4> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=django_filters.views.FilterView>FilterView</span></code></p> <p><span class=doc-section-title>Methods:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            get_context_data (firefighter.incidents.views.views.IncidentStatisticsView.get_context_data)" href=#firefighter.incidents.views.views.IncidentStatisticsView.get_context_data>get_context_data</a></code></b> – <div class=doc-md-description> <p>No *args to pass.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h5 id=firefighter.incidents.views.views.IncidentStatisticsView.get_context_data class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_context_data</span> <a href=#firefighter.incidents.views.views.IncidentStatisticsView.get_context_data class=headerlink title="Permanent link">¤</a></h5> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_context_data</span><span class=p>(</span><span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#dict>dict</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>]</span>
</code></pre></div> <div class="doc doc-contents "> <p>No *args to pass.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/views/views.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-98> 98</a></span>
<span class=normal><a href=#__codelineno-0-99> 99</a></span>
<span class=normal><a href=#__codelineno-0-100>100</a></span>
<span class=normal><a href=#__codelineno-0-101>101</a></span>
<span class=normal><a href=#__codelineno-0-102>102</a></span>
<span class=normal><a href=#__codelineno-0-103>103</a></span>
<span class=normal><a href=#__codelineno-0-104>104</a></span>
<span class=normal><a href=#__codelineno-0-105>105</a></span>
<span class=normal><a href=#__codelineno-0-106>106</a></span>
<span class=normal><a href=#__codelineno-0-107>107</a></span>
<span class=normal><a href=#__codelineno-0-108>108</a></span>
<span class=normal><a href=#__codelineno-0-109>109</a></span>
<span class=normal><a href=#__codelineno-0-110>110</a></span>
<span class=normal><a href=#__codelineno-0-111>111</a></span>
<span class=normal><a href=#__codelineno-0-112>112</a></span>
<span class=normal><a href=#__codelineno-0-113>113</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-98 name=__codelineno-0-98></a><span class=k>def</span><span class=w> </span><span class=nf>get_context_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<a id=__codelineno-0-99 name=__codelineno-0-99></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;No *args to pass.&quot;&quot;&quot;</span>
<a id=__codelineno-0-100 name=__codelineno-0-100></a>    <span class=n>context</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>get_context_data</span><span class=p>(</span><span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
<a id=__codelineno-0-101 name=__codelineno-0-101></a>    <span class=n>context</span><span class=p>[</span><span class=s2>&quot;page_title&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;Statistics&quot;</span>
<a id=__codelineno-0-102 name=__codelineno-0-102></a>    <span class=n>context</span><span class=p>[</span><span class=s2>&quot;filter_order&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-0-103 name=__codelineno-0-103></a>        <span class=s2>&quot;search&quot;</span><span class=p>,</span>
<a id=__codelineno-0-104 name=__codelineno-0-104></a>        <span class=s2>&quot;created_at&quot;</span><span class=p>,</span>
<a id=__codelineno-0-105 name=__codelineno-0-105></a>        <span class=s2>&quot;status&quot;</span><span class=p>,</span>
<a id=__codelineno-0-106 name=__codelineno-0-106></a>        <span class=s2>&quot;environment&quot;</span><span class=p>,</span>
<a id=__codelineno-0-107 name=__codelineno-0-107></a>        <span class=s2>&quot;priority&quot;</span><span class=p>,</span>
<a id=__codelineno-0-108 name=__codelineno-0-108></a>        <span class=s2>&quot;component&quot;</span><span class=p>,</span>
<a id=__codelineno-0-109 name=__codelineno-0-109></a>    <span class=p>]</span>
<a id=__codelineno-0-110 name=__codelineno-0-110></a>    <span class=n>context_data</span> <span class=o>=</span> <span class=n>weekly_dashboard_context</span><span class=p>(</span>
<a id=__codelineno-0-111 name=__codelineno-0-111></a>        <span class=bp>self</span><span class=o>.</span><span class=n>request</span><span class=p>,</span> <span class=n>context</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;incidents_filtered&quot;</span><span class=p>,</span> <span class=p>[])</span>
<a id=__codelineno-0-112 name=__codelineno-0-112></a>    <span class=p>)</span>
<a id=__codelineno-0-113 name=__codelineno-0-113></a>    <span class=k>return</span> <span class=p>{</span><span class=o>**</span><span class=n>context</span><span class=p>,</span> <span class=o>**</span><span class=n>context_data</span><span class=p>}</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h4 id=firefighter.incidents.views.views.IncidentUpdateKeyEventsView class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">IncidentUpdateKeyEventsView</span> <a href=#firefighter.incidents.views.views.IncidentUpdateKeyEventsView class=headerlink title="Permanent link">¤</a></h4> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-external" title=django.views.generic.detail.SingleObjectMixin href=https://docs.djangoproject.com/en/4.2/ref/class-based-views/mixins-single-object/#django.views.generic.detail.SingleObjectMixin>SingleObjectMixin</a>[<a class="autorefs autorefs-internal" title="            Incident (firefighter.incidents.models.incident.Incident)" href=#firefighter.incidents.models.incident.Incident>Incident</a>]</code>, <code><a class="autorefs autorefs-external" title=django.contrib.auth.mixins.LoginRequiredMixin href=https://docs.djangoproject.com/en/4.2/topics/auth/default/#django.contrib.auth.mixins.LoginRequiredMixin>LoginRequiredMixin</a></code>, <code><span title=django.views.generic.FormView>FormView</span>[<a class="autorefs autorefs-internal" title="            IncidentUpdateKeyEventsForm (firefighter.incidents.forms.update_key_events.IncidentUpdateKeyEventsForm)" href=#firefighter.incidents.forms.update_key_events.IncidentUpdateKeyEventsForm>IncidentUpdateKeyEventsForm</a>]</code></p> <p><span class=doc-section-title>Methods:</span></p> <ul> <li class="doc-section-item field-body"> <b><code><a class="autorefs autorefs-internal" title="            get_form (firefighter.incidents.views.views.IncidentUpdateKeyEventsView.get_form)" href=#firefighter.incidents.views.views.IncidentUpdateKeyEventsView.get_form>get_form</a></code></b> – <div class=doc-md-description> <p>Replace Markdown bold syntax with HTML bold syntax in form labels.</p> </div> </li> </ul> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h5 id=firefighter.incidents.views.views.IncidentUpdateKeyEventsView.get_form class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_form</span> <a href=#firefighter.incidents.views.views.IncidentUpdateKeyEventsView.get_form class=headerlink title="Permanent link">¤</a></h5> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>get_form</span><span class=p>(</span><span class=n>form_class</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/functions.html#type>type</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-internal" title="            IncidentUpdateKeyEventsForm (firefighter.incidents.forms.update_key_events.IncidentUpdateKeyEventsForm)" href=#firefighter.incidents.forms.update_key_events.IncidentUpdateKeyEventsForm>IncidentUpdateKeyEventsForm</a></span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n><a class="autorefs autorefs-internal" title="            IncidentUpdateKeyEventsForm (firefighter.incidents.forms.update_key_events.IncidentUpdateKeyEventsForm)" href=#firefighter.incidents.forms.update_key_events.IncidentUpdateKeyEventsForm>IncidentUpdateKeyEventsForm</a></span>
</code></pre></div> <div class="doc doc-contents "> <p>Replace Markdown bold syntax with HTML bold syntax in form labels.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/views/views.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-234>234</a></span>
<span class=normal><a href=#__codelineno-0-235>235</a></span>
<span class=normal><a href=#__codelineno-0-236>236</a></span>
<span class=normal><a href=#__codelineno-0-237>237</a></span>
<span class=normal><a href=#__codelineno-0-238>238</a></span>
<span class=normal><a href=#__codelineno-0-239>239</a></span>
<span class=normal><a href=#__codelineno-0-240>240</a></span>
<span class=normal><a href=#__codelineno-0-241>241</a></span>
<span class=normal><a href=#__codelineno-0-242>242</a></span>
<span class=normal><a href=#__codelineno-0-243>243</a></span>
<span class=normal><a href=#__codelineno-0-244>244</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-234 name=__codelineno-0-234></a><span class=k>def</span><span class=w> </span><span class=nf>get_form</span><span class=p>(</span>
<a id=__codelineno-0-235 name=__codelineno-0-235></a>    <span class=bp>self</span><span class=p>,</span> <span class=n>form_class</span><span class=p>:</span> <span class=nb>type</span><span class=p>[</span><span class=n>IncidentUpdateKeyEventsForm</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span>
<a id=__codelineno-0-236 name=__codelineno-0-236></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>IncidentUpdateKeyEventsForm</span><span class=p>:</span>
<a id=__codelineno-0-237 name=__codelineno-0-237></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;Replace Markdown bold syntax with HTML bold syntax in form labels.&quot;&quot;&quot;</span>
<a id=__codelineno-0-238 name=__codelineno-0-238></a>    <span class=n>form</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>get_form</span><span class=p>(</span><span class=n>form_class</span><span class=p>)</span>
<a id=__codelineno-0-239 name=__codelineno-0-239></a>    <span class=k>for</span> <span class=n>field</span> <span class=ow>in</span> <span class=n>form</span><span class=o>.</span><span class=n>fields</span><span class=p>:</span>
<a id=__codelineno-0-240 name=__codelineno-0-240></a>        <span class=c1># Replace *ABC* with &lt;bold&gt;ABC&lt;/bold&gt;</span>
<a id=__codelineno-0-241 name=__codelineno-0-241></a>        <span class=n>form</span><span class=o>.</span><span class=n>fields</span><span class=p>[</span><span class=n>field</span><span class=p>]</span><span class=o>.</span><span class=n>label</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>sub</span><span class=p>(</span>
<a id=__codelineno-0-242 name=__codelineno-0-242></a>            <span class=sa>r</span><span class=s2>&quot;\*(.*?)\*&quot;</span><span class=p>,</span> <span class=sa>r</span><span class=s2>&quot;&lt;b&gt;\1&lt;/b&gt;&quot;</span><span class=p>,</span> <span class=nb>str</span><span class=p>(</span><span class=n>form</span><span class=o>.</span><span class=n>fields</span><span class=p>[</span><span class=n>field</span><span class=p>]</span><span class=o>.</span><span class=n>label</span><span class=p>)</span>
<a id=__codelineno-0-243 name=__codelineno-0-243></a>        <span class=p>)</span>
<a id=__codelineno-0-244 name=__codelineno-0-244></a>    <span class=k>return</span> <span class=n>form</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h4 id=firefighter.incidents.views.views.ProcessAfterResponse class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">ProcessAfterResponse</span> <a href=#firefighter.incidents.views.views.ProcessAfterResponse class=headerlink title="Permanent link">¤</a></h4> <div class="doc-signature highlight"><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nf>ProcessAfterResponse</span><span class=p>(</span><span class=n>redirect_to</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#dict>dict</a></span><span class=p>[</span><span class=n><a class="autorefs autorefs-external" href=https://docs.python.org/3.12/library/stdtypes.html#str>str</a></span><span class=p>,</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>],</span> <span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n><a class="autorefs autorefs-external" title=typing.Any href=https://docs.python.org/3.12/library/typing.html#typing.Any>Any</a></span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-external" title=django.http.HttpResponseRedirect href=https://docs.djangoproject.com/en/4.2/ref/request-response/#django.http.HttpResponseRedirect>HttpResponseRedirect</a></code></p> <p>Custom Response, to trigger the Slack workflow after creating the incident and returning HTTP 201.</p> <p>TODO This does not work, the workflow is triggered before the response is sent. We need to do a celery task! TODO We need to redirect to the incident page or Slack conversation.</p> <details class=quote> <summary>Source code in <code>src/firefighter/incidents/views/views.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-285>285</a></span>
<span class=normal><a href=#__codelineno-0-286>286</a></span>
<span class=normal><a href=#__codelineno-0-287>287</a></span>
<span class=normal><a href=#__codelineno-0-288>288</a></span>
<span class=normal><a href=#__codelineno-0-289>289</a></span></pre></div></td><td class=code><div><pre><span></span><code><a id=__codelineno-0-285 name=__codelineno-0-285></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span>
<a id=__codelineno-0-286 name=__codelineno-0-286></a>    <span class=bp>self</span><span class=p>,</span> <span class=n>redirect_to</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>],</span> <span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span>
<a id=__codelineno-0-287 name=__codelineno-0-287></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<a id=__codelineno-0-288 name=__codelineno-0-288></a>    <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>redirect_to</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
<a id=__codelineno-0-289 name=__codelineno-0-289></a>    <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>data</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="December 2, 2023 12:03:18">December 2, 2023</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Contributors> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 4a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4"/></svg> </span> <nav> <a href=mailto:gabriel.dugny@manomano.com>Gabriel Dugny</a> </nav> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2021-2024 Colibri SAS </div> </div> <div class=md-social> <a href=https://github.com/ManoManoTech/firefighter-incident target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://pypi.org/project/firefighter-incident/ target=_blank rel=noopener title=pypi.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "../..", "features": ["content.action.edit", "content.action.view", "content.code.annotate", "content.tabs.link", "navigation.expand", "navigation.instant", "navigation.instant.progress", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "search.highlight", "search.share", "search.suggest"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": ["latest", "dev"], "provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.13a4f30d.min.js></script> <script src=../../assets/_markdown_exec_pyodide.js></script> </body> </html>